{
  "version": 3,
  "sources": [
    "contexts/PathContext.js",
    "api/resources.js",
    "contexts/AuthContext.js",
    "hooks/useAuth.js",
    "contexts/MailContext.js",
    "contexts/SearchContext.js",
    "contexts/ShoppingCartContext.js",
    "components/views/search/Prediction.js",
    "components/views/search/AutoComplete.js",
    "components/views/search/SearchInput.js",
    "utilities/getUserAgent.js",
    "utilities/toggleClass.js",
    "utilities/hideSearchBar.js",
    "utilities/getViewPortWidth.js",
    "utilities/setQueryString.js",
    "components/views/search/Catalog.js",
    "components/layout/Menu.js",
    "components/layout/AuthMenu.js",
    "components/layout/navbtn/SearchBtn.js",
    "components/layout/navbtn/MailBtn.js",
    "components/layout/navbtn/HamburgerBtn.js",
    "components/layout/navbtn/SignInBtn.js",
    "components/layout/Avatar.js",
    "components/layout/navbtn/AuthBtn.js",
    "components/layout/SidePanel.js",
    "components/layout/navbtn/ShoppingCartBtn.js",
    "components/layout/Navbar.js",
    "components/layout/navbtn/LogoBtn.js",
    "utilities/handleSearchBar.js",
    "components/layout/Header.js",
    "components/layout/Footer.js",
    "components/layout/Loading.js",
    "components/layout/Layout.js",
    "components/auth/RequireAuth.js",
    "components/auth/RequireNotAuth.js",
    "components/views/Store.js",
    "components/layout/AuthContextualNav.js",
    "components/views/AuthLanding.js",
    "components/views/search/Collection.js",
    "components/views/search/SearchAPI.js",
    "components/views/AuthPage.js",
    "utilities/capitalizeWord.js",
    "components/auth/forms/helpers/authErrorHandler.js",
    "components/auth/forms/Login.js",
    "components/auth/forms/RequirementMessage.js",
    "components/auth/forms/Requirements.js",
    "components/auth/forms/FormInput.js",
    "components/auth/forms/reducer/ACTIONS.js",
    "components/auth/forms/reducer/inputReducer.js",
    "components/auth/forms/Signup.js",
    "components/auth/Settings.js",
    "components/auth/ResetPassword.js",
    "components/views/Home.js",
    "components/views/Contact.js",
    "components/views/About.js",
    "components/views/Profile.js",
    "components/views/search/CardImage.js",
    "components/views/search/ExpandIcon.js",
    "components/views/search/CardImageSection.js",
    "components/views/search/ApiCardDetail.js",
    "components/views/search/CatalogCardDetail.js",
    "components/views/search/CollectionDetails.js",
    "components/views/search/CardDetailSection.js",
    "components/views/search/CatalogCardFooter.js",
    "components/views/search/CollectionCardFooter.js",
    "components/layout/Button.js",
    "components/views/search/ApiCardFooter.js",
    "components/views/search/Card.js",
    "assets/img/card_back.jpg",
    "components/views/search/Modal.js",
    "components/views/search/ExpandedCardContent.js",
    "components/views/search/Success.js",
    "components/views/search/helpers/editErrorHandler.js",
    "components/views/search/EditCard.js",
    "components/views/search/DeleteCard.js",
    "components/views/search/FlipIcon.js",
    "hooks/useModalUpdate.js",
    "components/views/search/SearchResult.js",
    "components/views/404.js",
    "components/views/search/CardNotFound.js",
    "components/views/CartItem.js",
    "components/views/ShoppingCart.js",
    "utilities/getPath.js",
    "components/views/mail/SideBar.js",
    "components/views/mail/MailHeader.js",
    "utilities/timestampConverter.js",
    "components/views/mail/Mail.js",
    "utilities/validateMessage.js",
    "hooks/useMessage.js",
    "components/views/mail/ComposeMessage.js",
    "components/views/mail/Message.js",
    "components/views/mail/Inbox.js",
    "App.js",
    "index.js"
  ],
  "names": [
    "PathContext",
    "createContext",
    "PathProvider",
    "children",
    "useState",
    "pathname",
    "setPathname",
    "Provider",
    "value",
    "api",
    "skryfallURL",
    "serverURL",
    "AuthContext",
    "AuthProvider",
    "auth",
    "setAuth",
    "unreadMail",
    "setUnreadMail",
    "location",
    "useLocation",
    "navigate",
    "useNavigate",
    "logoutAction",
    "localStorage",
    "clear",
    "useEffect",
    "jwt",
    "getItem",
    "token",
    "JSON",
    "parse",
    "atob",
    "split",
    "exp",
    "Date",
    "getTime",
    "parseJwt",
    "user",
    "useAuth",
    "useContext",
    "MailContext",
    "MailProvider",
    "sentMessages",
    "setSentMessages",
    "receivedMessages",
    "setReceivedMessages",
    "messages",
    "sent",
    "received",
    "SearchContext",
    "SearchProvider",
    "searchInput",
    "setSearchInput",
    "cardName",
    "setCardName",
    "searchTerm",
    "setSearchTerm",
    "apiCards",
    "setApiCards",
    "errorMessage",
    "setErrorMessage",
    "hasLoaded",
    "setHasLoaded",
    "displayAutcomplete",
    "setDisplayAutocomplete",
    "predictions",
    "setPredictions",
    "cardNames",
    "setCardNames",
    "loading",
    "setLoading",
    "marker",
    "setMarker",
    "filterUserCards",
    "cards",
    "filteredData",
    "forEach",
    "card",
    "userID",
    "id",
    "push",
    "filterCardNames",
    "includes",
    "name",
    "ShoppingCartContext",
    "ShoppingCartProvider",
    "cartItems",
    "setCartItems",
    "itemsCount",
    "setItemsCount",
    "setItem",
    "stringify",
    "quantity",
    "item",
    "parseInt",
    "quantity_selected",
    "length",
    "Prediction",
    "props",
    "prediction",
    "index",
    "Value",
    "firstIndex",
    "toLowerCase",
    "indexOf",
    "lastIndex",
    "head",
    "substring",
    "body",
    "tail",
    "className",
    "onMouseEnter",
    "e",
    "target",
    "classList",
    "add",
    "onMouseOut",
    "remove",
    "AutoComplete",
    "searchCard",
    "position",
    "setPosition",
    "ulRef",
    "useRef",
    "document",
    "addEventListener",
    "handleKeyDown",
    "removeEventListener",
    "current",
    "scrollTo",
    "top",
    "behavior",
    "key",
    "scrollIntoView",
    "onMouseDown",
    "ref",
    "map",
    "SearchInput",
    "forwardRef",
    "isActive",
    "inputRef",
    "type",
    "onChange",
    "filteredCardTitles",
    "filter",
    "title",
    "onFocus",
    "preventDefault",
    "onBlur",
    "placeholder",
    "userAgent",
    "window",
    "navigator",
    "toggleClass",
    "classname",
    "toggle",
    "hideSearchBar",
    "state",
    "getUserAgent",
    "querySelector",
    "click",
    "style",
    "width",
    "setProperty",
    "browserWidth",
    "clientWidth",
    "setQueryString",
    "string",
    "separator",
    "replaceAll",
    "replace",
    "join",
    "Catalog",
    "setIsActive",
    "catalogInputRef",
    "getViewPortWidth",
    "headers",
    "Headers",
    "append",
    "options",
    "method",
    "fetch",
    "then",
    "res",
    "json",
    "data",
    "catch",
    "error",
    "console",
    "log",
    "searchCatalog",
    "searchCatalogCard",
    "undefined",
    "blur",
    "query",
    "queryString",
    "encodeURIComponent",
    "status",
    "result",
    "searchType",
    "checked",
    "message",
    "errorType",
    "onSubmit",
    "Menu",
    "paths",
    "path",
    "to",
    "AuthMenu",
    "authPaths",
    "onClick",
    "Label",
    "styled",
    "label",
    "SearchBtn",
    "htmlFor",
    "size",
    "Div",
    "div",
    "Mail",
    "Link",
    "UnreadContainer",
    "Unread",
    "MailIcon",
    "HamburgerBtn",
    "SignInBtn",
    "Avatar",
    "avatar",
    "src",
    "alt",
    "letter",
    "AuthBtn",
    "panelRef",
    "backgroundColor",
    "color",
    "SidePanel",
    "CountContainer",
    "Count",
    "ShoppingCartBtn",
    "Navbar",
    "MailBtn",
    "Logo",
    "Anchor",
    "SVG",
    "Title",
    "Text",
    "LogoBtn",
    "handleSearchBar",
    "isOutsideEvent",
    "contains",
    "toLocaleLowerCase",
    "firefox",
    "focus",
    "left",
    "Header",
    "Footer",
    "Loading",
    "Layout",
    "RequireAuth",
    "from",
    "RequireNotAuth",
    "Store",
    "AuthContextualNav",
    "views",
    "view",
    "AuthLanding",
    "Collection",
    "collectionInputRef",
    "searchCollection",
    "ok",
    "dataObj",
    "searchCollectionCard",
    "part",
    "Search",
    "oracleID",
    "setOracleID",
    "setData",
    "apiInputRef",
    "fetchApiCards",
    "searchAPI",
    "oracle_id",
    "filteredCards",
    "digital",
    "finishes",
    "splice",
    "pop",
    "finish",
    "AuthPage",
    "useParams",
    "capitalizeWord",
    "word",
    "charAt",
    "toUpperCase",
    "authErrorHandler",
    "values",
    "inputs",
    "handles",
    "Object",
    "keys",
    "errors",
    "handle",
    "validity",
    "patternMismatch",
    "checkValidity",
    "INIT",
    "email",
    "password",
    "Login",
    "setValues",
    "setErrors",
    "isValidForm",
    "setIsValidForm",
    "isSubmit",
    "setIsSubmit",
    "setMessage",
    "showPassword",
    "setShowPassword",
    "emailRef",
    "passwordRef",
    "userInput",
    "trim",
    "Error",
    "payload",
    "destination",
    "setCustomValidity",
    "errorHandler",
    "handleChange",
    "handleFocus",
    "cloneErrors",
    "handleBlur",
    "inputErrors",
    "noValidate",
    "pattern",
    "RequirementMessage",
    "requirement",
    "fullfiled",
    "text",
    "Requirements",
    "inputState",
    "FormInput",
    "inputProps",
    "ACTIONS",
    "INPUT_CHANGE",
    "INPUT_FOCUS",
    "INPUT_BLUR",
    "INPUT_SUBMIT",
    "inputReducer",
    "inputStates",
    "action",
    "requirements",
    "updatedRequirements",
    "confirmPassword",
    "updateRequirements",
    "input",
    "changeHandler",
    "isConfirmPassword",
    "focusHandler",
    "RegExp",
    "test",
    "username",
    "country",
    "Signup",
    "usernameRef",
    "countryRef",
    "confirmPasswordRef",
    "refs",
    "useReducer",
    "reducer",
    "prop",
    "dispatch",
    "inputValues",
    "Settings",
    "ResetPassword",
    "Home",
    "href",
    "Contact",
    "About",
    "Profile",
    "CardImage",
    "attributes",
    "img",
    "Image",
    "onload",
    "ExpandIcon",
    "CardImageSection",
    "ApiCardDetail",
    "set_name",
    "released_at",
    "rarity",
    "frame",
    "collector_number",
    "artist",
    "CatalogCardDetail",
    "userName",
    "condition",
    "userCountry",
    "price",
    "sender",
    "subject",
    "CollectionDetails",
    "_is_published",
    "CardDetailSection",
    "rest",
    "CatalogCardFooter",
    "CollectionCardFooter",
    "handleClick",
    "Button",
    "disabled",
    "statue",
    "ApiCardFooter",
    "setAttributes",
    "selectedCard",
    "setSelectedCard",
    "attributesHandler",
    "attr",
    "Card",
    "ExpandedCard",
    "setExpandedCard",
    "image_uris",
    "card_faces",
    "imgAttributes",
    "small",
    "card_face",
    "createElement",
    "normal",
    "Modal",
    "open",
    "createPortal",
    "ExpandedCardContent",
    "transform",
    "setTimeout",
    "getElementsByClassName",
    "handleFlipCard",
    "Success",
    "response",
    "editErrorHandler",
    "language",
    "EditCard",
    "isUpdated",
    "setResponse",
    "btnRef",
    "priceRef",
    "conditionRef",
    "quantityRef",
    "languageRef",
    "commentRef",
    "publishedRef",
    "closeModal",
    "button",
    "parseFloat",
    "comment",
    "published",
    "datePublished",
    "now",
    "_id",
    "cardObj",
    "handleRadioChange",
    "handleSubmit",
    "updatedValues",
    "min",
    "max",
    "DeleteCard",
    "isDeleted",
    "cardID",
    "deleteHandler",
    "FlipIcon",
    "useModalUpdate",
    "callback",
    "component",
    "ImageComponent",
    "updateState",
    "SearchResult",
    "cardRef",
    "Promise",
    "all",
    "resolve",
    "reject",
    "image",
    "uri",
    "onerror",
    "loadImage",
    "expandedCard",
    "stopPropagation",
    "404",
    "CardNotFound",
    "Info",
    "DetailsContainer",
    "Details",
    "DetailsFooter",
    "footer",
    "DetailsHeader",
    "Selector",
    "Content",
    "header",
    "main",
    "aside",
    "ImageContainer",
    "CartItem",
    "setIsUpdating",
    "setQuantity",
    "png",
    "cartItem",
    "isQuantityAvailable",
    "items",
    "Array",
    "x",
    "i",
    "selected",
    "Items",
    "Container",
    "Aside",
    "CheckoutButton",
    "ShoppingCart",
    "totalItems",
    "setTotalItems",
    "subTotal",
    "setSubTotal",
    "isUpdating",
    "amount",
    "handleCheckout",
    "getPath",
    "url",
    "ListItem",
    "span",
    "ul",
    "li",
    "SideBar",
    "isTrash",
    "checkedState",
    "setMessages",
    "removeItem",
    "deleted",
    "updates",
    "toBeDeleted",
    "trashed",
    "border",
    "MailHeader",
    "h2",
    "timestampConverter",
    "longDate",
    "timestamp",
    "date",
    "day",
    "getDate",
    "month",
    "convertMonth",
    "getMonth",
    "year",
    "getFullYear",
    "shortDate",
    "standardize",
    "num",
    "toString",
    "setCurrentMessage",
    "isRead",
    "background",
    "read",
    "recipient",
    "validateMessage",
    "useForm",
    "validate",
    "isSubmitting",
    "setIsSubmitting",
    "Message",
    "recipientName",
    "setRecipientName",
    "setSubject",
    "setText",
    "messageID",
    "threadID",
    "isReply",
    "count",
    "setCount",
    "setColor",
    "isValid",
    "setIsValid",
    "errorMsg",
    "recipientField",
    "subjectField",
    "textField",
    "useMessage",
    "Detail",
    "p",
    "section",
    "a",
    "currentMessage",
    "setIsReadStatus",
    "isReadStatus",
    "setIsTrashStatus",
    "isSentMessage",
    "isSent",
    "isTrashStatus",
    "handleDeleteClick",
    "Messages",
    "Inbox",
    "setChecked",
    "setIsTrash",
    "setCheckedState",
    "fill",
    "isChecked",
    "find",
    "newCheckedState",
    "ComposeMessage",
    "App",
    "element",
    "exact",
    "ReactDOM",
    "render",
    "StrictMode",
    "getElementById"
  ],
  "mappings": "4TAEaA,EAAcC,wBAAc,MAE5BC,EAAe,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EAEZC,mBAAS,IAFG,mBAErCC,EAFqC,KAE3BC,EAF2B,KAI5C,OACE,cAACN,EAAYO,SAAb,CAAsBC,MAAO,CAAEH,WAAUC,eAAzC,SACGH,K,OCPMM,EAAM,CACjBC,YAAa,2BACbC,UAA0B,yCCAfC,EAAcX,wBAAc,MAE5BY,EAAe,SAAC,GAAkB,IAAhBV,EAAe,EAAfA,SAAe,EAGpBC,mBAAS,MAHW,mBAGrCU,EAHqC,KAG/BC,EAH+B,OAIhBX,oBAAS,GAJO,gCAKRA,mBAAS,OALD,mBAKrCY,EALqC,KAKzBC,EALyB,KAOtCC,EAAWC,cACXC,EAAWC,cAEXC,EAAe,WACnBC,aAAaC,QACbT,EAAQ,MACRK,EAAS,MAwDX,OAjBAK,qBAAU,WAER,IAAMC,EAAMH,aAAaI,QAAQ,SAEjC,GAAID,EAEF,GA1Ca,SAACE,GAIhB,OAAiB,IAFFC,KAAKC,MAAMC,KAAI,OAACH,QAAD,IAACA,OAAD,EAACA,EAAOI,MAAM,KAAK,KAEtCC,KAAa,IAAIC,MAAOC,UAqCdC,CAASV,GAE1BJ,SACK,GAAIC,aAAaI,QAAQ,QAAS,CACvC,IAAMU,EAAOR,KAAKC,MAAMP,aAAaI,QAAQ,SACvCC,EAAQC,KAAKC,MAAMP,aAAaI,QAAQ,UAC9CZ,EAAQ,2BAAKsB,GAAN,IAAYT,MAAOA,KAC1BR,EAASF,EAASb,aAGrB,IAGD,cAACO,EAAYL,SAAb,CAAsBC,MAAO,CAC3BM,OACAC,UACAC,aACAC,gBACAK,gBALF,SAOGnB,KC7EQmC,EAJC,WACZ,OAAOC,qBAAW3B,ICDT4B,EAAcvC,wBAAc,MAI5BwC,EAAe,SAAC,GAAkB,IAAhBtC,EAAe,EAAfA,SACrBW,EAASwB,IAATxB,KADoC,EAEJV,mBAAS,IAFL,mBAErCsC,EAFqC,KAEvBC,EAFuB,OAGIvC,mBAAS,IAHb,mBAGrCwC,EAHqC,KAGnBC,EAHmB,KAa5C,OAPApB,qBAAU,WACG,IAAD,IAANX,IACF6B,EAAe,UAAC7B,EAAKgC,gBAAN,aAAC,EAAeC,MAC/BF,EAAmB,UAAC/B,EAAKgC,gBAAN,aAAC,EAAeE,aAEpC,CAAClC,IAGF,cAAC0B,EAAYjC,SAAb,CACEC,MAAO,CACLmC,kBACAD,eACAG,sBACAD,oBALJ,SAQGzC,KC3BM8C,EAAgBhD,wBAAc,MAE9BiD,EAAiB,SAAC,GAAkB,IAAhB/C,EAAe,EAAfA,SAAe,EACRC,mBAAS,MADD,mBACvC+C,EADuC,KAC1BC,EAD0B,OAEdhD,mBAAS,IAFK,mBAEvCiD,EAFuC,KAE7BC,EAF6B,OAGVlD,mBAAS,IAHC,mBAGvCmD,EAHuC,KAG3BC,EAH2B,OAIdpD,mBAAS,MAJK,mBAIvCqD,EAJuC,KAI7BC,EAJ6B,OAMNtD,mBAAS,MANH,mBAMvCuD,EANuC,KAMzBC,EANyB,OAOZxD,oBAAS,GAPG,mBAOvCyD,EAPuC,KAO5BC,EAP4B,OAQO1D,oBAAS,GARhB,mBAQvC2D,EARuC,KAQnBC,EARmB,OASR5D,mBAAS,IATD,mBASvC6D,EATuC,KAS1BC,EAT0B,OAUZ9D,mBAAS,IAVG,mBAUvC+D,EAVuC,KAU5BC,EAV4B,OAWhBhE,oBAAS,GAXO,mBAWvCiE,EAXuC,KAW9BC,EAX8B,OAYlBlE,oBAAU,GAZQ,mBAYvCmE,EAZuC,KAY/BC,EAZ+B,KAatC1D,EAASwB,IAATxB,KAqBR,OACE,cAACmC,EAAc1C,SAAf,CACEC,MAAO,CACLmD,eACAC,kBACAW,SACAC,YACAH,UACAC,aACAT,YACAC,eACAK,YACAC,eACAX,WACAC,cACAP,cACAC,iBACAG,aACAC,gBACAH,WACAC,cACAW,cACAC,iBACAO,gBAhCkB,SAACC,GACvB,IAAIC,EAAe,GAKnB,OAHAD,EAAME,SAAQ,SAAAC,GACZA,EAAKC,SAAWhE,EAAKiE,IAAMJ,EAAaK,KAAKH,MAExCF,GA2BHM,gBA1CkB,SAACP,GACvB,IAAIC,EAAe,GAInB,OAHAD,EAAME,SAAQ,SAAAC,IACXF,EAAaO,SAASL,EAAKM,OAASR,EAAaK,KAAKH,EAAKM,SAEvDR,GAsCHZ,qBACAC,0BAzBJ,SA4BG7D,KCjEMiF,EAAsBnF,wBAAc,MAEpCoF,EAAuB,SAAC,GAAkB,IAAhBlF,EAAe,EAAfA,SAAe,EAClBC,mBAAS,IADS,mBAC7CkF,EAD6C,KAClCC,EADkC,OAEhBnF,mBAAS,GAFO,mBAE7CoF,EAF6C,KAEjCC,EAFiC,OAGpBrF,mBAAS,GAHW,6BA+BpD,OA1BAqB,qBAAU,WACJ+D,GACFjE,aAAamE,QAAQ,sBAAuB7D,KAAK8D,UAAUH,MAE5D,CAACA,IAEJ/D,qBAAU,WACR,IAAImE,EAAW,EACfN,EAAUV,SAAQ,SAACiB,GACjBD,GAAYE,SAASD,EAAKE,sBAG5BN,EAAcG,GAEVN,EAAUU,OAAS,GACrBzE,aAAamE,QAAQ,gBAAiB7D,KAAK8D,UAAUL,MAEtD,CAACA,IAEJ7D,qBAAU,WACJF,aAAaI,QAAQ,mBACvB4D,EAAa1D,KAAKC,MAAMP,aAAaI,QAAQ,mBAC7C8D,EAAc5D,KAAKC,MAAMP,aAAaI,QAAQ,4BAE/C,IAGD,cAACyD,EAAoB7E,SAArB,CACEC,MAAO,CACL8E,YACAC,eACAC,aACAC,iBALJ,SAQGtF,KCGQ8F,EA5CI,SAACC,GAAW,IAE3BC,EAEED,EAFFC,WACAC,EACEF,EADFE,MAH0B,EAMgB7D,qBAAWU,GAA/CsB,EANoB,EAMpBA,OAAQhB,EANY,EAMZA,WAAYD,EANA,EAMAA,YAatB+C,EAAQ,SAAC,GAAgC,IAA9BF,EAA6B,EAA7BA,WAAY5C,EAAiB,EAAjBA,WAErB+C,EAAaH,EAAWI,cAAcC,QAAQjD,EAAWgD,eAEzDE,EAAYH,EAAa/C,EAAWyC,OACpCU,EAAOP,EAAWQ,UAAU,EAAGL,GAC/BM,EAAOT,EAAWQ,UAAUL,EAAYG,GACxCI,EAAOV,EAAWQ,UAAUF,EAAWN,EAAWH,QACxD,OACE,iCAAOU,EAAK,iCAASE,IAAeC,MAIxC,OACE,oBACE9B,GAAIoB,EACJW,UAAWV,IAAU7B,EAAS,qBAAuB,aACrDwC,aA5BqB,SAACC,GACxBA,EAAEC,OAAOC,UAAUC,IAAI,WAEvB7D,EAAY6C,IA0BViB,WAvBmB,SAACJ,GACtBA,EAAEC,OAAOC,UAAUG,OAAO,YAkB1B,SAMG,cAAChB,EAAD,CAAO9C,WAAYA,EAAY4C,WAAYA,OC6CnCmB,EAlFM,SAACpB,GAAW,IACrBjC,EAA4BiC,EAA5BjC,YAAasD,EAAerB,EAAfqB,WADO,EAQxBhF,qBAAWU,GALXsB,EAHwB,EAGxBA,OACAC,EAJwB,EAIxBA,UACAjB,EALwB,EAKxBA,WACAD,EANwB,EAMxBA,YACAS,EAPwB,EAOxBA,mBAPwB,EASI3D,oBAXvB,KAEmB,mBASrBoH,EATqB,KASXC,EATW,KAUtBC,EAAQC,iBAAO,MAGrBlG,qBAAU,WAEN,OADAmG,SAASC,iBAAiB,UAAWC,GAC9B,kBAAMF,SAASG,oBAAoB,UAAWD,OAKzDrG,qBAAU,WACNgG,GAvBK,OAwBN,CAAClE,IAKJ9B,qBAAU,WACN6B,EAAYW,EAAYM,IACxBmD,EAAMM,QAAQC,SAAS,CAAEC,IAAKV,EAAUW,SAAU,aACnD,CAAC5D,IAGJ,IAAMuD,EAAgB,SAACd,GASW,IAAD,EARzB/C,IACc,cAAV+C,EAAEoB,KAEE7D,EAASN,EAAY+B,OAAS,IAC9ByB,EAAYD,EAAW,IACvBhD,EAAUD,EAAS,IAGb,YAAVyC,EAAEoB,MAEG,OAALV,QAAK,IAALA,GAAA,UAAAA,EAAOM,eAAP,SAAgBK,gBAAe,IAC3B9D,IAAWN,EAAY+B,OAAS,GAAKzB,GAAU,KAC/CkD,EAAYD,EAAW,IACvBhD,EAAUD,EAAS,OAWnC,OACI,oBACIQ,GAAG,oBACH+B,UAAU,oBACVwB,YATgB,SAACtB,GAErBO,EAAWP,EAAGA,EAAEC,OAAOlC,KAQnBwD,IAAKb,EAJT,SAMK3D,IAAkB,OACfE,QADe,IACfA,OADe,EACfA,EAAauE,KAAI,SAACrC,EAAYC,GAC1B,OAEQ,cAAC,EAAD,CAEIA,MAAOA,EACP7B,OAAQA,EACR4B,WAAYA,GAHPC,UCUtBqC,EA9EKC,sBAAW,SAAqBxC,EAAOqC,GAAM,IAE7DxD,EAGEmB,EAHFnB,GACA4D,EAEEzC,EAFFyC,SACApB,EACErB,EADFqB,WAEIqB,EAAWL,EAN6C,EAmB1DhG,qBAAWU,GAVbuB,EAT4D,EAS5DA,UACAL,EAV4D,EAU5DA,UACAb,EAX4D,EAW5DA,YACAF,EAZ4D,EAY5DA,eACAG,EAb4D,EAa5DA,WACAC,EAd4D,EAc5DA,cACAS,EAf4D,EAe5DA,YACAC,EAhB4D,EAgB5DA,eACAH,EAjB4D,EAiB5DA,mBACAC,EAlB4D,EAkB5DA,uBAkCF,OACE,qCACE,uBACEe,GAAIA,EACJ8D,KAAK,OACL/B,UAAkB,mBAAP/B,EAA0B,uBAAyB,eAC9DvE,MAAOmI,EAAWpF,EAAa,GAC/BuF,SAtCe,SAAC9B,GACpB,GAAIA,EAAEC,OAAOzG,MAAMwF,QAAU,EAAG,CAE9BxB,GAAW,GAEX,IAAMuE,EAAkB,OAAG5E,QAAH,IAAGA,OAAH,EAAGA,EAAW6E,QAAO,SAACC,GAC5C,OAAOA,EAAM1C,cAAcrB,SAAS8B,EAAEC,OAAOzG,MAAM+F,mBAGpDxC,GAAsBC,GAAuB,GAC9CE,EAAe6E,QAIf/E,GAAuB,GACvBV,EAAY,IAEdE,EAAcwD,EAAEC,OAAOzG,QAsBnB0I,QAbc,SAAClC,GACnBA,EAAEmC,iBACF/F,EAAe4D,EAAEC,SAYbmC,OApBa,SAACpC,GAClBA,EAAEmC,iBACF3E,GAAW,GACXhB,EAAc,KAkBV+E,IAAKK,EACLS,YACS,mBAAPtE,EACI,oBACO,sBAAPA,EACE,yBACA,wBAGR4D,GAAYpF,GACZ,cAAC,EAAD,CAAcU,YAAaA,EAAasD,WAAYA,EAAYqB,SAAUA,UC3EnEU,EAJG,WACd,OAAOC,OAAOC,UAAUF,WCDb,SAASG,EAAYxC,EAAQyC,GACxCzC,EAAOC,UAAUyC,OAAOD,GCI5B,IAeeE,EAfO,SAACC,GACnB,IAAMP,EAAYQ,IAGlBlC,SAASmC,cAAc,qBAAqBC,QAE5CpC,SAASmC,cAAc,6BAA6BE,MAAMC,MAAQ,EAElEtC,SAASmC,cAAc,eAAeE,MAAME,YAAY,UAAW,SAE/Db,EAAU/C,cAAcrB,SAAS,YACjCuE,EAAY7B,SAASmC,cAAc,gBAAiB,YCZ7CK,EAJM,WACjB,OAAOxC,SAAShB,KAAKyD,aCIVC,EALQ,SAACC,EAAQC,GAE5B,OAAOD,EAAOhE,cAAckE,WAAW,SAAU,IAAIC,QAAQ,KAAM,KAAK1I,MAAM,KAAK2I,KAAKH,ICsJ7EI,EAzIO,WAAM,MAEMxK,oBAAS,GAFf,mBAEnBuI,EAFmB,KAETkC,EAFS,KAIpBC,EAAkBnD,iBAAO,MAJL,EAetBpF,qBAAWU,GARbE,EAPwB,EAOxBA,YACAmB,EARwB,EAQxBA,WACAlB,EATwB,EASxBA,eACAG,EAVwB,EAUxBA,WACAF,EAXwB,EAWxBA,SACAC,EAZwB,EAYxBA,YACAc,EAbwB,EAaxBA,aACAH,EAdwB,EAcxBA,YAGI7C,EAAWC,cAETP,EAASwB,IAATxB,KAEFsJ,EAAeW,IAkBrBtJ,qBAAU,WAEgB,oBAAT,OAAX0B,QAAW,IAAXA,OAAA,EAAAA,EAAa4B,MAlBG,WACpB,IAAMiG,EAAU,IAAIC,QACpBD,EAAQE,OAAO,eAAgB,oBAC/B,IAAMC,EAAU,CACdC,OAAQ,MACRJ,QAASA,GAGXK,MAAM,GAAD,OAAI5K,EAAIE,UAAR,sBAAuCwK,GACzCG,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACLrH,EAAaqH,EAAK/G,UAEnBgH,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,MAM9BG,GACAjB,GAAY,IAEZA,GAAY,KAEb,CAAC1H,IAEJ,IAAM4I,EAAoB,WAA4C,IAAD,EAA1C/E,EAA0C,4DAAtCgF,EAAW7F,EAA2B,4DAAd6F,EAGrD,GAFC,OAADhF,QAAC,IAADA,KAAGmC,mBAEC5F,EAAWyC,OAAS,GAAxB,CAEA1B,GAAW,GAEX,UAAAwG,EAAgB9C,eAAhB,SAAyBiE,OAEzB,IAAMjB,EAAU,IAAIC,QACpBD,EAAQE,OAAO,eAAgB,oBAC/BpK,GAAQkK,EAAQE,OAAO,aAAcpK,EAAKc,OAC1C,IAKIsK,EALEf,EAAU,CACdC,OAAQ,MACRJ,QAASA,GAKP7E,EACF+F,EAAQ/F,EAED9C,EACP6I,EAAQ7I,EAEsB,IAAvBY,EAAY+B,OACnBkG,EAAQjI,EAAY,GAEbV,IACP2I,EAAQ3I,GAIV,IAAM4I,EAAcrL,EAAI,UACnBL,EAAIE,UADe,8BACgByL,mBAAmBF,GADnC,YAC6CpL,EAAKiE,IADlD,UAEnBtE,EAAIE,UAFe,8BAEgByL,mBAAmBF,IAE3Db,MAAMc,EAAahB,GAChBG,MAAK,SAACC,GACL,OAAmB,MAAfA,EAAIc,OACCd,EAAIC,OACRF,MAAK,SAACG,GAAU,IAAD,EACdnH,GAAW,GAEX,IAAMgI,EAAS,CACb5H,MAAO+G,EAAK/G,MACZ6H,WAAYpJ,EAAY4B,IAG1BzB,EAAY,IACZF,EAAe,MACf7B,aAAamE,QAAQ,gBAAiB7D,KAAK8D,UAAU2G,IACrDlL,EAAS,0BAAD,OAA2BkJ,EAAe4B,EAAM3F,cAAe,MACrE,CACEsD,MAAOyC,IAGPlC,GAAgB,MAAhB,UAAuBxC,SAASmC,cAAc,sBAA9C,aAAuB,EAAuCyC,UAChE5C,OAIgB,MAAf2B,EAAIc,OACJd,EAAIC,OAAOF,MAAK,SAACK,GAAW,IAAD,EAChCC,QAAQC,IAAIF,EAAMc,SAClBnI,GAAW,GAEa,cAApBqH,EAAMe,WACRtL,EAAS,4BAAD,OAA6B8K,IAGnC9B,GAAgB,MAAhB,UAAuBxC,SAASmC,cAAc,sBAA9C,aAAuB,EAAuCyC,UAChE5C,YAVD,OAiBX,OACE,qBAAK7E,GAAG,2BAAR,SACE,sBAAMA,GAAG,sBAAsB+B,UAAU,cAAc6F,SAAUZ,EAAjE,SACE,cAAC,EAAD,CAAapD,SAAUA,EAAU5D,GAAI,iBAAkBwC,WAAYwE,EAAmBxD,IAAKuC,SC7HpF8B,EAlBF,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACZ,OACI,oBAAI/F,UAAU,OAAd,SAEQ+F,EAAMrE,KAAI,SAACsE,EAAM1G,GACb,OACI,6BACI,cAAC,IAAD,CAAMU,UAAU,WAAWiG,GAAID,EAAKC,GAAIrC,SAAO,EAA/C,SACKoC,EAAK3H,QAFLiB,SCoBlB4G,I,gBAAAA,EAzBf,YAAkC,IAAdC,EAAa,EAAbA,UACV3L,EAAiBgB,IAAjBhB,aAER,OACE,qBAAIwF,UAAU,gBAAd,UAEImG,EAAUzE,KAAI,SAACsE,EAAM1G,GACnB,OACE,6BACE,cAAC,IAAD,CAASU,UAAU,WAAWiG,GAAID,EAAKC,GAAvC,SACGD,EAAK3H,QAFDiB,MAQf,6BACE,qBAAKU,UAAU,kBAAkBoG,QAAS,kBAAM5L,KAAhD,0B,sBCVF6L,EAAQC,IAAOC,MAAV,iKAaIC,EArBG,WAEd,OACI,cAACH,EAAD,CAAOI,QAAQ,aAAazG,UAAU,sCAAtC,SACI,cAAC,IAAD,CAAUA,UAAU,WAAW0G,KAAM,GAAIvE,MAAM,sBCgBrDwE,EAAML,IAAOM,IAAV,qEAKHC,EAAOP,YAAOQ,IAAPR,CAAH,wDAIJS,EAAkBT,IAAOM,IAAV,6PAcfI,EAASV,IAAOM,IAAV,8GAOGK,EAhDE,WAAO,IACd/M,EAAesB,IAAftB,WACN,OACE,cAACyM,EAAD,CAAK3G,UAAU,UAAf,SACE,eAAC,EAAD,CAAMA,UAAU,WAAWiG,GAAG,cAAc9D,MAAM,YAAlD,UACGjI,EAAa,GACZ,cAAC6M,EAAD,UACE,cAACC,EAAD,UAAS9M,MAGb,cAAC,IAAD,CAAQ8F,UAAU,WAAW0G,KAAM,WCH9BQ,EAZM,WAEjB,OACI,qBAAKlH,UAAU,qBAAf,SACI,uBAAOyG,QAAQ,aAAazG,UAAU,iCAAtC,SACA,8B,SCQGmH,GAVG,WACd,OACI,qBAAKnH,UAAU,yBAAf,SACI,cAAC,IAAD,CAAMA,UAAU,aAAaiG,GAAG,SAAhC,SACI,cAAC,KAAD,CAAcjG,UAAU,WAAW0G,KAAM,GAAIvE,MAAM,eCIpDiF,GAXA,SAAC,GAAc,IAAZpN,EAAW,EAAXA,KAEd,OACIA,EAAKqN,OAAOC,IACR,qBAAKA,IAAKtN,EAAKqN,OAAOC,IAAKC,IAAI,WAE3BvN,EAAKqN,OAAOG,QCcbC,GAlBC,SAAC,GAAwB,IAAtBzN,EAAqB,EAArBA,KAAM0N,EAAe,EAAfA,SAErB,OACI,wBACI1H,UAAU,uBACVmD,MACI,CAAEwE,gBAAgB,IAAD,OAAM3N,EAAKqN,OAAOO,QAEvCxB,QACI,kBAAMsB,EAASxG,QAAQd,UAAUyC,OAAO,cANhD,SASI,cAAC,GAAD,CAAQ7I,KAAMA,OCHX6N,GATGjG,sBAAW,WAAiCH,GAAM,IAAlBpI,EAAiB,EAAjBA,SAE9C,OACI,qBAAK2G,UAAU,aAAaoG,QAAS,yBAAM3E,QAAN,IAAMA,OAAN,EAAMA,EAAKP,QAAQd,UAAUyC,OAAO,cAAcpB,IAAKA,EAA5F,SACKpI,OCgBPsN,GAAML,IAAOM,IAAV,qEAKHkB,GAAiBxB,IAAOM,IAAV,uPAcdmB,GAAQzB,IAAOM,IAAV,8GAOIoB,GA1CS,WAAO,IACrBtJ,EAAejD,qBAAW6C,GAA1BI,WACR,OACE,cAAC,GAAD,CAAKsB,UAAU,UAAf,SACE,eAAC,IAAD,CAAMiG,GAAG,iBAAiBjG,UAAU,WAApC,UACGtB,EAAa,GACZ,cAACoJ,GAAD,UACE,cAACC,GAAD,UAAQrJ,MAGZ,cAAC,IAAD,CAAgBsB,UAAU,WAAW0G,KAAM,GAAIvE,MAAM,2BCyF9C8F,I,2EAAAA,GA9Ff,YAA2B,IAATjO,EAAQ,EAARA,KACR0N,EAAW7G,iBAAO,MAElBsF,EAAY,CACd,CACI9H,KAAM,YACN4H,GAAI,mBAER,CACI5H,KAAM,aACN4H,GAAI,oBAER,CACI5H,KAAM,QACN4H,GAAI,eAER,CACI5H,KAAM,UACN4H,GAAI,WAER,CACI5H,KAAM,WACN4H,GAAI,aA2BZ,OACI,sBAAKjG,UAAU,SAAf,UACI,uBAAO+B,KAAK,WAAW9D,GAAG,aAAa+B,UAAU,eACjD,gCACI,0BAASA,UAAU,gBAAnB,UAKI,cAAC,EAAD,IACChG,EACG,qCACI,cAACkO,EAAD,IACA,cAAC,GAAD,IACA,cAAC,EAAD,IACA,cAAC,GAAD,CAASlO,KAAMA,EAAM0N,SAAUA,OAGnC,qCACI,cAAC,GAAD,IACI,cAAC,GAAD,IACJ,cAAC,EAAD,UASZ,yBAAS1H,UAAU,iBAAnB,SACKhG,EACG,cAAC,EAAD,CAAUmM,UAAWA,IAEjB,cAAC,EAAD,CAAMJ,MAzDhB,CACV,CACI1H,KAAM,OACN4H,GAAI,KAER,CACI5H,KAAM,QACN4H,GAAI,SAER,CACI5H,KAAM,UACN4H,GAAI,WAER,CACI5H,KAAM,UACN4H,GAAI,SAER,CACI5H,KAAM,gBACN4H,GAAI,eAyCA,cAAC,GAAD,CAAWxE,IAAKiG,EAAhB,SACI,cAAC,EAAD,CAAUvB,UAAWA,a,SC1EnCgC,GAAO7B,IAAOM,IAAV,0HASJwB,GAAS9B,YAAOQ,IAAPR,CAAH,oEAMN+B,GAAM/B,IAAOM,IAAV,yGAQH0B,GAAQhC,IAAOM,IAAV,6MAWL2B,GAAOjC,IAAOM,IAAV,sMAYK4B,GAhEC,WAAO,IACbxO,EAASwB,IAATxB,KAER,OACE,cAACmO,GAAD,UACE,eAACC,GAAD,CAAQpI,UAAU,WAAWiG,GAAIjM,EAAO,KAAO,IAAKmI,MAAM,kBAA1D,UACE,cAACkG,GAAD,UACE,cAAC,KAAD,MAEF,eAACC,GAAD,WACE,cAACC,GAAD,oBACA,cAACA,GAAD,4BC6FKE,GAxGS,SAACvI,GAA+B,IAA5BwI,EAA2B,wDAE7ClG,EAAYQ,IACZM,EAAeW,IACf9D,EAASD,EAAEC,OAEbA,IAEIA,EAAOC,UAAUuI,SAAS,cAE1B7H,SAASmC,cAAc,eAAeC,QAEtCpC,SAASmC,cAAc,SAASE,MAAME,YAAY,OAAQ,QAE1DvC,SAASmC,cAAc,eAAeE,MAAME,YAAY,UAAW,SAC/Db,EAAUoG,oBAAoBxK,SAASyK,SAEvClG,EAAY7B,SAASmC,cAAc,gBAAiB,YAKxD9C,EAAOC,UAAUuI,SAAS,gBAE1B7H,SAASmC,cAAc,6BAA6BE,MAAME,YAAY,QAAS,qBAI/EvC,SAASmC,cAAc,mBAAmB6F,SAI1C3I,EAAOC,UAAUuI,SAAS,aAEtB7H,SAASmC,cAAc,eAAeyC,UAEtC5E,SAASmC,cAAc,eAAeC,QAEtCpC,SAASmC,cAAc,SAASE,MAAME,YAAY,OAAQ,QACtDC,GAAgB,KAEhBxC,SAASmC,cAAc,eAAeE,MAAME,YAAY,UAAW,SAE/Db,EAAUoG,oBAAoBxK,SAASyK,SAEvClG,EAAY7B,SAASmC,cAAc,gBAAiB,YAMhE9C,EAAOC,UAAUuI,SAAS,mBAEtB7H,SAASmC,cAAc,eAAeyC,SAClCpC,GAAgB,KAEwD,sBAApExC,SAASmC,cAAc,6BAA6BE,MAAMC,QAE1DtC,SAASmC,cAAc,6BAA6BE,MAAME,YAAY,QAAS,KAE/EvC,SAASmC,cAAc,eAAeE,MAAME,YAAY,UAAW,SAEnEvC,SAASmC,cAAc,mBAAmBkC,OAE1CrE,SAASmC,cAAc,mBAAmBvJ,MAAQ,IAIP,SAA/CoH,SAASmC,cAAc,SAASE,MAAM4F,OAEtCjI,SAASmC,cAAc,SAASE,MAAME,YAAY,OAAQ,QAE1DvC,SAASmC,cAAc,eAAeE,MAAME,YAAY,UAAW,WAIvEvC,SAASmC,cAAc,SAASE,MAAME,YAAY,OAAQ,QAEzDvC,SAASmC,cAAc,eAAeyC,UACnCpC,GAAgB,KAEhBxC,SAASmC,cAAc,eAAeE,MAAME,YAAY,UAAW,QAGvEvC,SAASmC,cAAc,SAASE,MAAME,YAAY,OAAQ,OAI9DqF,IACIpF,GAAgB,MAEhBxC,SAASmC,cAAc,6BAA6BE,MAAMC,MAAQ,EAElEtC,SAASmC,cAAc,eAAeE,MAAME,YAAY,UAAW,UAGvElD,EAAO+C,QACHV,EAAU/C,cAAcrB,SAAS,YACjCuE,EAAY7B,SAASmC,cAAc,gBAAiB,cChFrD+F,GAlBA,WAAO,IACZhP,EAASwB,IAATxB,KAMR,OACE,wBAAQgG,UAAU,cAAcoG,QAJd,SAAClG,GACnBuI,GAAgBvI,IAGhB,SACE,sBAAKF,UAAU,aAAf,UACE,cAAC,GAAD,IACA,cAAC,EAAD,IACA,cAAC,GAAD,CAAQhG,KAAMA,UCNPiP,GAVA,WACb,OACE,wBAAQjJ,UAAU,SAAlB,SACE,oG,SCKSkJ,GARC,WACZ,OACI,qBAAKlJ,UAAU,+DAAf,SACI,cAAC,KAAD,OCwCGmJ,GArCA,WACX,IAAM/O,EAAWC,cACTkD,EAAY9B,qBAAWU,GAAvBoB,QACR,OACI,qBAAKyC,UAAU,UAAf,SAC2B,WAAtB5F,EAASb,UAA+C,YAAtBa,EAASb,SACxC,qCACI,qBAAKyG,UAAU,YAAf,SACI,cAAC,IAAD,MAEJ,cAAC,GAAD,OAGJ,qCACI,cAAC,GAAD,IACA,qBAAKA,UAAU,YAAf,SACI,qBAAKA,UAAU,UAAf,SAEazC,EAKG,qBAAKyC,UAAU,kBAAf,SACI,cAAC,GAAD,MAJJ,cAAC,IAAD,QAUhB,cAAC,GAAD,UCzBToJ,GAVK,WAAO,IACfpP,EAASwB,IAATxB,KACFI,EAAWC,cACjB,OACKL,EAEG,cAAC,IAAD,CAAQA,KAAMA,IADd,cAAC,IAAD,CAAUiM,GAAG,SAASlD,MAAO,CAAEsG,KAAMjP,GAAYwJ,SAAO,KCKrD0F,GAVQ,WAAO,IAClBtP,EAASwB,IAATxB,KACFI,EAAWC,cACjB,OACIL,EACI,cAAC,IAAD,CAAUiM,GAAG,MAAMlD,MAAO,CAAEsG,KAAMjP,GAAYwJ,SAAO,IACrD,cAAC,IAAD,KCKG2F,GAZD,WACV,OACI,qBAAKvJ,UAAU,gBAAf,SACI,qBAAKA,UAAU,gBAAf,SACI,wBAAQA,UAAU,SAAlB,SACI,oBAAIA,UAAU,QAAd,0BCiBLwJ,GAtBW,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAEzB,OACI,qBAAKzJ,UAAU,mBAAf,SACKyJ,EAAM/H,KAAI,SAACgI,EAAMpK,GACd,OACI,cAAC,IAAD,CAEIrB,GAAIyL,EAAKzL,GACTgI,GAAIyD,EAAK1D,KACThG,UAAW,YACP,OADyB,EAAf6B,SACQ,cAAgB,iBAL1C,SAQI,+BAAQ6H,EAAKvH,SAPR7C,SCKdqK,GAZK,WAChB,OACI,qBAAK3J,UAAU,gBAAf,SACI,qBAAKA,UAAU,gBAAf,SACI,wBAAQA,UAAU,SAAlB,SACI,oBAAIA,UAAU,QAAd,yBCmNL4J,GAzMU,SAAC,GAAa,EAAX5D,KAAY,IAAD,IAEP1M,oBAAS,GAFF,mBAE9BiE,EAF8B,KAErBC,EAFqB,OAGLlE,oBAAS,GAHJ,mBAG9BuI,EAH8B,KAGpBkC,EAHoB,KAK/B8F,EAAqBhJ,iBAAO,MALG,EAmBjCpF,qBAAWU,GAXbU,EARmC,EAQnCA,aACAC,EATmC,EASnCA,gBACAT,EAVmC,EAUnCA,YACAC,EAXmC,EAWnCA,eACAG,EAZmC,EAYnCA,WACAF,EAbmC,EAanCA,SACAC,EAdmC,EAcnCA,YACAc,EAfmC,EAenCA,aACAH,EAhBmC,EAgBnCA,YACAH,EAjBmC,EAiBnCA,aAII1C,GArB+B,EAkBnCyC,UAGexC,eAETP,EAASwB,IAATxB,KAEFsJ,EAAeW,IAEf6F,EAAmB,WAAiB,IAAhB1E,EAAe,uDAAP,GAEhC5H,GAAW,GACX,IAAM0G,EAAU,IAAIC,QACpBD,EAAQE,OAAO,eAAgB,oBAC/BF,EAAQE,OAAO,aAAcpK,EAAKc,OAClC,IAAMuJ,EAAU,CACdC,OAAQ,MACRJ,QAASA,GAGXK,MAAM,GAAD,OAAI5K,EAAIE,UAAR,sBAA+BG,EAAKiE,GAApC,YAA0CmH,GAASf,GACrDG,MAAK,SAACC,GACL,OAAIA,EAAIsF,GACCtF,EAAIC,OACRF,MAAK,SAACwF,GAAa,IAAD,EACT5E,EAAgB4E,EAAhB5E,MAAOT,EAASqF,EAATrF,KACf,GAAc,eAAVS,EACF9H,EAAaqH,GACb3H,GAAa,GACbH,GAAgBC,EAAgB,WAE7B,GAAc,UAAVsI,EAAmB,CAC1B,IAAMI,EAAS,CAAE5H,MAAO+G,EAAMc,WAAYpJ,EAAY4B,IAEtDxD,aAAamE,QAAQ,gBAAiB7D,KAAK8D,UAAU2G,IACrDlL,EAAS,sCACP,CACEyI,MAAOyC,IAGbhI,GAAW,GACX,UAAAqM,EAAmB3I,eAAnB,SAA4B4H,WAGV,MAAfrE,EAAIc,OACJd,EAAIC,OACRF,MAAK,SAACK,GACLrH,GAAW,GACXV,EAAgB,eAAK+H,EAAMc,kBAJ5B,MASXhL,qBAAU,WAAO,IAAD,EAEdmP,EAAiB,cAIbxG,GAAgB,MAAhB,UAAuBxC,SAASmC,cAAc,sBAA9C,aAAuB,EAAuCyC,UAChE5C,MAGD,IAEHnI,qBAAU,WACgB,uBAAT,OAAX0B,QAAW,IAAXA,OAAA,EAAAA,EAAa4B,IACf8F,GAAY,GAIZA,GAAY,KAEb,CAAC1H,IAIJ,IAAM4N,EAAuB,WAA4C,IAAD,EAA1C/J,EAA0C,4DAAtCgF,EAAW7F,EAA2B,4DAAd6F,EAGxD,GAFC,OAADhF,QAAC,IAADA,KAAGmC,mBAEC5F,EAAWyC,OAAS,GAAxB,CAEA1B,GAAW,GAEX,UAAAqM,EAAmB3I,eAAnB,SAA4BiE,OAE5B,IAAMjB,EAAU,IAAIC,QACpBD,EAAQE,OAAO,eAAgB,oBAC/BF,EAAQE,OAAO,aAAcpK,EAAKc,OAClC,IAAMuJ,EAAU,CACdC,OAAQ,MACRJ,QAASA,GAGPkB,EAAQ,GAER/F,EACF+F,EAAQ/F,EAED9C,EACP6I,EAAQ7I,EAEsB,IAAvBY,EAAY+B,OACnBkG,EAAQjI,EAAY,GAEbV,IACP2I,EAAQ3I,GAGV8H,MAAM,GAAD,OAAI5K,EAAIE,UAAR,iCAA0CG,EAAKiE,GAA/C,YAAqDqH,mBAAmBF,IAAUf,GACpFG,MAAK,SAACC,GACL,GAAmB,MAAfA,EAAIc,OACN,OAAOd,EAAIC,OACRF,MAAK,SAACG,GACLnH,GAAW,GAEX,IAAMgI,EAAS,CACb5H,MAAO+G,EAAK/G,MACZ6H,WAAYpJ,EAAY4B,IAG1BzB,EAAY,IACZF,EAAe,MACf7B,aAAamE,QAAQ,gBAAiB7D,KAAK8D,UAAU2G,IACrDlL,EAAS,6BAAD,OAA8BkJ,EAAe4B,EAAM3F,cAAe,MACxE,CACEsD,MAAOyC,OAIO,MAAff,EAAIc,SACX/H,GAAW,GACXlD,EAAS,4BAAD,OAA6B8K,UAK7C,OACE,qBAAKpF,UAAU,gBAAf,SAE4B,cAAZ,OAAZnD,QAAY,IAAZA,OAAA,EAAAA,EAAcsF,OACZ,sBAAKnC,UAAU,UAAf,UACE,yBAASA,UAAU,kBAAnB,SACE,qBAAKA,UAAU,eAAf,mBAEInD,EAAaiD,YAFjB,aAEI,EAAmB4B,KAAI,SAACwI,EAAM5K,GAC5B,OAAO,4BAAgB4K,GAAR5K,UAKvB,yBAASU,UAAU,kBAAnB,SACE,eAAC,IAAD,CAAMA,UAAU,eAAeiG,GAAI,iBAAnC,+BAAuE,cAAC,IAAD,YAIzE1I,EACE,cAAC,GAAD,IAEE,sBAAKyC,UAAU,gBAAf,UACA,wBAAQA,UAAU,SAAlB,SACI,oBAAIA,UAAU,QAAd,iCAEJ,uBAAMA,UAAU,mBAAhB,UACE,sBAAM/B,GAAG,yBAAyB+B,UAAU,cAAc6F,SAAUoE,EAApE,SACE,cAAC,EAAD,CAAapI,SAAUA,EAAU5D,GAAI,oBAAqBwC,WAAYwJ,EAAsBxI,IAAKoI,MAEjG,wBACE7J,UAAU,WACV+B,KAAK,SACLqE,QAAS,kBAAM0D,EAAiB,UAHlC,gCCSLK,GApMA,SAAC,GAAc,IAAZnE,EAAW,EAAXA,KAAW,EAEG1M,oBAAS,GAFZ,mBAEpBiE,EAFoB,KAEXC,EAFW,OAGKlE,oBAAS,GAHd,mBAGpBuI,EAHoB,KAGVkC,EAHU,OAIKzK,mBAAS,IAJd,mBAIpB8Q,EAJoB,KAIVC,EAJU,OAKH/Q,mBAAS,MALN,mBAKpBqL,EALoB,KAKd2F,EALc,KAOrBC,EAAc1J,iBAAO,MAPA,EAmBvBpF,qBAAWU,GATbE,EAVyB,EAUzBA,YACAC,EAXyB,EAWzBA,eACAG,EAZyB,EAYzBA,WACAU,EAbyB,EAazBA,YACAZ,EAdyB,EAczBA,SACAC,EAfyB,EAezBA,YACAc,EAhByB,EAgBzBA,aACAX,EAjByB,EAiBzBA,SACAC,EAlByB,EAkBzBA,YAGItC,EAAWC,cAEX+I,EAAeW,IA0BrBtJ,qBAAU,WAAO,IAAD,EACD,aAATqL,GACFuE,EAAYrJ,QAAQ4H,QAElBxF,GAAgB,MAAhB,UAAuBxC,SAASmC,cAAc,sBAA9C,aAAuB,EAAuCyC,UAChE5C,MAED,IAEHnI,qBAAU,WACgB,gBAAT,OAAX0B,QAAW,IAAXA,OAAA,EAAAA,EAAa4B,KACVtB,EAGHW,EAAaX,GAtCG,WAEpBa,GAAW,GACX,IAAM0G,EAAU,IAAIC,QACpBD,EAAQE,OAAO,eAAgB,oBAC/B,IAAMC,EAAU,CACdC,OAAQ,MACRJ,QAASA,GAGXK,MAAM,GAAD,OAAI5K,EAAIE,UAAR,4BAA6CwK,GAC/CG,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACL/H,EAAY+H,GACZrH,EAAaqH,GACbnH,GAAW,GACX+M,EAAYrJ,QAAQ4H,WAErBlE,OAAM,SAACC,GACNrH,GAAW,GACXsH,QAAQC,IAAIF,MAgBZ2F,GAIFzG,GAAY,IAEZA,GAAY,KAEb,CAAC1H,IAGJ,IAAMoO,EAAY,WAA4C,IAA3CvK,EAA0C,4DAAtCgF,EAAW7F,EAA2B,4DAAd6F,EAG7C,GAFC,OAADhF,QAAC,IAADA,KAAGmC,mBAEC5F,EAAWyC,OAAS,GAAxB,CAEA1B,GAAW,GAEX,IAAM0G,EAAU,CAAEI,OAAQ,OAEtBc,EAAQ,GAER/F,EACF+F,EAAK,4BAAwB/F,GAEtB9C,EACP6I,EAAK,4BAAwB7I,GAEN,IAAhBY,EACPiI,EAAK,4BAAwBjI,EAAY,IAElCV,IACP2I,EAAK,4BAAwB3I,IAG/B8N,EAAYrJ,QAAQiE,OAEpBZ,MAAM,GAAD,OAAI5K,EAAIC,YAAR,YAAuBwL,GAASlB,GAClCM,MAAK,SAACC,GACL,GAAIA,EAAIsF,GACN,OAAOtF,EAAIC,OACRF,MAAK,SAACG,GAAU,IACPtG,EAAoBsG,EAApBtG,KAAMqM,EAAc/F,EAAd+F,UACdjQ,aAAamE,QAAQ,SAAU8L,GAC/BL,EAAYK,GACZlO,EAAY6B,MAGM,MAAfoG,EAAIc,SACX/H,GAAW,GACXlD,EAAS,4BAAD,OAA6BmC,UA+D7C,OAzDA9B,qBAAU,WACR,GAAIyP,EAAU,CAEZ7F,MAAM,GAAD,OACA5K,EAAIC,YADJ,qDAC4DwQ,EAD5D,kBADW,CAAE9F,OAAQ,QAKvBE,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACL2F,EAAQ3F,EAAKA,SAGdC,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,SAEjC,CAACuF,IAEJzP,qBAAU,WACR,GAAIgK,EAAM,CACR,IAAMhI,EAAW,GACXgO,EAA4BhG,EAenBzC,QAAO,SAACnE,GACnB,OAAQA,EAAK6M,WAdjBD,EAAc7M,SAAQ,SAACC,EAAMuB,GACE,IAAzBvB,EAAK8M,SAAS3L,QAChBvC,EAASuB,KAAKyM,EAAcG,OAAOxL,EAAO,GAAGyL,UAGjDJ,EAAc7M,SAAQ,SAAAC,GACpBA,EAAK8M,SAAS/M,SAAQ,SAAAkN,GACpBrO,EAASuB,KAAT,2BAAmBH,GAAnB,IAAyB8M,SAAU,CAACG,GAAS/M,GAAG,GAAD,OAAKF,EAAKE,GAAV,YAAgB+M,YAYnExN,GAAW,GACXhB,EAAY,IACZF,EAAe,MACf,IAAMkJ,EAAS,CACb5H,MAAOjB,EACP8I,WAAYpJ,EAAY4B,IAG1BxD,aAAamE,QAAQ,gBAAiB7D,KAAK8D,UAAU2G,IACrDlL,EAAS,sBAAD,OAAuBkJ,EAAejH,EAAU,MACtD,CACEwG,MAAOyC,OAIZ,CAACb,IAGF,qBAAK3E,UAAU,gBAAf,SAEIzC,EACE,cAAC,GAAD,IAEE,sBAAKyC,UAAU,gBAAf,UACE,wBAAQA,UAAU,SAAlB,SACE,oBAAIA,UAAU,QAAd,0BAEF,sBAAMA,UAAU,OAAhB,SACE,sBAAM/B,GAAG,kBAAkB+B,UAAU,cAAc6F,SAAU4E,EAA7D,SACE,cAAC,EAAD,CAAa5I,SAAUA,EAAU5D,GAAI,aAAcwC,WAAYgK,EAAWhJ,IAAK8I,cCpKlFU,GA9BE,WAAO,IACdjF,EAASkF,cAATlF,KASR,OACE,qCACI,yBAAShG,UAAU,iBAAnB,SACE,cAAC,GAAD,CAAmByJ,MAVb,CACZ,CAAEtH,MAAO,OAAQlE,GAAI,OAAQ+H,KAAM,cACnC,CAAE7D,MAAO,aAAclE,GAAI,aAAc+H,KAAM,oBAC/C,CAAE7D,MAAO,QAASlE,GAAI,QAAS+H,KAAM,eACrC,CAAE7D,MAAO,WAAYlE,GAAI,WAAY+H,KAAM,uBAS1B,eAATA,EACA,cAAC,GAAD,CAAkBA,KAAMA,IACb,UAATA,EACA,cAAC,GAAD,CAAOA,KAAMA,IACJ,aAATA,EACE,cAAC,GAAD,CAAWA,KAAMA,IAEf,cAAC,GAAD,Q,SC1BHmF,GAJQ,SAACC,GACpB,MAAM,GAAN,OAAUA,EAAKC,OAAO,GAAGC,eAAzB,OAAyCF,EAAKvL,UAAU,KCuC7C0L,GAtCU,SAACC,EAAQC,GAC9B,IAAMC,EAAUC,OAAOC,KAAKJ,GACxBK,EAAS,GAgCb,OA/BAH,EAAQ5N,SAAQ,SAACgO,GAERN,EAAOM,GAWHL,EAAOK,GAAQC,SAASC,iBAC7BH,EAAM,2BACCA,GADD,mBAEDC,EACe,oBAAXA,EACG,yBADJ,kBAEeX,GAAeW,MAEtCL,EAAOK,GAAQ3G,QAGTsG,EAAOK,GAAQG,kBACrBJ,EAAM,2BACCA,GADD,mBAEDC,EAFC,kBAEmBX,GAAeW,QAxBxCD,EAAM,2BACCA,GADD,mBAEDC,EACG,UACOX,GADK,oBAAXW,EACqB,WACAA,GAFtB,kBAIRL,EAAOK,GAAQ3G,WAqBhB0G,GC9BLK,GAAO,CACXC,MAAO,GACPC,SAAU,IAyOGC,GAtOD,WAAM,MAGU/S,mBAAS4S,IAHnB,mBAGXV,EAHW,KAGHc,EAHG,OAIUhT,mBAAS4S,IAJnB,mBAIXL,EAJW,KAIHU,EAJG,OAKYjT,oBAAS,GALrB,mBAKXiE,EALW,KAKFC,EALE,OAMoBlE,oBAAS,GAN7B,mBAMXkT,EANW,KAMEC,EANF,OAOcnT,oBAAS,GAPvB,mBAOXoT,EAPW,KAODC,EAPC,OAQYrT,mBAAS,MARrB,mBAQXqM,EARW,KAQFiH,EARE,OASsBtT,oBAAS,GAT/B,mBASXuT,EATW,KASGC,EATH,KAYZ1S,EAAWC,cACXC,EAAWC,cAGXwS,EAAWlM,iBAAO,MAClBmM,EAAcnM,iBAAO,MAGnB5G,EAAYuB,IAAZvB,QAEFwR,EAAS,CACbU,MAAOY,EAAS7L,QAChBkL,SAAUY,EAAY9L,SASxBvG,qBAAU,WACJP,EAAS2I,OACP3I,EAAS2I,MAAM4C,SACjBiH,EAAW,eAAKxS,EAAS2I,MAAM4C,UAI3B,OAARoH,QAAQ,IAARA,KAAU7L,QAAQ4H,UACjB,IAGHnO,qBAAU,WAC2B,IAA/BgR,OAAOC,KAAKC,GAAQ3M,QAAgBwN,EAEtCD,GAAe,GAEfE,GAAY,KAEb,CAACd,IAGJlR,qBAAU,WACRmG,SAASmC,cAAc,aAAalB,KAAO8K,EAAe,OAAS,aAClE,CAACA,IAGJlS,qBAAU,WACR,GAAI6R,EAAa,CACfhP,GAAW,GAEX,IAAMyP,EAAY,CAChBd,MAAOX,EAAOW,MAAM1M,cAAcyN,OAClCd,SAAUZ,EAAOY,UAGb/H,EAAU,CACdC,OAAQ,OACRJ,QAAS,CAAE,eAAgB,oBAC3BpE,KAAM/E,KAAK8D,UAAUoO,IAEvB,IACE1I,MAAM,GAAD,OAAI5K,EAAIE,UAAR,oBAAqCwK,GACvCG,MAAK,SAACC,GACL,OAAIA,EAAIsF,GACCtF,EAAIC,OAEND,EAAIC,OAAOF,MAAK,SAACG,GACtB,MAAM,IAAIwI,MAAMpS,KAAK8D,UAAU8F,UAGlCH,MAAK,SAACG,GAAU,IAAD,EACdlK,aAAamE,QAAQ,QAAS7D,KAAK8D,UAAU8F,EAAK7J,QAClDL,aAAamE,QAAQ,OAAQ7D,KAAK8D,UAAU8F,EAAKyI,QAAQ7R,OACzDtB,EAAQ,2BAAK0K,EAAKyI,QAAQ7R,MAAnB,IAAyBT,MAAO6J,EAAK7J,SAC5C0C,GAAW,GAEX,IAAM6P,GAAc,UAAAjT,EAAS2I,aAAT,eAAgBsG,MAAOjP,EAAS2I,MAAMsG,KAAK9P,SAAW,cAC1Ee,EAAS+S,EAAa,CAAEzJ,SAAS,OAElCgB,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZ,IAAMhI,EAAegI,GAAS9J,KAAKC,MAAM6J,EAAMc,SAC/CiH,EAAW,eAAK/P,IAChB4O,EAAOU,MAAMmB,kBAAkB,WAC/B7B,EAAOW,SAASkB,kBAAkB,WAClCf,EAAUgB,GAAa/B,EAAQC,IAC/Ba,EAAU,2BAAKd,GAAN,IAAcW,MAAO,GAAIC,SAAU,MAE5CK,GAAe,MAEnB,MAAO5H,GACP,IAAMhI,EAAe9B,KAAKC,MAAM6J,EAAMc,SACtCiH,EAAW,eAAK/P,IAChBW,GAAW,GACXiP,GAAe,OAGlB,CAACD,IAOJ,IAAMgB,EAAe,SAACtN,GACpBoM,EAAU,2BAAKd,GAAN,mBAAetL,EAAEC,OAAO9B,KAAO6B,EAAEC,OAAOzG,UAI7C+T,EAAc,SAACvN,GAEnB,GAAI2L,EAAO3L,EAAEC,OAAO9B,MAAO,CACzB,IAAMqP,EAAW,eAAQ7B,UAClB6B,EAAYxN,EAAEC,OAAO9B,MAC5BkO,EAAUmB,KAIRC,EAAa,SAACzN,KAkBpB,OAEE,mCAEI3C,EAEI,cAAC,GAAD,IAGA,sBAAKyC,UAAU,eAAf,UACA,qBAAKA,UAAU,YAAf,SACE,cAAC,IAAD,CAAMiG,GAAG,IAAT,SAAa,gDAGZN,EACC,sBAAK3F,UAA4B,UAAjB2F,EAAQ5D,KAAmB,qBAAwC,YAAjB4D,EAAQ5D,KAAqB,uBAAyB,OAAxH,UAEE,oBAAI/B,UAAU,qBAAd,SAAoC2F,EAAQtH,KAAO,qCAAGsH,EAAQxD,MAAX,IAAkB,iCAASwD,EAAQtH,OAAnC,OAAwDsH,EAAQxD,QAEnH,mBAAGnC,UAAU,oBAAb,SAAkC2F,EAAQ7F,UAG1C,qBAAKE,UAAU,aAAf,SACF,0DAIF,uBAAMA,UAAU,YAAY/B,GAAG,cAAcI,KAAK,cAAcwH,SAzCvD,SAAC3F,GACpBA,EAAEmC,iBACF,IAAMuL,EAAcL,GAAa/B,EAAQC,GACzCkB,GAAY,GACZJ,EAAUqB,IAqCwFC,YAAU,EAAlG,UACA,sBAAK7N,UAAU,eAAf,UACI,uBAAOyG,QAAQ,QAAQzG,UAAW6L,EAAOM,OAAS,eAAlD,SAAmEN,EAAOM,MAAQN,EAAOM,MAAQ,UACjG,uBACEnM,UAAW6L,EAAOM,OAAS,+BAC3BlO,GAAG,QACH8D,KAAK,QACL1D,KAAK,QACL3E,MAAO8R,EAAOW,MACdnK,SAAUwL,EACVpL,QAASqL,EACTnL,OAAQqL,EACRG,QAAQ,yDACRvL,YAAY,QACZd,IAAKsL,OAGX,sBAAK/M,UAAU,eAAf,UACI,uBAAOyG,QAAQ,WAAWzG,UAAW6L,EAAOO,UAAY,eAAxD,SAAyEP,EAAOO,SAAWP,EAAOO,SAAW,aAC7G,sBAAKpM,UAAS,4DAAuD6L,EAAOO,UAAY,iBAAxF,UACA,uBACInO,GAAG,WACH8D,KAAK,WACL1D,KAAK,WACL3E,MAAO8R,EAAOY,SACdpK,SAAUwL,EACVpL,QAASqL,EACTnL,OAAQqL,EACRG,QAAQ,qBACRvL,YAAY,WACZd,IAAKuL,IAET,wBAAQhN,UAAU,gDAAgD+B,KAAK,SAASP,YAjExE,SAACtB,GAEvBA,EAAEmC,iBACsCyK,GAAvCD,IA8Da,SACE,mBAAG7M,UAAY6M,EAAmC,wBAApB,4BAIpC,qBAAK7M,UAAU,yCAAf,SACE,cAAC,IAAD,CAAMA,UAAU,OAAOiG,GAAG,kBAA1B,gCAEA,sBAAKjG,UAAU,2BAAf,UACA,cAAC,IAAD,CAAMA,UAAU,OAAOiG,GAAG,UAA1B,4BACE,wBAAQjG,UAAU,qBAAqB+B,KAAK,SAA5C,+B,SC7NHgM,GANY,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,YAC1B,OACI,8BAAG,mBAAGhO,UAAS,UAAMgO,EAAYC,UAAwD,kCAA5C,0CAA9B,0BAAwID,EAAYE,SCkB5JC,GAnBM,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WAEpB,OACI,qBAAKpO,UAAU,yBAAf,SACI,qBAAKA,UAAU,uBAAf,SACI,qBAAKA,UAAU,uBAAf,SAEQoO,GACAA,EAAW1M,KAAI,SAACsM,EAAa1O,GACzB,OAAO,cAAC,GAAD,CAAgC0O,YAAaA,GAApB1O,aCoB7C+O,GA7BGzM,sBAAW,SAACxC,EAAOqC,GAAS,IAClCxD,EAAkFmB,EAAlFnB,GAAII,EAA8Ee,EAA9Ef,KAAM+P,EAAwEhP,EAAxEgP,WAAYpM,EAA4D5C,EAA5D4C,SAAUI,EAAkDhD,EAAlDgD,QAASyJ,EAAyCzM,EAAzCyM,OAAQvJ,EAAiClD,EAAjCkD,OAAQiE,EAAyBnH,EAAzBmH,MAAU+H,EADlC,aACiDlP,EADjD,2EAEnC0C,EAAWL,EACjB,OACI,sBAAKzB,UAAU,eAAf,UAES6L,EAAOxN,GAGA,uBAAO2B,UAAU,eAAeyG,QAASxI,EAAzC,SAA+C4N,EAAOxN,KAF1D,uBAAOoI,QAASxI,EAAhB,SAAsBsI,IAK9B,+CACIvG,UAAW6L,EAAOxN,IAAS,+BAC3BJ,GAAIA,EACJI,KAAMA,GACFiQ,GAJR,IAKItM,SAAUA,EACVI,QAASA,EACTE,OAAQA,EACRb,IAAKK,KAGL,cAAC,GAAD,CAAcsM,WAAYA,UCnB3BG,GAPC,CACZC,aAAc,SACdC,YAAa,QACbC,WAAY,OACZC,aAAc,UC+DHC,GAjEM,SAACC,EAAaC,GAEjC,OAAQA,EAAO/M,MACb,KAAKwM,GAAQC,cAef,SAAuBpB,GACrB,IAAM5B,EAAS4B,EAAQ5B,OACjBuD,EAAe3B,EAAQ2B,aACvBjD,EAASsB,EAAQ/O,KACnB2Q,EAAsB,GAEX,aAAXlD,GAEEN,EAAOyD,kBACTD,EAAsBE,EAAmBH,EAAaE,gBAAiBzD,EAAOY,UAAU,GACxFyC,EAAW,2BAAQA,GAAR,IAAqBI,gBAAiBD,KAGnDA,EAAsBE,EAAmBH,EAAa3C,SAAUZ,EAAOY,UACvEyC,EAAW,2BAAQA,GAAR,mBAAsB/C,EAASkD,KAGxB,oBAAXlD,GAEPkD,EAAsBE,EAAmBH,EAAaI,MAAO3D,EAAO2D,OAAO,GAC3EN,EAAW,2BAAQA,GAAR,IAAqBI,gBAAiBD,MAIjDA,EAAsBE,EAAmBH,EAAaI,MAAO3D,EAAO2D,OACpEN,EAAW,2BAAQA,GAAR,mBAAsB/C,EAASkD,KAvC1CI,CAAcN,EAAO1B,SACrB,MACF,KAAKmB,GAAQE,aAyCf,SAAsBrB,GACpB,IAAMiC,EAAqC,oBAAjBjC,EAAQ/O,KAC5B0Q,EAAeG,EAAmB9B,EAAQ2B,aAAc3B,EAAQ1T,MAAO2V,GAC7ER,EAAW,2BAAQA,GAAR,mBAAsBzB,EAAQ/O,KAAO0Q,IA3C9CO,CAAaR,EAAO1B,SACpB,MACF,KAAKmB,GAAQG,WACCI,EAAO1B,QACnB,MACF,QACE,MAAM,IAAID,MAAJ,+BAAkC2B,EAAO/M,OAGnD,OAAO8M,EAwCP,SAASK,EAAmBH,EAAcrV,GAAmC,IAA5B2V,EAA2B,wDACxE,OAAON,EAAarN,KAAI,SAACsM,GACvB,IAAMF,EAAWuB,EAA0C,IAAIE,OAAOvB,EAAYF,SAA7CE,EAAYF,QAEjD,OADAE,EAAW,2BAAQA,GAAR,IAAqBC,YAAWH,EAAQ0B,KAAK9V,UCtD1DwS,GAAO,CACXuD,SAAU,GACVtD,MAAO,GACPuD,QAAS,GACTtD,SAAU,GACV6C,gBAAiB,IAoTJU,GAjTA,WAAO,IAAD,EAESrW,mBAAS4S,IAFlB,mBAEZV,EAFY,KAEJc,EAFI,OAGShT,mBAAS4S,IAHlB,mBAGZL,EAHY,KAGJU,EAHI,OAIWjT,oBAAS,GAJpB,mBAIZiE,EAJY,KAIHC,EAJG,OAKmBlE,oBAAS,GAL5B,mBAKZkT,EALY,KAKCC,EALD,OAManT,oBAAS,GANtB,mBAMZoT,EANY,KAMFC,EANE,OASWrT,mBAAS,IATpB,mBASZqM,EATY,KASHiH,EATG,KAYbgD,EAAc/O,iBAAO,MACrBkM,EAAWlM,iBAAO,MAClBgP,EAAahP,iBAAO,MACpBmM,EAAcnM,iBAAO,MACrBiP,EAAqBjP,iBAAO,MAE5BkP,EAAO,CACXN,SAAUG,EAAY1O,QACtBiL,MAAOY,EAAS7L,QAChBwO,QAASG,EAAW3O,QACpBkL,SAAUY,EAAY9L,QACtB+N,gBAAiBa,EAAmB5O,SAIhCuK,EAAS,CACb,CACEpN,KAAM,WACN0D,KAAM,OACNrI,MAAO8R,EAAOiE,SACdlN,YAAa,WACbgE,MAAO,WACP9E,IAAKmO,EACL9B,QAAS,4BACTiB,aAAc,CACZ,CAAEb,KAAM,2BAA4BJ,QAAS,aAAcG,WAAW,GACtE,CAAEC,KAAM,8BAA+BJ,QAAS,4BAA6BG,WAAW,GACxF,CAAEC,KAAM,qBAAsBJ,QAAS,YAAaG,WAAW,KAGnE,CACE5P,KAAM,QACN0D,KAAM,QACNrI,MAAO8R,EAAOW,MACd5J,YAAa,QACbgE,MAAO,QACP9E,IAAKsL,EACLe,QAAS,yDACTiB,aAAc,CACZ,CAAEb,KAAM,8BAA+BJ,QAAS,wDAAyDG,WAAW,KAGxH,CACE5P,KAAM,UACN0D,KAAM,OACNrI,MAAO8R,EAAOkE,QACdnN,YAAa,UACbgE,MAAO,UACP9E,IAAKoO,EACL/B,QAAS,eACTiB,aAAc,CACZ,CAAEb,KAAM,oCAAqCJ,QAAS,mBAAoBG,WAAW,KAGzF,CACE5P,KAAM,WACN0D,KAAM,WACNrI,MAAO8R,EAAOY,SACd7J,YAAa,WACbgE,MAAO,WACP9E,IAAKuL,EACLc,QAAS,yFACTiB,aAAc,CACZ,CAAEb,KAAM,2BAA4BJ,QAAS,aAAcG,WAAW,GACtE,CAAEC,KAAM,uBAAwBJ,QAAS,4BAA6BG,WAAW,GACjF,CAAEC,KAAM,uBAAwBJ,QAAS,4BAA6BG,WAAW,GACjF,CAAEC,KAAM,aAAcJ,QAAS,oBAAqBG,WAAW,GAC/D,CAAEC,KAAM,kCAAmCJ,QAAS,yBAA0BG,WAAW,GACzF,CAAEC,KAAM,0BAA2BJ,QAAS,YAAaG,WAAW,GACpE,CAAEC,KAAM,kBAAmBJ,QAAS,kCAAmCG,WAAW,KAGtF,CACE5P,KAAM,kBACN0D,KAAM,WACNrI,MAAO8R,EAAOyD,gBACd1M,YAAa,mBACbgE,MAAO,mBACP9E,IAAKqO,EACLhC,QAAStC,EAAOY,SAChB2C,aAAc,CACZ,CACEb,KAAM,uBACNJ,QAAQ,IAAD,OAAMtC,EAAOY,SAAb,KACP6B,WAAW,MAhGA,EAuGa+B,qBAC9BC,GACC,WACC,IAAIlN,EAAQ,GACZ,IAAK,IAAMmN,KAAQhE,GACjBnJ,EAAK,2BAAQA,GAAR,mBAAgBmN,EAAO,KAE9B,OAAOnN,EALR,IAzGgB,mBAuGZ8L,EAvGY,KAuGCsB,EAvGD,KAkHb7V,EAAWC,cAOjBI,qBAAU,WAC2B,IAA/BgR,OAAOC,KAAKC,GAAQ3M,QAAgBwN,EAEtCD,GAAe,GAEfE,GAAY,KAEb,CAACd,IAGJlR,qBAAU,WACR,GAAI6R,EAAa,CACfhP,GAAW,GAEX,IAAM4S,EAAc,CAClB/R,KAAMmN,EAAOiE,SAASvC,OACtBf,MAAOX,EAAOW,MAAMe,OACpBwC,QAASlE,EAAOkE,QAAQxC,OACxBd,SAAUZ,EAAOY,SACjB6C,gBAAiBzD,EAAOyD,iBAGpB5K,EAAU,CACdC,OAAQ,OACRJ,QAAS,CAAE,eAAgB,oBAC3BpE,KAAM/E,KAAK8D,UAAUuR,IAGvB,IACE7L,MAAM,GAAD,OAAI5K,EAAIE,UAAR,qBAAsCwK,GACxCG,MAAK,SAACC,GACL,OAAIA,EAAIsF,GACCtF,EAAIC,OAEND,EAAIC,OAAOF,MAAK,SAACG,GAEtB,MADAnH,GAAW,GACL,IAAI2P,MAAMpS,KAAK8D,UAAU8F,UAGlCH,MAAK,SAAAG,GACJrK,EAAS,SAAU,CAAEyI,MAAO,CAAE4C,QAAShB,EAAKgB,UAAa,CAAE/B,SAAS,OAErEgB,OAAM,SAAAC,GACL+H,EAAW/H,EAAMc,SACjB8G,GAAe,GACfjP,GAAW,MAEf,MAAOqH,GACPrH,GAAW,GACXoP,EAAW/H,EAAMc,SACjB8G,GAAe,OAGlB,CAACD,IAQJ,IAAMgB,EAAe,SAACtN,GAEpBoM,EAAU,2BAAKd,GAAN,mBAAetL,EAAEC,OAAO9B,KAAO6B,EAAEC,OAAOzG,SAG5CwG,EAAEC,OAAO8L,iBACZ/L,EAAEC,OAAOmN,kBAAkB,IAGzBpN,EAAEC,OAAO8L,kBAAoB/L,EAAEC,OAAOzG,OACxCwG,EAAEC,OAAOmN,kBAAkB,WAGxBpN,EAAEC,OAAOzG,OACZwG,EAAEC,OAAOmN,kBAAkB,IAI7B,IAAMF,EAA4B,aAAlBlN,EAAEC,OAAO9B,KACvB,CACEA,KAAM6B,EAAEC,OAAO9B,KACfmN,OAAQ,CAAE2D,MAAOjP,EAAEC,OAAOzG,OAC1BqV,aAAc,CAAEI,MAAO1D,EAAOvL,EAAEC,OAAOlC,IAAI8Q,eACzC,CACF1Q,KAAM6B,EAAEC,OAAO9B,KACfmN,OAAQ,CACNY,SAAUlM,EAAEC,OAAOzG,MACnBuV,gBAAiBc,EAAKd,gBAAgBvV,OAExCqV,aAAc,CACZ3C,SAAUX,EAAOvL,EAAEC,OAAOlC,IAAI8Q,aAC9BE,gBAAiBxD,EAAOA,EAAOvM,OAAS,GAAG6P,eAIjDoB,EAAS,CACPpO,KAAM7B,EAAE6B,KACRqL,QAAQ,eAAMA,MAKZK,EAAc,SAACvN,GAEnB,GAAI2L,EAAO3L,EAAEC,OAAO9B,MAAO,CACzB,IAAMqP,EAAW,eAAQ7B,UAClB6B,EAAYxN,EAAEC,OAAO9B,MAC5BkO,EAAUmB,GAIPxN,EAAEC,OAAOzG,OACZwG,EAAEC,OAAOmN,kBAAkB,WAI7B6C,EAAS,CACPpO,KAAM7B,EAAE6B,KACRqL,QAAS,CACP/O,KAAM6B,EAAEC,OAAO9B,KACf3E,MAAOwG,EAAEC,OAAOzG,MAChBqV,aAActD,EAAOvL,EAAEC,OAAOlC,IAAI8Q,iBAMlCpB,EAAa,SAACzN,IAEjBA,EAAEC,OAAOzG,OAASwG,EAAEC,OAAOmN,kBAAkB,KAWhD,OACE,mCACG/P,EAEG,cAAC,GAAD,IAEA,sBAAKyC,UAAU,eAAf,UACE,qBAAKA,UAAU,YAAf,SACE,cAAC,IAAD,CAAMiG,GAAG,IAAT,SAAa,gDAEf,qBAAKjG,UAAU,aAAf,SACE,uDAEF,qBAAKA,UAAW2F,EAAU,qBAAuB,OAAjD,SACE,4BAAIA,EAAQ/B,QAAQ,SAAU,QAEhC,uBAAM5D,UAAU,YAAY/B,GAAG,cAAcI,KAAK,cAAcwH,SAvBrD,SAAC3F,GACpBA,EAAEmC,iBACF,IAAMuL,EAAcL,GAAa/B,EAAQuE,GACzCpD,GAAY,GACZJ,EAAUqB,IAmBsFC,YAAU,EAAlG,UAGIpC,EAAO/J,KAAI,SAACyN,EAAO7P,GACjB,OAAO,cAAC,GAAD,yBAELrB,GAAIqB,GACA6P,GAHC,IAILf,WAAYS,EAAYM,EAAM9Q,MAC9B2D,SAAUwL,EACVpL,QAASqL,EACTnL,OAAQqL,EACR9B,OAAQA,EACRpK,IAAK0N,EAAM1N,MARNnC,MAWX,sBAAKU,UAAU,2BAAf,UACE,cAAC,IAAD,CAAMA,UAAU,OAAOiG,GAAG,SAA1B,+BACA,wBAAQjG,UAAU,WAAW+B,KAAK,SAAlC,gCCvSDsO,GAdE,WACf,OACE,sBAAKrQ,UAAU,UAAf,UACE,wBAAQA,UAAU,SAAlB,SAEE,oBAAIA,UAAU,QAAd,wBAEF,sBAAMA,UAAU,aCOPsQ,GAdO,WAClB,OACI,sBAAKtQ,UAAU,UAAf,UACI,wBAAQA,UAAU,SAAlB,SAEI,oBAAIA,UAAU,QAAd,8BAEJ,sBAAMA,UAAU,aC4EbuQ,GAnFF,WACX,OACE,qCACE,yBAASvQ,UAAU,4BACnB,sBAAKA,UAAU,oBAAf,UACE,wBAAQA,UAAU,SAAlB,SACE,oBAAIA,UAAU,QAAd,qCAEF,uBAAMA,UAAU,OAAhB,UACA,sBAAKA,UAAU,UAAf,UACE,oBAAIA,UAAU,gBAAd,wBACA,sBAAKA,UAAU,eAAf,UACE,oNAKA,uBACA,kRAMA,uBACA,4NAOJ,sBAAKA,UAAU,UAAf,UACE,oBAAIA,UAAU,uBAAd,0BACA,sBAAKA,UAAU,eAAf,UACE,2DAC4B,cAAC,IAAD,CAAMiG,GAAI,YAAV,iCAD5B,mGAIA,uBACA,yeAQA,uBACA,gWAQJ,sBAAKjG,UAAU,UAAf,UACE,oBAAIA,UAAU,uBAAd,4BACA,sBAAKA,UAAU,eAAf,UACE,iDACkB,8CADlB,kBAC0D,0CAD1D,gJAKA,uBACA,6DAC8B,2CAD9B,gGAEsD,gDAFtD,OAIA,uBACA,4DAC6B,iCAAQ,mBAAGwQ,KAAK,yBAAyBrQ,OAAO,SAASgC,MAAM,kBAAvD,uBADrC,mCACkK,mDADlK,8EAEiE,mBAAGqO,KAAK,gCAAgCrQ,OAAO,SAASgC,MAAM,oBAA9D,SAAkF,oDAFnJ,uBC1DGsO,GAbC,WACd,OACE,sBAAKzQ,UAAU,UAAf,UACE,wBAAQA,UAAU,SAAlB,SAEE,oBAAIA,UAAU,QAAd,uBAEF,sBAAMA,UAAU,aCOP0Q,GAdD,WACZ,OACE,sBAAK1Q,UAAU,UAAf,UACE,wBAAQA,UAAU,SAAlB,SAEE,oBAAIA,UAAU,QAAd,qBAEF,sBAAMA,UAAU,aCUP2Q,GAjBC,WAAO,IACb3W,EAASwB,IAATxB,KAER,OACE,sBAAKgG,UAAU,UAAf,UACE,wBAAQA,UAAU,SAAlB,SAEE,oBAAIA,UAAU,QAAd,uBAEF,uBAAMA,UAAU,OAAhB,UACE,uCAAUhG,EAAKqE,QACf,0CAAarE,EAAK0V,kBCeXkB,GA1BG,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WACT5S,EAAqC4S,EAArC5S,GAAIkF,EAAiC0N,EAAjC1N,MAAOmE,EAA0BuJ,EAA1BvJ,IAAKC,EAAqBsJ,EAArBtJ,IAAKhF,EAAgBsO,EAAhBtO,YADK,EAGAjJ,oBAAS,GAHT,mBAG3ByD,EAH2B,KAGhBC,EAHgB,KAYlC,OARArC,qBAAU,WACN,IAAMmW,EAAM,IAAIC,MAChBD,EAAIxJ,IAAMA,EACVwJ,EAAIE,OAAS,WACThU,GAAa,MAElB,CAACsK,IAGA,qBAAKtH,UAAU,YAAf,SAESjD,EAIO,qBAAKkB,GAAIA,EAAI+B,UAAWmD,EAAOmE,IAAKA,EAAKC,IAAKA,EAAKhK,QAAQ,SAH/D,qBAAKU,GAAIA,EAAI+B,UAAWmD,EAAOmE,IAAK/E,EAAagF,IAAKA,OCP3D0J,GARI,WACf,OACI,wBAAQjR,UAAU,sCAAsC+B,KAAK,SAA7D,SACI,cAAC,KAAD,OCMGmP,GATU,SAAC9R,GACxB,OACE,0BAASY,UAAU,eAAnB,UACE,cAAC,GAAD,eAAeZ,IACf,cAAC,GAAD,QCuCS+R,GA3CO,SAAC,GAAuB,IAArBpT,EAAoB,EAApBA,KAAMR,EAAc,EAAdA,QAE3B,OACI,mCAEQA,EAEQ,cAAC,GAAD,IAEA,mCACI,sBAAKyC,UAAU,YAAf,UACI,qBAAKA,UAAU,YAAf,SACI,8BAAG,sBAAMA,UAAU,kBAAhB,kBAAH,IAAiD,sBAAMA,UAAU,kBAAhB,SAAmCjC,EAAKqT,gBAE7F,qBAAKpR,UAAU,YAAf,SACI,8BAAG,sBAAMA,UAAU,kBAAhB,mBAAH,KAAmD,sBAAMA,UAAU,kBAAhB,SAAmCjC,EAAKsT,YAAYnW,MAAM,KAAK,UAEtH,qBAAK8E,UAAU,YAAf,SACI,8BAAG,sBAAMA,UAAU,kBAAhB,qBAAH,KAAqD,sBAAMA,UAAU,kBAAhB,SAAmCmL,GAAepN,EAAKuT,eAGvF,YAArBvT,EAAK8M,SAAS,IACd,qBAAK7K,UAAU,YAAf,SACI,8BAAG,sBAAMA,UAAU,kBAAhB,qBAAH,KAAqD,sBAAMA,UAAS,UAAwC,SAAnCjC,EAAK8M,SAAS,GAAGpL,cAA2B,cAAgB,GAAjE,oBAAf,SAAuG0L,GAAepN,EAAK8M,SAAS,WAGjM,qBAAK7K,UAAU,YAAf,SACI,8BAAG,sBAAMA,UAAU,kBAAhB,oBAAH,KAAoD,sBAAMA,UAAU,kBAAhB,SAAmCjC,EAAKwT,aAEhG,qBAAKvR,UAAU,YAAf,SACI,8BAAG,sBAAMA,UAAU,kBAAhB,0BAAH,KAA0D,sBAAMA,UAAU,kBAAhB,SAAmCjC,EAAKyT,wBAEtG,qBAAKxR,UAAU,YAAf,SACI,8BAAG,sBAAMA,UAAU,kBAAhB,qBAAH,KAAqD,sBAAMA,UAAU,kBAAhB,SAAmCjC,EAAK0T,OAAOvW,MAAM,KAAK,kBCuB7IuV,GAAUnK,YAAOQ,IAAPR,CAAH,uRAaEoL,GAnEW,SAAC,GAAuB,IAArB3T,EAAoB,EAApBA,KAAMR,EAAc,EAAdA,QACvBvD,EAASwB,IAATxB,KAER,OACI,mCAEQuD,EAEQ,cAAC,GAAD,IAEA,mCACI,sBAAKyC,UAAU,YAAf,UACI,qBAAKA,UAAU,YAAf,SACI,8BAAG,sBAAMA,UAAU,kBAAhB,qBAAH,KAAqD,sBAAMA,UAAU,kBAAhB,SAAmCjC,EAAK4T,gBAEjG,qBAAK3R,UAAU,YAAf,SACI,8BAAG,sBAAMA,UAAU,kBAAhB,wBAAH,IAAuD,sBAAMA,UAAU,kBAAhB,SAAmCjC,EAAK6T,UAAUtG,qBAE7G,qBAAKtL,UAAU,YAAf,SACI,8BAAG,sBAAMA,UAAU,kBAAhB,yBAAH,KAAyD,sBAAMA,UAAU,kBAAhB,SAAmCjC,EAAK8T,mBAErG,qBAAK7R,UAAU,YAAf,SAEI,8BAAG,sBAAMA,UAAU,kBAAhB,oBAAH,KAAoD,sBAAMA,UAAU,kBAAhB,SAAmCjC,EAAK+T,aAE/F/T,EAAKe,SAAW,GACb,qBAAKkB,UAAU,YAAf,SACI,8BAAG,sBAAMA,UAAU,kBAAhB,uBAAH,KAAuD,sBAAMA,UAAU,kBAAhB,SAAmCjC,EAAKe,gBAGtG9E,GACG,qBAAKgG,UAAU,eAAf,SACI,cAAC,GAAD,CACIiG,GAAI,CACA1M,SAAU,gBACVwJ,MAAO,CAAEgP,OAAQhU,EAAK4T,SAAUK,QAASjU,EAAKM,OAHtD,sCCCzB4T,GArCc,SAAC,GAAc,IAAD,EAAXlU,EAAW,EAAXA,KAE5B,OACI,mCACI,sBAAKiC,UAAU,YAAf,UACI,qBAAKA,UAAU,YAAf,SACI,8BAAG,sBAAMA,UAAU,kBAAhB,kBAAH,IAAiD,sBAAMA,UAAU,kBAAhB,SAAmCjC,EAAKqT,gBAE7F,qBAAKpR,UAAU,YAAf,SACI,8BAAG,sBAAMA,UAAU,kBAAhB,oBAAH,IAAmD,sBAAMA,UAAU,kBAAhB,mBAAmCjC,EAAKsT,mBAAxC,aAAmC,EAAkBnW,MAAM,KAAK,UAEvH,qBAAK8E,UAAU,YAAf,SACI,8BAAG,sBAAMA,UAAU,kBAAhB,qBAAH,KAAqD,sBAAMA,UAAU,kBAAhB,SAAmCmL,GAAepN,EAAKuT,eAGvF,YAArBvT,EAAK8M,SAAS,IACd,qBAAK7K,UAAU,YAAf,SACI,8BAAG,sBAAMA,UAAU,kBAAhB,qBAAH,KAAqD,sBAAMA,UAAS,UAAwC,SAAnCjC,EAAK8M,SAAS,GAAGpL,cAA2B,cAAgB,GAAjE,oBAAf,SAAuG0L,GAAepN,EAAK8M,SAAS,WAGjM,qBAAK7K,UAAU,YAAf,SACI,8BAAG,sBAAMA,UAAU,kBAAhB,oBAAH,KAAoD,sBAAMA,UAAU,kBAAhB,SAAmCjC,EAAKwT,aAEhG,qBAAKvR,UAAU,qBAAf,SACI,8BAAG,sBAAMA,UAAU,kBAAhB,0BAAH,KAA0D,sBAAMA,UAAU,kBAAhB,SAAmCjC,EAAKyT,wBAEtG,qBAAKxR,UAAU,YAAf,SACI,8BAAG,sBAAMA,UAAU,kBAAhB,qBAAH,KAAqD,sBAAMA,UAAU,kBAAhB,SAAmCjC,EAAK0T,OAAOvW,MAAM,KAAK,UAEnH,qBAAK8E,UAAU,cAAf,SACI,8BAAG,sBAAMA,UAAU,kBAAhB,qBAAH,KAAqD,sBAAMA,UAAU,kBAAhB,SAAmCjC,EAAKmU,cAAgB,YAAc,2BCThIC,GAlBW,SAAC/S,GAAW,IAC1BqG,EAAwBrG,EAAxBqG,WAAe2M,EADU,aACDhT,EADC,gBAGjC,OACI,yBAASY,UAAU,eAAnB,SACoB,mBAAfyF,EACG,cAAC,GAAD,eAAuB2M,IAER,sBAAf3M,EACI,cAAC,GAAD,eAA0B2M,IAEtB,cAAC,GAAD,eAAmBA,OCA5BC,GAdW,WAEtB,OACI,sBAAKrS,UAAU,oBAAf,UACI,qBAAKA,UAAU,gBAAf,SACI,wBAAQ/B,GAAG,kBAAkB+B,UAAU,2BAA2B+B,KAAK,SAAvE,+BAEJ,qBAAK/B,UAAU,gBAAf,SACI,wBAAQ/B,GAAG,cAAc+B,UAAU,4BAA4B+B,KAAK,SAApE,+BCsBDuQ,GA5Bc,SAAC,GAA0B,EAAxBvU,KAAwB,EAAlBwU,YAYlC,OACI,sBAAKvS,UAAU,oBAAf,UACI,qBAAKA,UAAU,gBAAf,SACI,wBAAS/B,GAAG,cAAc+B,UAAU,yBAAyB+B,KAAK,SAAlE,sBAKA,qBAAK/B,UAAU,gBAAf,SACA,wBAAQ/B,GAAG,YAAY+B,UAAU,0BAA0B+B,KAAK,SAAhE,wBChBDyQ,GARA,SAAC,GAAiC,IAA/B3B,EAA8B,EAA9BA,WAAY0B,EAAkB,EAAlBA,YAClBtU,EAAmC4S,EAAnC5S,GAAIkF,EAA+B0N,EAA/B1N,MAAOpB,EAAwB8O,EAAxB9O,KAAMrI,EAAkBmX,EAAlBnX,MAAO6L,EAAWsL,EAAXtL,OAEhC,OACI,wBAAQtH,GAAIA,EAAI+B,UAAWmD,EAAOpB,KAAMA,EAAMqE,QAASmM,EAAaE,SAAUlN,EAA9E,SAAuF7L,KCAzFwS,GAAO,CACT/I,MAAO,sCACPpB,KAAM,SACNrI,MAAO,oBACPgZ,QAAQ,GAgFGC,GA9EO,SAAC,GAA0B,IAAxB5U,EAAuB,EAAvBA,KAAMP,EAAiB,EAAjBA,WAAiB,EACRlE,mBAAS4S,IADD,mBACrC2E,EADqC,KACzB+B,EADyB,OAEJtZ,mBAAS,MAFL,mBAErCuZ,EAFqC,KAEvBC,EAFuB,KAIpC9Y,EAASwB,IAATxB,KAEF+Y,EAAoB,SAACpN,GACvB,IAAIqN,EAAO,CAAEjR,KAAM,SAAUrI,MAAOiM,EAAQ7F,KAAMqD,MAAO,IACzD,OAAQwC,EAAQxD,OACZ,IAAK,aACD6Q,EAAI,2BAAQA,GAAR,IAAc7P,MAAO,uDACzB,MACJ,IAAK,aACD6P,EAAI,2BAAQA,GAAR,IAAc7P,MAAO,uDACzB,MACJ,IAAK,YACD6P,EAAI,2BAAQA,GAAR,IAAc7P,MAAO,qDACzB,MACJ,QACI6P,EAAI,2BAAQA,GAAR,IAAc7P,MAAO,sCAAuCzJ,MAAO,oBAAqB6L,QAAQ,IAG5G,OAAOyN,GAGXrY,qBAAU,WAEN,GAAIkY,EAAc,CAEdrV,GAAW,GACX,IAAM0G,EAAU,IAAIC,QACpBD,EAAQE,OAAO,eAAgB,oBAC/BF,EAAQE,OAAO,aAAcpK,EAAKc,OAElC,IAAMuJ,EAAU,CACZC,OAAQ,OACRJ,QAASA,EACTpE,KAAM/E,KAAK8D,UAAUgU,IAEzBtO,MAAM,GAAD,OAAI5K,EAAIE,UAAR,0BAAmCG,EAAKiE,GAAxC,YAA8C4U,EAAa5U,IAAMoG,GACjEG,MAAK,SAACC,GACH,OAAIA,EAAIsF,GACGtF,EAAIC,OAERD,EAAIC,OAAOF,MAAK,SAACG,GAEpB,MADAnH,GAAW,GACL,IAAI2P,MAAMpS,KAAK8D,UAAU8F,UAGtCH,MAAK,SAACG,GACHiO,EAAcG,EAAkBpO,EAAKgB,UACrCnI,GAAW,MAEdoH,OAAM,SAACC,GACJ,IAAMhI,EAAe9B,KAAKC,MAAM6J,EAAMc,SACtCiN,EAAcG,EAAkBlW,IAEhCW,GAAW,SAGxB,CAACqV,IAKJ,OAEI,qBAAK7S,UAAU,oBAAf,SACI,qBAAKA,UAAU,gBAAf,SAEI,wBAAQ/B,GAAG,oBAAoB+B,UAAW6Q,EAAW1N,MAAOpB,KAAM8O,EAAW9O,KAAMqE,QAR3E,WAChB0M,EAAgB/U,IAOR,SAA0G8S,EAAWnX,aCDtHuZ,GArEFrR,sBAAW,SAAcxC,EAAOqC,GAAM,IACvC1D,EAAkCqB,EAAlCrB,KAAM0H,EAA4BrG,EAA5BqG,WAAY8M,EAAgBnT,EAAhBmT,YADoB,EAEhBjZ,oBAAS,GAFO,mBAEvCiE,EAFuC,KAE9BC,EAF8B,OAGNlE,mBAAS,MAHH,mBAGvC4Z,EAHuC,KAGzBC,EAHyB,KAKxCC,GAAiB,OAAJrV,QAAI,IAAJA,OAAA,EAAAA,EAAMqV,cAAN,OAAoBrV,QAApB,IAAoBA,OAApB,EAAoBA,EAAMsV,WAAW,GAAGD,YACrDE,EAAgB,CAClBrV,GAAI,cACJkF,MAAO,yBACPmE,IAAK8L,EAAWG,MAChBhM,IAAI,GAAD,OAAKxJ,EAAKM,KAAV,UACHkE,YCrBO,uwODqDX,OA1BA5H,qBAAU,WAAO,IAAD,GAER,UAACoD,EAAKsV,kBAAN,aAAC,EAAiBnU,QAWlBiU,EACIpV,EAAKsV,WAAW3R,KAAI,SAAC8R,GACjB,OAAOC,wBAAc,MAAO,CACxBxV,GAAI,cACJ+B,UAAW,yBACXsH,IAAKkM,EAAUJ,WAAWM,OAC1BnM,IAAI,GAAD,OAAKxJ,EAAKM,KAAV,gBAhBf8U,EACIM,wBAAc,MAAO,CACjBxV,GAAI,cACJ+B,UAAW,yBACXsH,IAAK8L,EAAWM,OAChBnM,IAAI,GAAD,OAAKxJ,EAAKM,KAAV,eAgBhB,CAACN,IAGA,mCACI,sBAAKiC,UAAU,eAAeoG,QAAS,SAAClG,GAAD,OAAOqS,EAAYrS,EAAGnC,EAAMuV,EAAeJ,IAAezR,IAAKA,EAAtG,UACI,wBAAQzB,UAAU,cAAlB,SACI,oBAAIA,UAAU,YAAd,SAA2BjC,EAAKM,SAEpC,0BAAS2B,UAAU,YAAnB,UACI,cAAC,GAAD,CAAkB6Q,WAAYyC,IAC9B,cAAC,GAAD,CAAmBvV,KAAMA,EAAM0H,WAAYA,EAAYlI,QAASA,OAEpE,wBAAQyC,UAAU,cAAlB,SACoB,mBAAfyF,EACG,cAAC,GAAD,CAAmB1H,KAAMA,IAEV,sBAAf0H,EACI,cAAC,GAAD,CAAsB1H,KAAMA,IAExB,cAAC,GAAD,CAAeA,KAAMA,EAAMP,WAAY,SAAC9D,GAAY8D,EAAW9D,gBEjDhFia,GAnBD,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,KAAMva,EAAe,EAAfA,SACnB,OAAKua,GAML9S,SAAShB,KAAKM,UAAUC,IAAI,eAErBwT,uBACH,qBAAK7T,UAAU,UAAf,SACI,qBAAKA,UAAU,QAAf,SACC3G,MAGLyH,SAAShB,QAZTgB,SAAShB,KAAKM,UAAUG,OAAO,eACxB,OCkCAuT,GAxCa,SAAC,GAA0C,IAAxCza,EAAuC,EAAvCA,SAAU0a,EAA6B,EAA7BA,UAAWxB,EAAkB,EAAlBA,YAchD,OACI,mCACMwB,EAOM,qBAAK/T,UAAU,0BAA0BoG,QAAS,SAAClG,IArB5C,SAACA,GACA,gBAAhBA,EAAEC,OAAOlC,GACTsU,EAAYrS,GAEPA,EAAEC,OAAOC,UAAUuI,SAAS,mBACjC7H,SAASmC,cAAc,oBAAoB7C,UAAUyC,OAAO,YAC5DmR,YAAW,WACPlT,SAASmT,uBAAuB,iBAAiB,GAAG7T,UAAUyC,OAAO,YACtE,MAagEqR,CAAehU,IAA1E,SACI,sBAAKF,UAAU,kBAAf,UACI,sBAAKA,UAAU,kBAAf,UACK3G,EAAS,GAAG,GACZA,EAAS,MAEd,sBAAK2G,UAAU,kBAAf,UACK3G,EAAS,GAAG,GACZA,EAAS,WAbtB,qBAAK2G,UAAU,gBAAgBoG,QAASmM,EAAxC,SACKlZ,OCUV8a,GA1BCvS,sBAAW,SAAiBxC,EAAOqC,GAAM,IAC7C2S,EAA0BhV,EAA1BgV,SAAU7B,EAAgBnT,EAAhBmT,YAClB,OACI,sBAAKvS,UAAU,gBAAf,UACI,wBAAQA,UAAU,wBAAlB,SACI,qBAAKA,UAAU,cAAf,SACI,oBAAIA,UAAU,qBAAd,SAAoCoU,EAASzO,cAGrD,yBAAS3F,UAAU,cAAnB,SACI,cAAC,KAAD,CAAkBA,UAAU,kBAEhC,wBAAQA,UAAU,cAAlB,SACI,qBAAKA,UAAU,qBAAf,SACI,wBACI/B,GAAG,iBACH8D,KAAK,SACLqE,QAASmM,EACT9Q,IAAKA,cCLd4S,GAdU,SAAC7I,GACtB,IAAME,EAAUC,OAAOC,KAAKJ,GACxBK,EAAS,GAQb,OAPAH,EAAQ5N,SAAQ,SAACgO,GAERN,EAAOM,KACRhH,QAAQC,IAAIyG,EAAOM,IACnBD,EAAM,2BAAQA,GAAR,mBAAiBC,EAAjB,UAA6BX,GAAeW,GAA5C,sBAGPD,GCFLK,GAAO,CACTpN,SAAU,GACVgT,MAAO,GACPF,UAAW,GACX0C,SAAU,IAyUCC,GAtUE,SAACnV,GAAU,IAEhBrB,EAA8CqB,EAA9CrB,KAAM0H,EAAwCrG,EAAxCqG,WAAYoL,EAA4BzR,EAA5ByR,WAAY0B,EAAgBnT,EAAhBmT,YAFd,EAIIjZ,mBAAS4S,IAJb,mBAIjBL,EAJiB,KAITU,EAJS,OAKIjT,mBAAS4S,IALb,mBAKjBV,EALiB,KAKTc,EALS,OAMMhT,oBAAS,GANf,mBAMjBiE,EANiB,KAMRC,EANQ,OAOclE,oBAAS,GAPvB,mBAOjBkT,EAPiB,KAOJC,EAPI,OAQQnT,oBAAS,GARjB,mBAQjBoT,EARiB,KAQPC,EARO,OASQrT,mBAAS,CACrCkb,WAAW,EACX7O,QAAS,KAXW,mBASjByO,EATiB,KASPK,EATO,KAclBC,EAAS7T,iBAAO,MAChB8T,EAAW9T,iBAAO,MAClB+T,EAAe/T,iBAAO,MACtBgU,EAAchU,iBAAO,MACrBiU,EAAcjU,iBAAO,MACrBkU,EAAalU,iBAAO,MACpBmU,EAAenU,iBAAO,MAEtBvG,EAAWC,cACXH,EAAWC,cACT+K,EAAU8F,cAAV9F,MAEApL,EAASwB,IAATxB,KAGFib,EAAa,SAACC,GAChBlB,YAAW,WACPkB,EAAOhS,UACR,OAGPvI,qBAAU,WACN,GAAI6R,EAAa,CAAC,IAAD,IACbhP,GAAW,GAEX,IAAM2R,EAAQ,CACV5S,SAAQ,UAAEwB,EAAKM,YAAP,aAAE,EAAW6O,OACrB4E,MAAOqD,WAAW3J,EAAOsG,OACzBhT,SAAUE,SAASwM,EAAO1M,UAC1B8S,UAAWpG,EAAOoG,UAClB0C,SAAU9I,EAAO8I,SACjBc,QAAO,UAAE5J,EAAO4J,eAAT,aAAE,EAAgBlI,OACzBmI,UAAW7J,EAAO6J,UAClBC,cAAela,KAAKma,OAGlBrR,EAAU,IAAIC,QACpBD,EAAQE,OAAO,eAAgB,oBAC/BF,EAAQE,OAAO,aAAcpK,EAAKc,OAClC,IAAMuJ,EAAU,CACZC,OAAQ,QACRJ,QAASA,EACTpE,KAAM/E,KAAK8D,UAAUsQ,IAEzB5K,MAAM,GAAD,OAAI5K,EAAIE,UAAR,2BAAoCkE,EAAKyX,IAAzC,YAAgDxb,EAAKiE,IAAMoG,GAC3DG,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACHnH,GAAW,GADC,IAEJI,EAA8B+G,EAA9B/G,MAAO4W,EAAuB7P,EAAvB6P,UAAW7O,EAAYhB,EAAZgB,QAG1B,GADA8O,EAAY,CAAED,UAAWA,EAAW7O,QAASA,IAC/B,cAAVP,EAAuB,CAEvB,IAEMI,EAAS,CAAE5H,MAFIA,EAAMsE,QAAO,SAAAuT,GAAO,OAAIA,EAAQpX,KAAKoB,gBAAkB1B,EAAKM,KAAKoB,iBAEhDgG,WAAYA,GAElDnL,EAAS,GAAD,OAAIF,EAASb,UACjB,CACIwJ,MAAOyC,IAEf/K,aAAamE,QAAQ,gBAAiB7D,KAAK8D,UAAU2G,IACrDyP,EAAWP,EAAOxT,aACf,CACH,IAAMsE,EAAS,CAAE5H,MAAOA,EAAO6H,WAAYA,GAE3CnL,EAAS,GAAD,OAAIF,EAASb,UACjB,CACIwJ,MAAOyC,IAEf/K,aAAamE,QAAQ,gBAAiB7D,KAAK8D,UAAU2G,IACrDyP,EAAWP,EAAOxT,aAGzB0D,OAAM,SAACC,GACJrH,GAAW,GACXsH,QAAQC,IAAI,QAASF,SAGlC,CAAC2H,IAEJ7R,qBAAU,WACNga,EAASzT,QAAQ4H,QACjBwD,EAAU,CACNwF,MAAO/T,EAAI,OAAaA,EAAI,OAAa,GACzCe,SAAUf,EAAI,UAAgBA,EAAI,UAAgB,GAClD6T,UAAW7T,EAAI,WAAiBA,EAAI,WAAiB,GACrDuW,SAAUvW,EAAI,UAAgBA,EAAI,UAAgB,GAClDqX,QAASrX,EAAI,SACbsX,UAAWtX,EAAI,kBAEpB,IAGHpD,qBAAU,WAC6B,IAA/BgR,OAAOC,KAAKC,GAAQ3M,QAAgBwN,EAEpCD,GAAe,GAEfE,GAAY,KAEjB,CAACd,IAOJ,IAAM2B,EAAe,SAACtN,GAClBoM,EAAU,2BAAKd,GAAN,mBAAetL,EAAEC,OAAO9B,KAAO6B,EAAEC,OAAOzG,UAI/Cgc,EAAoB,SAACxV,GACvBoM,EAAU,2BAAKd,GAAN,IAAc6J,WAAY7J,EAAO6J,cAIxC5H,EAAc,SAACvN,GAEjB,GAAI2L,EAAO3L,EAAEC,OAAO9B,MAAO,CACvB,IAAMqP,EAAW,eAAQ7B,UAClB6B,EAAYxN,EAAEC,OAAO9B,MAC5BkO,EAAUmB,KAKZiI,EAAe,SAACzV,GAClBA,EAAEmC,iBAC+CmJ,EAAzC4J,QAAyC5J,EAAhC6J,UAFO,IAEOO,EAFP,aAEyBpK,EAFzB,yBAGlBoC,EAAcL,GAAaqI,GACjCjJ,GAAY,GACZJ,EAAUqB,IAGd,OACI,qBAAK5N,UAAS,wBAAmBzC,EAAU,eAAiB6W,EAASI,UAAY,iBAAmB,eAApG,SAEQjX,EACI,cAAC,GAAD,IAEA,mCAEa6W,EAASI,UA8JV,cAAC,GAAD,CAASJ,SAAUA,EAAU7B,YAAaA,EAAa9Q,IAAKiT,IA7J5D,qCACQ,wBAAQ1U,UAAU,uBAAlB,SACI,qBAAKA,UAAU,cAAf,SAEI,oBAAIA,UAAU,SAAd,2BAGZ,sBAAKA,UAAU,aAAf,UACI,sBAAKA,UAAU,YAAf,UACI,yBAASA,UAAU,eAAnB,SACI,cAAC,GAAD,CAAW6Q,WAAYA,MAE3B,yBAAS7Q,UAAU,eAAnB,SACI,cAAC,GAAD,CAAsBjC,KAAMA,SAGpC,qBAAKiC,UAAU,YAAf,SACI,uBAAMA,UAAU,YAAY/B,GAAG,YAAYI,KAAK,YAAYwH,SAAU8P,EAAc9H,YAAU,EAA9F,UACI,sBAAK7N,UAAU,0BAAf,UACI,sBAAKA,UAAU,cAAf,UACI,uBAAOyG,QAAQ,QAAQzG,UAAW6L,EAAOiG,OAAS,eAAlD,SAAmEjG,EAAOiG,MAAQjG,EAAOiG,MAAQ,UACjG,uBACI9R,UAAW6L,EAAOiG,MAAQ,+BAAiC,GAC3D7T,GAAG,QACH8D,KAAK,SACL1D,KAAK,QACL3E,MAAO8R,EAAOsG,MACd9P,SAAUwL,EACVpL,QAASqL,EACToI,IAAI,OACJC,IAAI,QACJvT,YAAY,QACZd,IAAKkT,OAGb,sBAAK3U,UAAU,cAAf,UACI,uBAAOyG,QAAQ,WAAWzG,UAAW6L,EAAO/M,UAAY,eAAxD,SAAyE+M,EAAO/M,SAAW+M,EAAO/M,SAAW,aAC7G,uBACIkB,UAAW6L,EAAO/M,SAAW,+BAAiC,GAC9Db,GAAG,WACH8D,KAAK,SACL1D,KAAK,WACL3E,MAAO8R,EAAO1M,SACdkD,SAAUwL,EACVpL,QAASqL,EACToI,IAAI,IACJC,IAAI,OACJvT,YAAY,WACZd,IAAKoT,UAIjB,sBAAK7U,UAAU,eAAf,UACQ,uBAAOyG,QAAQ,YAAYzG,UAAW6L,EAAO+F,WAAa,eAA1D,SAA2E/F,EAAO+F,UAAY/F,EAAO+F,UAAY,mBACrH,yBACI5R,UAAW6L,EAAO+F,UAAY,+BAAiC,GAC/D3T,GAAG,YACH8D,KAAK,OACL1D,KAAK,YACL3E,MAAO8R,EAAOoG,UACd5P,SAAUwL,EACVpL,QAASqL,EACThM,IAAKmT,EART,UAUI,wBAAQlb,MAAM,GAAd,gCACA,wBAAQA,MAAM,IAAd,kBACA,wBAAQA,MAAM,KAAd,uBACA,wBAAQA,MAAM,KAAd,4BACA,wBAAQA,MAAM,KAAd,8BACA,wBAAQA,MAAM,KAAd,4BACA,wBAAQA,MAAM,IAAd,2BAGR,sBAAKsG,UAAU,eAAf,UACQ,uBAAOyG,QAAQ,WAAWzG,UAAW6L,EAAOyI,UAAY,eAAxD,SAAyEzI,EAAOyI,SAAWzI,EAAOyI,SAAW,mBAC7G,yBACItU,UAAW6L,EAAOyI,SAAW,+BAAiC,GAC9DrW,GAAG,WACHI,KAAK,WACL3E,MAAO8R,EAAO8I,SACdtS,SAAUwL,EACVpL,QAASqL,EACThM,IAAKqT,EAPT,UASI,wBAAQpb,MAAM,GAAd,+BACA,wBAAQA,MAAM,KAAd,qBACA,wBAAQA,MAAM,KAAd,qBACA,wBAAQA,MAAM,KAAd,oBACA,wBAAQA,MAAM,KAAd,oBACA,wBAAQA,MAAM,KAAd,qBACA,wBAAQA,MAAM,KAAd,wBACA,wBAAQA,MAAM,KAAd,sBACA,wBAAQA,MAAM,KAAd,oBACA,wBAAQA,MAAM,KAAd,qBACA,wBAAQA,MAAM,MAAd,gCACA,wBAAQA,MAAM,MAAd,iCACA,wBAAQA,MAAM,KAAd,6BAGR,sBAAKsG,UAAU,eAAf,UACA,uBAAOyG,QAAQ,UAAUzG,UAAW6L,EAAOuJ,SAAW,eAAtD,SAAuEvJ,EAAOuJ,QAAUvJ,EAAOuJ,QAAU,2BACzG,0BACIpV,UAAW6L,EAAOuJ,SAAW,+BAC7BnX,GAAG,UACHI,KAAK,UACL3E,MAAO8R,EAAO4J,QACdpT,SAAUwL,EACVpL,QAASqL,EACLlL,YAAY,GAChBd,IAAKsT,OAIb,sBAAK/U,UAAU,eAAf,UACI,4CACA,sBAAKA,UAAU,yBAAf,UACI,sBAAKA,UAAU,qDAAf,UACQ,uBAAOyG,QAAQ,YAAf,uBACA,uBAAO1E,KAAK,QAAQ1D,KAAK,YAAYJ,GAAG,YAAY+D,SAAU0T,EAAmBhc,MAAO8R,EAAO6J,UAAW3P,QAAS8F,EAAO6J,UAAW5T,IAAKuT,OAGlJ,sBAAKhV,UAAU,qDAAf,UACQ,uBAAOyG,QAAQ,cAAf,yBACA,uBAAO1E,KAAK,QAAQ1D,KAAK,YAAYJ,GAAG,cAAc+D,SAAU0T,EAAmBhc,OAAQ8R,EAAO6J,UAAW3P,SAAU8F,EAAO6J,6BAQtJ,wBAAQrV,UAAU,6BAAlB,SACA,sBAAKA,UAAU,oBAAf,UACI,qBAAKA,UAAU,gBAAf,SACI,wBACI/B,GAAG,UACC+B,UAAU,8BACd+B,KAAK,SACLqE,QAASmM,EAJb,uBASJ,qBAAKvS,UAAU,gBAAf,SACI,wBACI/B,GAAG,kBACH+B,UAAU,2BACV+B,KAAK,SAELqE,QAASuP,EALb,mCCzJjCI,GA7JI,SAAC3W,GAAU,IAElBrB,EAA8CqB,EAA9CrB,KAAM0H,EAAwCrG,EAAxCqG,WAAYoL,EAA4BzR,EAA5ByR,WAAY0B,EAAgBnT,EAAhBmT,YAFZ,EAIMjZ,mBAAS,CACrC0c,WAAW,EACXrQ,QAEQ,qCACI,yDAA2B,iCAAS5H,EAAKM,OAAzC,4BACA,qGAVU,mBAInB+V,EAJmB,KAITK,EAJS,OAeInb,oBAAS,GAfb,mBAenBiE,EAfmB,KAeVC,EAfU,KAiBpBkX,EAAS7T,iBAAO,MAEhBvG,EAAWC,cACXH,EAAWC,cACT+K,EAAU8F,cAAV9F,MAEApL,EAASwB,IAATxB,KAGFib,EAAa,SAACC,GAChBlB,YAAW,WACPkB,EAAOhS,UACR,OA6DP,OACI,qBAAKlD,UAAS,wBAAmBzC,EAAU,eAAiB6W,EAAS4B,UAAY,iBAAmB,cAApG,SAEYzY,EACI,cAAC,GAAD,IAEA,mCAES6W,EAAS4B,UAiDF,cAAC,GAAD,CAAS5B,SAAUA,EAAU7B,YAAaA,EAAa9Q,IAAKiT,IAhDhE,qCAEI,wBAAQ1U,UAAU,sBAAlB,SACI,qBAAKA,UAAU,cAAf,SACI,oBAAIA,UAAU,SAAd,6BAGR,sBAAKA,UAAU,aAAf,UACZ,sBAAKA,UAAU,YAAf,UACI,yBAASA,UAAU,eAAnB,SACI,cAAC,GAAD,CAAW6Q,WAAYA,MAE3B,yBAAS7Q,UAAU,eAAnB,SACI,cAAC,GAAD,CAAsBjC,KAAMA,SAGxB,qBAAKiC,UAAU,eAAf,SACSoU,EAASzO,aAGlB,wBAAQ3F,UAAU,4BAAlB,SACR,sBAAKA,UAAU,oBAAf,UACgB,qBAAKA,UAAU,gBAAf,SACI,wBACI/B,GAAG,UACH+B,UAAU,8BACV+B,KAAK,SACLqE,QAASmM,EAJb,uBAShB,qBAAKvS,UAAU,gBAAf,SACgB,wBACI/B,GAAG,iBACH+B,UAAU,yBACV+B,KAAK,SACLqE,QAASmM,EACT/Q,YAAa,SAACtB,GAAD,OAzG3C,SAAC9F,GACnBoD,GAAW,GACX,IAAM0G,EAAU,IAAIC,QACpBD,EAAQE,OAAO,eAAgB,oBAC/BF,EAAQE,OAAO,aAAcpK,EAAKc,OAElC,IAAMqU,EAAQ,CACV8G,OAAQlY,EAAKyX,IACbxX,OAAQhE,EAAKiE,IAEXoG,EAAU,CACZC,OAAQ,SACRJ,QAASA,EACTpE,KAAM/E,KAAK8D,UAAUsQ,IAGzB5K,MAAM,GAAD,OAAI5K,EAAIE,UAAR,qBAAsCwK,GACtCG,MAAK,SAACC,GACH,OAAIA,EAAIsF,GACGtF,EAAIC,OAERD,EAAIC,OAAOF,MAAK,SAACG,GAEpB,MADAnH,GAAW,GACL,IAAI2P,MAAMpS,KAAK8D,UAAU8F,UAGtCH,MAAK,SAACG,GACHnH,GAAW,GADC,IAEJI,EAA8B+G,EAA9B/G,MAAOoY,EAAuBrR,EAAvBqR,UAAWrQ,EAAYhB,EAAZgB,QAG1B,GAFA8O,EAAY,CAAEuB,UAAWA,EAAWrQ,QAASA,IAE/B,cAAVP,EAAuB,CACvBN,QAAQC,IAAIU,GAEZ,IACMD,EAAS,CAAE5H,MADIA,EAAMsE,QAAO,SAAAuT,GAAO,OAAIA,EAAQpX,KAAKoB,gBAAkB1B,EAAKM,KAAKoB,iBAChDgG,cACtCnL,EAAS,GAAD,OAAIF,EAASb,UACjB,CACIwJ,MAAOyC,IAEf/K,aAAamE,QAAQ,gBAAiB7D,KAAK8D,UAAU2G,IACrDyP,EAAWP,EAAOxT,aACf,CACH,IAAMsE,EAAS,CAAE5H,MAAOA,EAAO6H,cAC/BnL,EAAS,GAAD,OAAIF,EAASb,UACjB,CACIwJ,MAAOyC,IAEf/K,aAAamE,QAAQ,gBAAiB7D,KAAK8D,UAAU2G,IACrDyP,EAAWP,EAAOxT,aAGzB0D,OAAM,SAACC,GACJrH,GAAW,GACXsH,QAAQC,IAAI,QAASF,MAmDuCqR,CAAc9b,IALtC,oC,SChIrC+b,GAXE,WAEb,OACI,wBAAQnW,UAAU,gBAAgB+B,KAAK,SAAvC,SACI,cAAC,KAAD,OC2FGqU,GA5FE,SAAC3Q,EAAY4Q,GAC1B,IAAMnK,EAAO,CACT0H,MAAM,EACN0C,UAAW,MAET/H,EAGc,iBAHdA,EAIc,iBAJdA,EAKW,cALXA,EAMW,cANXA,EAOO,UAPPA,EAQS,YARTA,EASW,cAdsB,EA4EbyB,sBA3DV,SAACjN,EAAO+L,GAAY,IAAD,EAE/B,OAAQA,EAAO/M,MACX,KAAKwM,EAED,OAAO,UAACO,EAAO1B,QAAQrP,KAAKsV,kBAArB,aAAC,EAAgCnU,QAOhC,CACA0U,MAAM,EACN0C,UACI,eAAC,GAAD,CAAqBvC,WAAW,EAAMxB,YAAa8D,EAAnD,UACKvH,EAAO1B,QAAQmJ,eAChB,cAAC,GAAD,CAAUhE,YAAa8D,QAXnC,CACAzC,MAAM,EACN0C,UACI,cAAC,GAAD,CAAqBvC,WAAW,EAAOxB,YAAa8D,EAApD,SACKvH,EAAO1B,QAAQmJ,kBAUhC,KAAKhI,EACD,MAAO,CACHqF,MAAM,EACN0C,UAAW,cAAC,GAAD,CACPzF,WAAU,2BAAO/B,EAAO1B,QAAQyD,YAAtB,IAAkC5S,GAAI,mBAChDwH,WAAYA,EACZ1H,KAAM+Q,EAAO1B,QAAQrP,KACrBwU,YAAa8D,KAGzB,KAAK9H,EACD,MAAO,CACHqF,MAAM,EACN0C,UACI,cAAC,GAAD,CACIzF,WAAU,2BAAO/B,EAAO1B,QAAQyD,YAAtB,IAAkC5S,GAAI,iBAChDwH,WAAYA,EACZ1H,KAAM+Q,EAAO1B,QAAQrP,KACrBwU,YAAa8D,KAS7B,KAAK9H,EAEL,KAAKA,EAEL,KAAKA,EAEL,KAAKA,EAEL,QACI,OAAOrC,KAG2BA,GA5EP,mBA4EhCnJ,EA5EgC,KA4EzBoN,EA5EyB,KAyFvC,MAAO,CAACpN,EAAO,CAAEyT,YAXG,SAACvY,EAAIF,EAAM8S,EAAYqC,GACvC/C,EAAS,CACLpO,KAAM9D,EACNmP,QAAS,CACLrP,KAAMA,EACN8S,WAAYA,EACZ0F,eAAgBrD,SCDjBuD,GAnFM,WACjB,IAAMrc,EAAWC,cACXC,EAAWC,cAFM,EAGOH,EAAS2I,OAAShI,KAAKC,MAAMP,aAAaI,QAAQ,kBAAxE+C,EAHe,EAGfA,MAAO6H,EAHQ,EAGRA,WACTiR,EAAU7V,iBAAO,MAEvBlG,qBAAU,WAEN,GAAIiD,EAAMsB,OAAQ,CAWdyX,QAAQC,IAAIhZ,EAAM8D,KAAI,SAAA3D,GAAI,OAVR,SAAAA,GACd,OAAO,IAAI4Y,SAAQ,SAACE,EAASC,GAAY,IAAD,IAC9BC,EAAQ,IAAIhG,MACZiG,GAAM,UAAAjZ,EAAKqV,kBAAL,eAAiBM,UAAjB,UAA2B3V,EAAKsV,WAAW,UAA3C,aAA2B,EAAoBD,WAAWM,QAEtEqD,EAAMzP,IAAM0P,EACZD,EAAM/F,OAAS,kBAAM6F,EAAQ9Y,IAC7BgZ,EAAME,QAAU,SAAApS,GAAK,OAAIiS,EAAOjS,OAGVqS,CAAUnZ,OACnCyG,MAAK,SAACG,GAAD,OAAUG,QAAQC,IAAIJ,MAC3BC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAI,wBAAyBF,WAIzDmP,YAAW,WACP1Z,EAAS,wBACV,QAER,CAACF,IA7BmB,MA+BwBgc,GAAS3Q,GAAY,SAAC/L,GAAD,OAAW6Y,EAAY7Y,MA/BpE,0BA+Bdka,EA/Bc,EA+BdA,KAAM0C,EA/BQ,EA+BRA,UAAeE,EA/BP,KA+BOA,YAE9B,SAASjE,EAAYrS,EAAGnC,EAAM8S,EAAYsG,GACtCjX,EAAEkX,kBACFZ,EAAYtW,EAAEC,OAAOlC,GAAIF,EAAM8S,EAAYsG,GAG/C,OACI,qCAEQ,cAAC,GAAD,CAAOvD,KAAMA,EAAb,SACK0C,IAGT,yBAAQtW,UAAU,uBAAlB,UACI,wBAAQA,UAAU,WAAW+B,KAAK,SAASqE,QAAS,WACX9L,EAAtB,sBAAfmL,EAA8C,kBAA8B,IADhF,4BAGA,sBAAMzF,UAAU,UAAhB,SAEQpC,EAAK,UACEA,EAAMsB,OADR,YACkBtB,EAAMsB,OAAS,EAAI,UAAY,UAClD,kBAIhB,qCACI,wBAAQc,UAAU,SAAlB,SACI,oBAAIA,UAAU,QAAd,8BAEJ,sBAAMA,UAAU,OAAhB,SACI,qBAAKA,UAAU,QAAf,SAEQpC,GACAA,EAAM8D,KAAI,SAAC3D,EAAMuB,GACb,OACI,cAAC,GAAD,CAEIvB,KAAMA,EACN0H,WAAYA,EACZ8M,YAAaA,EACb9Q,IAAKiV,GAJApX,iBC5C9B+X,GA5BE,WACf,IAAM/c,EAAWC,cAajB,OACE,sBAAKyF,UAAU,UAAf,UACE,wBAAQA,UAAU,SAAlB,SAEE,oBAAIA,UAAU,QAAd,mBAEF,uBAAMA,UAAU,iBAAhB,UACE,sEACA,cAAC,GAAD,CAAQ6Q,WAnBK,CACjB5S,GAAI,GACJkF,MAAO,0BACPpB,KAAM,SACNrI,MAAO,mBACP6L,QAAQ,GAc4BgN,YAXlB,WAClBjY,EAAS,IAAK,CAAEsJ,SAAS,cCQd0T,GApBM,WAAO,IAChB/a,EAAa2O,cAAb3O,SACFjC,EAAWC,cAEjB,OACI,sBAAKyF,UAAU,YAAf,UACI,iCACI,yBAASA,UAAU,8BAEvB,uBAAMA,UAAU,OAAhB,UACI,uCACA,4DAA+BzD,EAA/B,UAEJ,iCACI,wBAAQyD,UAAU,gBAAgBoG,QAAS,kBAAM9L,GAAU,IAA3D,6B,SCqFVid,GAAOjR,IAAOM,IAAV,4BACJ4Q,GAAmBlR,IAAOM,IAAV,oJAOhB6Q,GAAUnR,IAAOM,IAAV,oHAMP8Q,GAAgBpR,IAAOqR,OAAV,iQAgBbC,GAAgBtR,IAAOM,IAAV,0MAYbiR,GAAWvR,IAAOM,IAAV,ySAiERkR,IA9CSxR,IAAOyR,OAAV,oHAOEzR,IAAOM,IAAV,0FAMON,IAAO0R,KAAV,2GAMD1R,IAAO2R,MAAV,qTAmBY3R,IAAO4O,OAAV,gIAQJ5O,IAAOM,IAAV,+GAOPsR,GAAiB5R,IAAOM,IAAV,iKAQdmK,GAAQzK,IAAOwK,IAAV,iEAIIqH,GA9NE,SAAC,GAA6B,IAA3BpZ,EAA0B,EAA1BA,KAAMqZ,EAAoB,EAApBA,cAAoB,EACd9e,oBAAS,GADK,mBACrCiE,EADqC,KAC5BC,EAD4B,OAEZlE,mBAAS,GAFG,mBAErCwF,EAFqC,KAE3BuZ,EAF2B,OAIR5c,qBAAW6C,GAAvCE,EAJoC,EAIpCA,UAAWC,EAJyB,EAIzBA,aA6CnB,OACE,eAACqZ,GAAD,CAAS9X,UAAWzC,EAAU,UAAY,GAA1C,UACE,cAAC2a,GAAD,UACE,cAAC,GAAD,CAAO5Q,IAAKvI,EAAKqU,WAAWkF,QAE9B,eAACd,GAAD,WACE,eAACI,GAAD,WACE,6BAAK7Y,EAAKV,OACV,mCAAMU,EAAK+S,MAAX,YAEF,eAAC2F,GAAD,WACE,eAACF,GAAD,WACE,yCAAYxY,EAAK4S,YACjB,6CAAgB5S,EAAK8S,eACrB,iDAAoB9S,EAAK6S,UAAUtG,oBAErC,eAACuM,GAAD,WACE,wBACE7V,SAAU,SAAC9B,IA7DF,SAACA,EAAGnB,GACvBP,EAAUV,SAAQ,SAACya,GACbA,IAAaxZ,IAEfwZ,EAAStZ,kBAAoBD,SAASkB,EAAEC,OAAOzG,QAGjD8D,GAAW,GACX4a,GAAc,GAMd7T,MAAM,GAAD,OACA5K,EAAIE,UADJ,wBAC6BkF,EAAKV,KADlC,YAC0CU,EAAKyW,IAD/C,YACsDzW,EAAKE,mBANhD,CACdqF,OAAQ,MACRyT,OAAQ,CAAE,eAAgB,sBAOzBvT,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACL,IAAIA,EAAKA,KAAK6T,oBAOZ,OAAO1T,QAAQC,IAAI,0BANnBvH,GAAW,GACX4a,GAAc,GACdC,EAAYE,EAAStZ,mBACrB,IAAMwZ,EAAK,aAAOja,GAClBC,EAAaga,SAqCTjL,CAAatN,EAAGnB,IAFpB,SAKG,aAAI,IAAI2Z,MAAM3Z,EAAKD,WAAW4C,KAAI,SAACiX,EAAGC,GACrC,OAAOA,EAAI,IAAM7Z,EAAKE,kBACpB,wBAAgBvF,MAAOkf,EAAI,EAAGC,UAAQ,EAAtC,SACGD,EAAI,GADMA,GAIb,wBAAgBlf,MAAOkf,EAAI,EAA3B,SACGA,EAAI,GADMA,QAOnB,wBAAQ7W,KAAK,SAASqE,QAAS,kBA7CrB,SAACrH,GACnBP,EAAUV,SAAQ,SAACya,EAAUjZ,GACvBiZ,IAAaxZ,GACfP,EAAUsM,OAAOxL,EAAO,GAG1B,IAAMmZ,EAAK,aAAOja,GAClBC,EAAaga,MAsC8BlG,CAAYxT,IAAjD,0BAGJ,eAAC2Y,GAAD,WACE,wCACA,4BAAI5Y,GAAQ,YAASC,EAAKE,kBAAoBF,EAAK+S,MAAvC,mBCqBtB,I,0FAAM9I,GAAS1C,IAAOyR,OAAV,oHAONe,GAAQxS,IAAOM,IAAV,0FAMLmS,GAAYzS,IAAO0R,KAAV,2GAMTgB,GAAQ1S,IAAO2R,MAAV,qTAmBLgB,GAAiB3S,IAAO4O,OAAV,gIASLgE,GAzJf,WAAyB,IAAD,EACc5f,mBAAS,GADvB,mBACf6f,EADe,KACHC,EADG,OAEU9f,mBAAS,GAFnB,mBAEf+f,EAFe,KAELC,EAFK,OAGQhgB,oBAAS,GAHjB,gCAIcA,oBAAS,IAJvB,mBAIfigB,EAJe,KAIHnB,EAJG,KAKdpe,EAASwB,IAATxB,KALc,EAMcyB,qBAAW6C,GAAvCE,EANc,EAMdA,UACFlE,GAPgB,EAMHmE,aACFlE,eA4CjB,OAzCAI,qBAAU,WACR,IAAI6e,EAAS,EACTf,EAAQ,EACZja,EAAUV,SAAQ,SAACya,GACjBE,GAASF,EAAStZ,kBAClBua,GAAUjB,EAAStZ,kBAAoBsZ,EAASzG,SAGlDwH,EAAYE,GACZJ,EAAcX,KACb,CAACja,IAgCF,sBAAKwB,UAAU,UAAf,UACE,wBAAQA,UAAU,SAAlB,SACE,oBAAIA,UAAU,QAAd,6BAEF,sBAAMA,UAAU,OAAhB,SACE,eAAC,GAAD,WACCxB,EAAUU,OAAS,EAClB,eAAC,GAAD,WACE,eAAC,GAAD,WACE,uCACA,0CAGDV,GACCA,EAAUkD,KAAI,SAAC3C,GACb,OAAO,cAAC,GAAD,CAAUA,KAAMA,EAAMqZ,cAAeA,UAIlD,qDAED5Z,EAAUU,OAAS,EAClB,eAAC,GAAD,CAAOc,UAAWuZ,EAAa,UAAY,GAA3C,UACE,0CAEE,yCACOJ,EADP,aAEE,6CAAcE,EAAd,YASJ,cAAC,GAAD,CACEtX,KAAK,SACLqE,QAAS,YApEE,WAErB,GAAKpM,EAEE,CACL,IAAMmV,EAAQ,CACZnR,OAAQhE,EAAKiE,GACbO,UAAWA,GAEP6F,EAAU,CACdC,OAAQ,QACRJ,QAAS,CACP,eAAgB,mBAChB,aAAclK,EAAKc,OAErBgF,KAAM/E,KAAK8D,UAAUsQ,IAGvB5K,MAAM,GAAD,OAAI5K,EAAIE,UAAR,cAA+BwK,GACjCG,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GAILG,QAAQC,IAAIJ,MAEbC,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAI,QAASF,WAvBzCvK,EAAS,UAkECmf,IAHJ,yBAUF,YCpGKC,GALC,SAACC,GAEf,OAAOA,EAAIze,MAAM,KAAK,ICwMlB0e,IAhBYtT,IAAOuT,KAAV,uEAKEvT,IAAO2R,MAAV,6FAMD3R,IAAOwT,GAAV,2EAKOxT,IAAOyT,GAAV,mNAuBCC,IAVC1T,IAAO4O,OAAV,mLAjNG,SAAC,GAOV,IANL+E,EAMI,EANJA,QACAC,EAKI,EALJA,aACAC,EAII,EAJJA,YACA3c,EAGI,EAHJA,WACAxB,EAEI,EAFJA,SACAT,EACI,EADJA,KAEMnB,EAAWC,cACXC,EAAWC,cAFb,EAG8BkB,qBAAWvC,GAArCK,EAHJ,EAGIA,SAAUC,EAHd,EAGcA,YAGlBmB,qBAAU,WAGJpB,IAAamgB,GAAQtf,EAASb,WAChCkB,aAAa2f,WAAW,WAE1B5gB,EAAYkgB,GAAQtf,EAASb,aAE5B,CAACa,IAiFJ,OACE,qBAAK4F,UAAU,6BAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,sBAAKA,UAAU,yBAAf,UACE,wBACEA,UAAU,kBACV+B,KAAK,SACLqE,QAAS,WACP5M,EAAY,WACZc,EAAS,kBALb,qBAUC2f,GAAW7f,EAASb,SAAS6E,SAAS,SACrC,wBAAQ4B,UAAU,iBAAiB+B,KAAK,SAASqE,QAlDjC,WACxB,IAAMiU,EAAU,GAGhBH,EAAapc,SAAQ,SAACiF,EAAOzD,GACvByD,GACFsX,EAAQnc,KAAKlC,EAASsD,OAI1B,IAAMgb,EAAU,CACdtc,OAAQzC,EAAK0C,GACbsc,YAAaF,GAETnW,EAAU,IAAIC,QACpBD,EAAQE,OAAO,eAAgB,oBAC/BF,EAAQE,OAAO,aAAc7I,EAAKT,OAElC,IAAMuJ,EAAU,CACdC,OAAQ,SACRJ,QAASA,EACTpE,KAAM/E,KAAK8D,UAAUyb,IAGvB/V,MAAM,GAAD,OAAI5K,EAAIE,UAAR,wBAAyCwK,GAC3CG,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GAELlK,aAAa2f,WAAW,WACxBD,EAAYxV,EAAKA,KAAKzF,OAAS,EAAIyF,EAAKA,KAAO,IAC/CnL,EAAYkgB,GAAQtf,EAASb,WAC7Be,EAAS,SAAD,OAAUf,QAmBd,oBAGE0gB,EACA,wBAAQja,UAAU,iBAAiB+B,KAAK,SAASqE,QAjGpC,SAAClG,GACxB,IAAMsa,EAAU,GAEZ/f,aAAaI,QAAQ,WACvB2f,EAAQtc,KAAKnD,KAAKC,MAAMP,aAAaI,QAAQ,aAG7Cqf,EAAapc,SAAQ,SAACiF,EAAOzD,GACvByD,GACFyX,EAAQtc,KAAKlC,EAASsD,OAK5B9B,GAAW,GAEX,IAAM8c,EAAU,CACdtc,OAAQzC,EAAK0C,GACbuc,QAASA,EACTjhB,SAAUA,GAEN2K,EAAU,IAAIC,QACpBD,EAAQE,OAAO,eAAgB,oBAC/BF,EAAQE,OAAO,aAAc7I,EAAKT,OAElC,IAAMuJ,EAAU,CACdC,OAAQ,QACRJ,QAASA,EACTpE,KAAM/E,KAAK8D,UAAUyb,IAGvB/V,MAAM,GAAD,OAAI5K,EAAIE,UAAR,kBAAmCwK,GACrCG,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACLnH,GAAW,GACX/C,aAAa2f,WAAW,WACxBD,EAAYxV,EAAKA,MACjBnL,EAAYkgB,GAAQtf,EAASb,WAC7Be,EAAS,SAAD,OAAUf,QA2DZ,mBAIF,MAIJ,qBAAIyG,UAAU,0BAAd,UACE,cAAC4Z,GAAD,UACE,cAAC,IAAD,CACEzW,MAAO,CACLsX,OACErgB,EAASb,SAAS6E,SAAS,UAAY,qBAE3C6H,GAAG,cALL,qBAUF,cAAC2T,GAAD,UACE,cAAC,IAAD,CACEzW,MAAO,CACLsX,OACErgB,EAASb,SAAS6E,SAAS,WAAa,qBAE5C6H,GAAG,eALL,sBAUF,cAAC2T,GAAD,UACE,cAAC,IAAD,CACEzW,MAAO,CACLsX,OACErgB,EAASb,SAAS6E,SAAS,SAAW,qBAE1C6H,GAAG,aALL,oBAUF,cAAC2T,GAAD,UACE,cAAC,IAAD,CACEzW,MAAO,CACLsX,OACErgB,EAASb,SAAS6E,SAAS,UAAY,qBAE3C6H,GAAG,cALL,+BCzGGyU,IAnCDpU,IAAOM,IAAV,oEAIMN,IAAO6I,MAAV,sEAMD7I,IAAOM,IAAV,6FAMKN,IAAOyR,OAAV,mJAQCzR,IAAOM,IAAV,4BACMN,IAAOM,IAAV,6CAICN,IAAOqU,GAAV,oHAzDQ,SAAC,GAAyC,IAAvCjV,EAAsC,EAAtCA,QAAS8H,EAA6B,EAA7BA,aAAcjU,EAAe,EAAfA,SAC3C,OACE,yBAAQyG,UAAU,iBAAlB,UACE,uBACEA,UAAU,gBACV+B,KAAK,WACL9D,GAAG,WACHyH,QAASA,EACT1D,SAAUwL,IAEZ,qBAAKxN,UAAU,oBAAf,SACgB,SAAbzG,EACC,oBAAIyG,UAAU,SAAd,gBACe,UAAbzG,EACF,uBAEA,oBAAIyG,UAAU,WAAd,oBAIJ,sBAAKA,UAAU,oBAAf,UACE,oBAAIA,UAAU,cAAd,qBACA,oBAAIA,UAAU,WAAd,0BC1BF4a,GAAqB,CACzBC,SAAU,SAACC,GACT,IAAMC,EAAO,IAAI3f,KAAK0f,GAChBE,EAAMD,EAAKE,UACXC,EAAQC,GAAaJ,EAAKK,WAAa,GACvCC,EAAON,EAAKO,cAElB,OADAxW,QAAQC,IAAIgW,GACN,GAAN,OAAUC,EAAV,YAAiBE,EAAjB,YAA0BG,IAE5BE,UAAW,SAACT,GAEV,IAAMU,EAAc,SAACC,GACnB,OAAIA,EAAM,GACF,IAAN,OAAWA,GAEJA,GAGLV,EAAO,IAAI3f,KAAK0f,GAEtB,MAAM,GAAN,OAAUC,EAAKO,cAAcI,WAAW7b,UAAU,GAAlD,YAAwD2b,EACtDT,EAAKK,WAAa,GADpB,YAEKI,EAAYT,EAAKE,cAIpBE,GAAe,SAACM,GACpB,IAAIP,EAAQ,GACZ,OAAQlc,SAASyc,IACf,KAAK,EACHP,EAAQ,MACR,MACF,KAAK,EACHA,EAAQ,MACR,MACF,KAAK,EACHA,EAAQ,MACR,MACF,KAAK,EACHA,EAAQ,MACR,MACF,KAAK,EACHA,EAAQ,MACR,MACF,KAAK,EACHA,EAAQ,MACR,MACF,KAAK,EACHA,EAAQ,MACR,MACF,KAAK,EACHA,EAAQ,MACR,MACF,KAAK,EACHA,EAAQ,MACR,MACF,KAAK,GACHA,EAAQ,MACR,MACF,KAAK,GACHA,EAAQ,MACR,MACF,QACEA,EAAQ,MAGZ,OAAOA,GAGMN,MCgBA/T,IAjBDP,IAAOM,IAAV,oEAKEN,IAAOM,IAAV,oDAGGN,IAAOM,IAAV,6CAGMN,YAAOQ,IAAPR,CAAH,4BAEGA,IAAOM,IAAV,6CA3EA,SAAC,GAMP,IALL4G,EAKI,EALJA,aACAmO,EAII,EAJJA,kBACAzB,EAGI,EAHJA,aACAvU,EAEI,EAFJA,QACArG,EACI,EADJA,MAEQ/F,EAAakC,qBAAWvC,GAAxBK,SAER,OACE,sBACEyG,UAAU,WACVmD,MAAO,CACLwE,gBAAiBhC,EAAQiW,OAAS,UAAY,IAHlD,UAME,uBACE5b,UAAU,gBACV+B,KAAK,WACL9D,GAAE,kBAAaqB,GACfoG,QAAkBwU,EAAa5a,GAC/B0C,SAAU,SAAC9B,GACTsN,EAAatN,EAAGZ,IAElB6D,MAAO,CAAE0Y,WAAYlW,EAAQmW,KAAO,UAAY,MAElD,eAAC,IAAD,CACE9b,UAAU,eACVoG,QAAS,SAAClG,GAERA,EAAEkX,kBACFuE,EAAkBhW,GAClBlL,aAAamE,QAAQ,UAAW7D,KAAK8D,UAAU8G,KAEjDxC,MAAO,CACLwE,gBAAiBhC,EAAQiW,OAAS,UAAY,IAEhD3V,GAAE,gBAAW1M,EAAX,YAAuBoM,EAAQ6P,KACjCvX,GAAIqB,EAZN,UAcE,qBAAKU,UAAU,oBAAf,SACE,qBAAKA,UAAU,WAAf,SACgB,UAAbzG,GAAqC,WAAbA,EACrBoM,EAAQoM,OACK,SAAbxY,EACAoM,EAAQoW,UACR,OAGR,sBAAK/b,UAAU,gCAAf,UACE,qBAAKA,UAAU,cAAf,SAA8B2F,EAAQqM,UAEtC,qBAAKhS,UAAU,WAAf,SACGc,SAAShB,KAAKyD,YAAc,IACzBqX,GAAmBC,SAASlV,EAAQoV,MACpCH,GAAmBW,UAAU5V,EAAQoV,mBCvCtCiB,GAtBS,SAACxQ,GACvB,IAAIK,EAAS,GAkBb,OAfKL,EAAOuQ,YACVlQ,EAAOkQ,UAAY,yBAIhBvQ,EAAOwG,UACVnG,EAAOmG,QAAU,uBAIdxG,EAAO0C,KAEDlP,SAASwM,EAAO0C,KAAKhP,QAAU,MACxC2M,EAAOqC,KAAO,uBAFdrC,EAAOqC,KAAO,sBAITrC,GCiBMoQ,GAlCC,SAAC5F,EAAU6F,EAAUH,EAAW/J,GAAa,IAAD,EAC9B1Y,mBAAS,CACnCyiB,UAAWA,EACX/J,QAASA,EACT9D,KAAM,KAJkD,mBACnD1C,EADmD,KAC3Cc,EAD2C,OAO9BhT,mBAAS,IAPqB,mBAOnDuS,EAPmD,KAO3CU,EAP2C,OAQlBjT,oBAAS,GARS,mBAQnD6iB,EARmD,KAQrCC,EARqC,KA+B1D,OANAzhB,qBAAU,WAC2B,IAA/BgR,OAAOC,KAAKC,GAAQ3M,QAAgBid,GACtC9F,EAAS7K,KAEV,CAACK,IAEG,CAAE2B,aArBY,SAACtN,GAAO,IAAD,EACFA,EAAEC,OAAlB9B,EADkB,EAClBA,KAAM3E,EADY,EACZA,MACd4S,EAAU,2BACLd,GADI,mBAENnN,EAAO3E,MAiBW8R,SAAQ+G,YAbX,SAACrS,GACnBA,EAAEmC,iBAEFkK,EAAU2P,EAAS1Q,IACnB4Q,GAAgB,IAS0BvQ,WC8I/BwQ,GAtKC,WACd,IACM/hB,EAAWC,cACXH,EAAWC,cACTL,EAASwB,IAATxB,KACAR,EAAgBiC,qBAAWvC,GAA3BM,YALY,EAOsBF,mBACxCc,EAAS2I,MAAQ3I,EAAS2I,MAAMgP,OAAS,IARvB,mBAObuK,EAPa,KAOEC,EAPF,OAWUjjB,mBAC5Bc,EAAS2I,MAAQ3I,EAAS2I,MAAMiP,QAAU,IAZxB,mBAWbA,EAXa,KAWJwK,EAXI,OAcIljB,mBAAS,IAdb,mBAcb4U,EAda,KAcPuO,EAdO,OAecnjB,mBAAS,IAfvB,mBAebojB,EAfa,aAgBYpjB,mBAAS,KAhBrB,mBAgBbqjB,EAhBa,aAiBUrjB,oBAAS,IAjBnB,mBAiBbsjB,EAjBa,aAkBMtjB,mBAAS,IAlBf,mBAkBbujB,EAlBa,KAkBNC,EAlBM,OAmBMxjB,mBAAS,WAnBf,mBAmBbsO,EAnBa,KAmBNmV,EAnBM,OAoBUzjB,oBAAS,GApBnB,mBAoBb0jB,EApBa,KAoBJC,EApBI,OAqBY3jB,mBAAS,IArBrB,mBAqBb4jB,EArBa,KAuBdpiB,GAvBc,KAuBNd,EAAKc,OACb6W,EAAW3X,EAAKqE,KAEhB8e,EAAiBtc,mBACjBuc,EAAevc,mBACfwc,EAAYxc,mBA5BE,EAqCkCyc,IAPrC,SAAC9R,GAChB+Q,EAAiB/Q,EAAOuQ,WACxBS,EAAWhR,EAAOwG,SAClByK,EAAQjR,EAAO0C,MACf+O,GAAW,KAKXf,GACAI,EACAtK,GAJMxE,EArCY,EAqCZA,aAAchC,GArCF,EAqCEA,OAAQ+G,GArCV,EAqCUA,YAAa1G,GArCvB,EAqCuBA,OA0D3C,OAnDAlR,qBAAU,WACRnB,EAAYkgB,GAAQtf,EAASb,cAG/BoB,qBAAU,WACR,IAAKqiB,EACH,OAAOlY,QAAQC,IAAI,WAErB,IAAMb,EAAU,IAAIC,QACpBD,EAAQE,OAAO,eAAgB,oBAC/BF,EAAQE,OAAO,aAActJ,GAE7B,IAAMuJ,EAAU,CACdC,OAAQ,OACRJ,QAASA,EACTpE,KAAM/E,KAAK8D,UAAU,CACnBmT,UACAL,WACA2K,gBACApO,OACA0O,UACAF,YACAC,cAIJpY,MAAM,GAAD,OAAI5K,EAAIE,UAAR,iBAAkCwK,GACpCG,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GAEL8X,EAAQ,IACRK,EAAS,GACTxiB,EAAS,kBAEVsK,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,QAC/B,CAACmY,IAGJriB,qBAAU,WACR,QAAQ,GACN,KAAKkiB,GAnFQ,KAmFaA,EAAQ,IAChCE,EAAS,WACT,MACF,KAAKF,EAAQ,IACXE,EAAS,WACT,MACF,QACEA,EAAS,cAEZ,CAACF,IAGF,qBAAK7c,UAAU,oBAAf,SACE,sBAAMA,UAAU,UAAhB,SACE,qBAAKA,UAAU,kBAAf,SACE,0BAASA,UAAU,eAAnB,UACE,qBAAKA,UAAS,YAAd,SAA8Bkd,IAC9B,iCACGrR,GAAOkQ,UACN,mBAAG/b,UAAU,QAAb,SAAsB6L,GAAOkQ,YAE7B,uBAAOtV,QAAQ,YAAf,wBAEF,uBACEzG,UAAW6L,GAAOkQ,WAAa,cAC/B9d,GAAG,YACH8D,KAAK,OACL1D,KAAK,YACL3E,MACEU,EAAS2I,MAAQ3I,EAAS2I,MAAMgP,OAASvG,GAAOuQ,UAElDta,IAAK0b,EACLnb,SAAUwL,IAEX3B,GAAOmG,QACN,mBAAGhS,UAAU,QAAb,SAAsB6L,GAAOmG,UAE7B,uBAAOvL,QAAQ,UAAf,sBAEF,uBACEzG,UAAW6L,GAAOmG,SAAW,cAC7B/T,GAAG,UACH8D,KAAK,OACL1D,KAAK,UACL3E,MAAOU,EAAS2I,MAAQ3I,EAAS2I,MAAMiP,QAAUxG,GAAOwG,QACxDvQ,IAAK2b,EACLpb,SAAUwL,IAEX3B,GAAOqC,KACN,mBAAGlO,UAAU,QAAb,SAAsB6L,GAAOqC,OAE7B,uBAAOzH,QAAQ,OAAf,sBAEF,0BACEzG,UAAW6L,GAAOqC,MAAQ,cAC1BjQ,GAAG,OACHI,KAAK,OACL3E,MAAO8R,GAAO0C,KACdzM,IAAK4b,EACLrb,SAAU,SAAC9B,GACT4c,EAAS5c,EAAEC,OAAOzG,MAAMwF,QACxBsO,EAAatN,MAIjB,mCACE,uBAAMF,UAAU,eAAhB,UACE,uBAAMmD,MAAO,CAAEyE,MAAOA,GAAtB,cAAiCiV,EAAjC,OACA,uCAvJC,UAyJH,wBAAQ7c,UAAU,sBAAsB+B,KAAK,SAASqE,QAASmM,GAA/D,kCCiFVgL,IAFOjX,IAAO0R,KAAV,4BAEK1R,IAAOkX,EAAV,6BAwDGnB,IAvDC/V,IAAOmX,QAAV,iHAKGnX,IAAOM,IAAV,kDAIEN,IAAO4O,OAAV,6NAaE5O,YAAOQ,IAAPR,CAAH,0MAYOA,IAAOM,IAAV,8CAGAN,IAAOM,IAAV,4JAQCN,IAAOoX,EAAV,yHAxRM,SAAC,GAAiD,IAA/CC,EAA8C,EAA9CA,eAAgBxD,EAA8B,EAA9BA,YAAa3c,EAAiB,EAAjBA,WACxClD,EAAWC,cACXH,EAAWC,cAF8C,EAG7BoB,qBAAWvC,GAArCK,EAHuD,EAGvDA,SAAUC,EAH6C,EAG7CA,YACVQ,EAASwB,IAATxB,KAERW,qBAAU,WACHgjB,IACHA,EAAiB5iB,KAAKC,MAAMP,aAAaI,QAAQ,aAGnDJ,aAAamE,QAAQ,UAAW7D,KAAK8D,UAAU8e,MAC9C,IAEH,IAAMC,EAAkB,SAACrY,GAGvB/L,EAAY,MACZgE,GAAW,GACX,IAAM8c,EAAU,CACdtc,OAAQhE,EAAKiE,GACbye,UAAWiB,EAAenI,IAC1BqI,aAActY,GAEVrB,EAAU,IAAIC,QACpBD,EAAQE,OAAO,eAAgB,oBAC/BF,EAAQE,OAAO,aAAcpK,EAAKc,OAElC,IAAMuJ,EAAU,CACdC,OAAQ,QACRJ,QAASA,EACTpE,KAAM/E,KAAK8D,UAAUyb,IAEvB/V,MAAM,GAAD,OAAI5K,EAAIE,UAAR,sBAAuCwK,GACzCG,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GAILnH,GAAW,GACXhE,EAAYkgB,GAAQtf,EAASb,WACzBokB,EAAe/B,QACjBthB,EAAS,SAAD,OAAUf,OAGrBqL,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,OAI5BiZ,EAAmB,SAACvY,GACxB/L,EAAY,MAEZgE,GAAW,GAEX,IAAM8c,EAAU,CACdtc,OAAQhE,EAAKiE,GACbye,UAAWiB,EAAenI,IAC1BuI,cAAeJ,EAAeK,OAC9BC,cAAe1Y,GAEXrB,EAAU,IAAIC,QACpBD,EAAQE,OAAO,eAAgB,oBAC/BF,EAAQE,OAAO,aAAcpK,EAAKc,OAElC,IAAMuJ,EAAU,CACdC,OAAQ,QACRJ,QAASA,EACTpE,KAAM/E,KAAK8D,UAAUyb,IAEvB/V,MAAM,GAAD,OAAI5K,EAAIE,UAAR,uBAAwCwK,GAC1CG,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACLnH,GAAW,GACX/C,aAAa2f,WAAW,WACxB5gB,EAAYkgB,GAAQtf,EAASb,WAC7Be,EAAS,SAAD,OAAUf,OAEnBqL,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,OAwClC,OANAlK,qBAAU,WACHgjB,EAAe/B,QAClBgC,GAAgB,KAEjB,CAACxjB,IACJ0K,QAAQC,IAAI4Y,GAEV,sBAAK3d,UAAU,oBAAf,UACE,gCACE,sBACEA,UAAU,UACVoG,QAAS,WACP3L,aAAa2f,WAAW,WACxB9f,EAAS,SAAD,OAAUf,KAJtB,UAOE,cAAC,IAAD,IAAsB,IACtB,yCACWA,GAAYA,EAAS8R,OAAO,GAAGC,cAAgB/R,EAASsG,UAAU,SAG/E,sBAAKG,UAAU,kBAAf,UACgB,UAAbzG,EACC,eAACgkB,GAAD,oBACQ,iCAASI,EAAe5L,YAGhC,eAACwL,GAAD,kBACM,iCAASI,EAAe5B,eAIhC,eAACwB,GAAD,uBACW,iCAASI,EAAe3L,aAEnC,wCACQ,IACN,iCAAS4I,GAAmBC,SAAS8C,EAAe5C,cAGxD,qBAAK/a,UAAU,eAAf,SAA+B2d,EAAezP,UAEhD,sBAAKlO,UAAU,sBAAf,UACE,wBACEA,UAAU,4BACV+B,KAAK,SACLqE,QAAS,WACP9L,EAAS,CAAEf,SAAU,gBAAiBwJ,MAAO4a,KAJjD,mBAUc,UAAbpkB,EACEokB,EAAeK,OAYd,wBACEhe,UAAU,4BACR+B,KAAK,SACPqE,QAAS,WACP3L,aAAa2f,WAAW,WACxB0D,GAAiB,IALrB,0BAXA,wBACE9d,UAAU,4BACV+B,KAAK,SACLqE,QAAS,WACP3L,aAAa2f,WAAW,WACxB0D,GAAiB,IALrB,2BAsBa,UAAbvkB,EACF,wBACEyG,UAAU,4BACR+B,KAAK,SACPqE,QAAS,WAEPwX,GAAgB,GACXD,EAAe/B,OAGlBnhB,aAAa2f,WAAW,WAFxB9f,EAAS,gBAPf,4BAgBA,GAEY,UAAbf,EACC,wBACEyG,UAAU,2BACV+B,KAAK,SACLqE,QAAS,WACP0X,GAAiB,IAJrB,yBAUA,wBACE9d,UAAU,2BACR+B,KAAK,SACPqE,QAAS,YA7IO,SAACT,GACzB,IAAM0U,EAAU,CAAC1U,GAEjBnI,GAAW,GAEX,IAAM8c,EAAU,CACdtc,OAAQhE,EAAKiE,GACbsc,YAAaF,GAETnW,EAAU,IAAIC,QACpBD,EAAQE,OAAO,eAAgB,oBAC/BF,EAAQE,OAAO,aAAcpK,EAAKc,OAElC,IAAMuJ,EAAU,CACdC,OAAQ,SACRJ,QAASA,EACTpE,KAAM/E,KAAK8D,UAAUyb,IAGvB/V,MAAM,GAAD,OAAI5K,EAAIE,UAAR,wBAAyCwK,GAC3CG,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACLG,QAAQC,IAAIJ,GACZnL,EAAYkgB,GAAQtf,EAASb,WAC7B4gB,EAAYxV,EAAKA,KAAKzF,OAAS,EAAIyF,EAAKA,KAAO,IAC/ClK,aAAa2f,WAAW,WACxB9f,EAAS,SAAD,OAAUf,OAoHZ2kB,CAAkBP,IAJtB,4BCtBJQ,IAVU7X,IAAOM,IAAV,gDAIGN,IAAOM,IAAV,6FAMIN,IAAOM,IAAV,oHAWCwX,IAJF9X,IAAO2R,MAAV,6CAvMI,WAAO,IAAD,EACczc,IAAxBxB,EADU,EACVA,KAAMG,EADI,EACJA,cADI,EAEgBsB,qBAAWvC,GAArCK,EAFU,EAEVA,SAAUC,EAFA,EAEAA,YAEZY,EAAWC,cACXC,EAAWC,cALC,EAMYjB,oBAAS,GANrB,mBAMXiE,EANW,KAMFC,EANE,OAOclE,mBAAS,IAPvB,mBAOX0C,EAPW,KAODme,EAPC,OAS0B7gB,mBAC1CmB,aAAaI,QAAQ,WACjBE,KAAKC,MAAMP,aAAaI,QAAQ,YAChC,IAZY,mBASX8iB,EATW,KASKhC,EATL,OAcYriB,oBAAS,GAdrB,mBAcXoM,EAdW,KAcF2Y,EAdE,OAeY/kB,oBAAS,GAfrB,mBAeX2gB,EAfW,KAeFqE,EAfE,OAgBsBhlB,mBAAS,IAhB/B,mBAgBX4gB,EAhBW,KAgBGqE,EAhBH,KAmBlB5jB,qBAAU,WAERnB,EAAYkgB,GAAQtf,EAASb,aAC5B,IAEHoB,qBAAU,WAER,GAAiB,YAAbpB,GAA0BA,EAAU,CAEtCiE,GAAW,GAEX6gB,GAAW,GAEX,IAAMna,EAAU,IAAIC,QACpBD,EAAQE,OAAO,eAAgB,oBAC/BF,EAAQE,OAAO,aAAcpK,EAAKc,OAElC,IAAMuJ,EAAU,CACdC,OAAQ,MACRJ,QAASA,GAGXK,MAAM,GAAD,OAAI5K,EAAIE,UAAR,yBAAkCN,EAAlC,YAA8CS,EAAKiE,IAAMoG,GAC3DG,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACL,GAAIA,EAAKA,KAAM,CAEb,GAAiB,UAAbpL,GAAqC,WAAbA,EAAuB,CACjD,IAAMW,EAAayK,EAAKA,KAAKzC,QAAO,SAACyD,GACnC,OAAQA,EAAQiW,SAAWjW,EAAQsU,WAGrC9f,EAAcD,EAAWgF,QAE3Bib,EAAYxV,EAAKA,WAEjBwV,EAAY,IAGd3c,GAAW,MAEZoH,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,SAEjC,CAACtL,IAGJoB,qBAAU,WAIHF,aAAaI,QAAQ,YACxB0jB,EAAgB,IAAI7F,MAAM1c,EAASkD,QAAQsf,KAAK9Y,MAEjD,CAAC1J,IAEJrB,qBAAU,WACR4jB,EAAgB,IAAI7F,MAAM1c,EAASkD,QAAQsf,KAAK9Y,IAChDZ,QAAQC,IAAIW,GAEV4Y,IADE5Y,KAKH,CAACA,IAGJ/K,qBAAU,WACR,IAAM8jB,EAAYvE,EAAawE,MAAK,SAAC3b,GACnC,OAAiB,IAAVA,KAGL2C,IACGwU,EAAa9b,UAAS,IACzBigB,GAAW,IAIbC,IADEG,KAKH,CAACvE,IAEJ,IAAM1M,EAAe,SAACtN,EAAGQ,GAEvB,GAAoB,aAAhBR,EAAEC,OAAOlC,GACXogB,GAAY3Y,QACP,GAAsB,aAAlBxF,EAAEC,OAAO4B,KAAqB,CAEvC,IAAM4c,EAAkBzE,EAAaxY,KAAI,SAACqB,EAAOzD,GAC/C,OAAOoB,IAAapB,GAASyD,EAAQA,KAGvCwb,EAAgBI,GAChBlkB,aAAamE,QAAQ,eAAgB7D,KAAK8D,UAAU8f,IACpDrkB,EAAS,SAAD,OAAUF,EAASb,SAAS2B,MAAM,KAAK,OAInD,OACE,sBAAK8E,UAAU,gBAAf,UACE,wBAAQA,UAAU,SAAlB,SACE,oBAAIA,UAAU,QAAd,qBAEF,uBAAMA,UAAU,OAAhB,UACE,qBAAKA,UAAU,gBAAf,SACE,cAAC,GAAD,CACEia,QAASA,EACTC,aAAcA,EACdC,YAAaA,EACb3c,WAAYA,EACZxB,SAAUA,EACVT,KAAMvB,MAGV,qBAAKgG,UAAU,kBAAf,SACyB,gBAAtB5F,EAASb,UACc,eAAtBa,EAASb,UACa,iBAAtBa,EAASb,UACa,gBAAtBa,EAASb,SACT,eAAC,WAAD,WACE,cAAC,GAAD,CACEiU,aAAcA,EACd9H,QAASA,EACTnM,SAAUA,EACV2gB,aAAcA,EACdle,SAAUA,IAEZ,cAACmiB,GAAD,UACG5gB,IAAYvB,EACX,cAAC,GAAD,IAEAA,EAAS0F,KAAI,SAACiE,EAASrG,GACrB,OACE,cAAC,GAAD,CAEEqc,kBAAmBA,EACnBnO,aAAcA,EACd0M,aAAcA,EACdvU,QAASA,EACTrG,MAAOA,EACPtB,OAAQhE,EAAKiE,IANRqB,WAaF,YAAb/F,EACF,cAACqlB,GAAD,IAEA,cAAC,GAAD,CACEjB,eAAgBA,EAChBxD,YAAaA,EACb3c,WAAYA,cCjHXqhB,I,0CA5CH,WAEV,OACE,cAAC,IAAD,UACE,eAAC,IAAD,CAAO7Y,KAAK,IAAI8Y,QAAS,cAAC,GAAD,IAAzB,UAGE,cAAC,IAAD,CAAO9Y,KAAK,gBAAgB8Y,QAAS,cAAC,GAAD,MACrC,cAAC,IAAD,CAAO9Y,KAAK,oCAAoC8Y,QAAS,cAAC,GAAD,MAEzD,eAAC,IAAD,CAAOA,QAAS,cAAC,GAAD,IAAhB,UACE,cAAC,IAAD,CAAOC,OAAK,EAAC/Y,KAAK,IAAI8Y,QAAS,cAAC,GAAD,MAC/B,cAAC,IAAD,CAAO9Y,KAAK,QAAQ8Y,QAAS,cAAC,GAAD,MAC7B,cAAC,IAAD,CAAO9Y,KAAK,UAAU8Y,QAAS,cAAC,GAAD,MAC/B,cAAC,IAAD,CAAO9Y,KAAK,QAAQ8Y,QAAS,cAAC,GAAD,MAC7B,cAAC,IAAD,CAAO9Y,KAAK,SAAS8Y,QAAS,cAAC,GAAD,MAC9B,cAAC,IAAD,CAAO9Y,KAAK,iBAAiB8Y,QAAS,cAAC,GAAD,MACtC,cAAC,IAAD,CAAO9Y,KAAK,kCAAkC8Y,QAAS,cAAC,GAAD,SAIzD,eAAC,IAAD,CAAOA,QAAS,cAAC,GAAD,IAAhB,UACE,cAAC,IAAD,CAAO9Y,KAAK,KAAK+Y,OAAK,EAACD,QAAS,cAAC,IAAD,CAAUlb,SAAO,EAACqC,GAAG,iBACrD,cAAC,IAAD,CAAOD,KAAK,WAAW8Y,QAAS,cAAC,GAAD,MAChC,cAAC,IAAD,CAAO9Y,KAAK,WAAW8Y,QAAS,cAAC,GAAD,MAChC,cAAC,IAAD,CAAO9Y,KAAK,UAAU8Y,QAAS,cAAC,GAAD,MAC/B,cAAC,IAAD,CAAO9Y,KAAK,0CAA0C8Y,QAAS,cAAC,GAAD,MAC/D,cAAC,IAAD,CAAO9Y,KAAK,kCAAkC8Y,QAAS,cAAC,GAAD,MACvD,cAAC,IAAD,CAAO9Y,KAAK,8BAA8B8Y,QAAS,cAAC,GAAD,MACnD,cAAC,IAAD,CAAO9Y,KAAK,aAAa8Y,QAAS,cAAC,GAAD,MAClC,cAAC,IAAD,CAAO9Y,KAAK,uBAAuB8Y,QAAS,cAAC,GAAD,MAC5C,cAAC,IAAD,CAAO9Y,KAAK,cAAc8Y,QAAS,cAAC,GAAD,MACnC,cAAC,IAAD,CAAO9Y,KAAK,YAAY8Y,QAAS,cAAC,GAAD,MACjC,cAAC,IAAD,CAAO9Y,KAAK,aAAa8Y,QAAS,cAAC,GAAD,MAClC,cAAC,IAAD,CAAO9Y,KAAK,eAAe8Y,QAAS,cAAC,GAAD,SAItC,cAAC,IAAD,CAAO9Y,KAAK,IAAI8Y,QAAS,cAAC,GAAD,aC1DjCE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,UACE,cAAC,EAAD,UACE,cAAC,EAAD,UACE,cAAC,EAAD,UACI,cAAC,EAAD,UACI,cAAC,IAAD,UACE,cAAC,IAAD,CAAOlZ,KAAK,KAAK8Y,QAAS,cAAC,GAAD,sBAS9Che,SAASqe,eAAe,W",
  "file": "static/js/main.4bab6c12.chunk.js",
  "sourcesContent": [
    "import React, { createContext, useState } from 'react';\r\n\r\nexport const PathContext = createContext(null);\r\n\r\nexport const PathProvider = ({ children }) => {\r\n  // Set path to home url pathname\r\n  const [pathname, setPathname] = useState('');\r\n\r\n  return (\r\n    <PathContext.Provider value={{ pathname, setPathname }}>\r\n      {children}\r\n    </PathContext.Provider>\r\n  );\r\n};\r\n",
    "// Uniform Resource Locators\r\nconst inProduction = true;\r\n\r\nexport const api = {\r\n  skryfallURL: 'https://api.scryfall.com',\r\n  serverURL: inProduction ? 'https://magicfind-server.onrender.com' : ''\r\n};",
    "import React, { createContext, useState, useEffect } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\n// import { ShoppingCartContext } from './ShoppingCartContext'\r\nimport { api } from '../api/resources';\r\n\r\nexport const AuthContext = createContext(null);\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  // const [user, setAuth] = useState(JSON.parse(localStorage.getItem('user')));\r\n  // const { setCartItems, setItemsCount } = useContext(ShoppingCartContext);\r\n  const [auth, setAuth] = useState(null);\r\n  const [isAuth, setIsAuth] = useState(false);\r\n  const [unreadMail, setUnreadMail] = useState(null);\r\n\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  const logoutAction = () => {\r\n    localStorage.clear();\r\n    setAuth(null);\r\n    navigate('/');\r\n  }\r\n\r\n  const parseJwt = (token) => {\r\n    // Extract payload of jwt\r\n    const decode = JSON.parse(atob(token?.split('.')[1]));\r\n    // console.log(decode);\r\n    if (decode.exp * 1000 < new Date().getTime()) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const checkUnreadMail = (auth) => {\r\n    const headers = new Headers();\r\n    headers.append('Content-type', 'application/json');\r\n    headers.append('auth-token', auth.token);\r\n\r\n    const options = {\r\n      method: 'GET',\r\n      headers: headers,\r\n    };\r\n\r\n    fetch(`${api.serverURL}/api/messages/unread/${auth.id}`, options)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n\r\n        if (data.data) {\r\n          const unreadMail = data.data.filter((message) => {\r\n            return !message.isRead && !message.isTrash;\r\n          });\r\n          // If unreadMail\r\n          setUnreadMail(unreadMail && unreadMail.length);\r\n        }\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    const jwt = localStorage.getItem('token');\r\n\r\n    if (jwt) {\r\n      const hasExpired = parseJwt(jwt);\r\n      if (hasExpired) {\r\n        logoutAction();\r\n      } else if (localStorage.getItem('user')) {\r\n        const user = JSON.parse(localStorage.getItem('user'));\r\n        const token = JSON.parse(localStorage.getItem('token'));\r\n        setAuth({ ...user, token: token })\r\n        navigate(location.pathname)\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{\r\n      auth,\r\n      setAuth,\r\n      unreadMail,\r\n      setUnreadMail,\r\n      logoutAction\r\n    }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n",
    "import { useContext } from 'react';\r\nimport { AuthContext } from '../contexts/AuthContext';\r\n\r\nconst useAuth = () => {\r\n    return useContext(AuthContext);\r\n}\r\n\r\nexport default useAuth;\r\n",
    "import React, { createContext, useState, useEffect } from 'react';\r\nimport useAuth from '../hooks/useAuth';\r\n\r\nexport const MailContext = createContext(null);\r\n// Prevents access to add-card component if a card  hasen't been selected\r\n// previously. This means a search has been done in the search-api view\r\n// and a card was selected to be added to the user store\r\nexport const MailProvider = ({ children }) => {\r\n  const { auth } = useAuth();\r\n  const [sentMessages, setSentMessages] = useState([]);\r\n  const [receivedMessages, setReceivedMessages] = useState([]);\r\n\r\n  // Populates messages in every rendering (reload of page, etc.)\r\n  useEffect(() => {\r\n    if (auth) {\r\n      setSentMessages(auth.messages?.sent);\r\n      setReceivedMessages(auth.messages?.received);\r\n    }\r\n  }, [auth]);\r\n\r\n  return (\r\n    <MailContext.Provider\r\n      value={{\r\n        setSentMessages,\r\n        sentMessages,\r\n        setReceivedMessages,\r\n        receivedMessages\r\n      }}\r\n    >\r\n      {children}\r\n    </MailContext.Provider>\r\n  );\r\n};\r\n",
    "import React, { useState, createContext } from 'react';\r\nimport useAuth from '../hooks/useAuth';\r\nexport const SearchContext = createContext(null);\r\n\r\nexport const SearchProvider = ({ children }) => {\r\n  const [searchInput, setSearchInput] = useState(null);\r\n  const [cardName, setCardName] = useState('');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [apiCards, setApiCards] = useState(null);\r\n  // Mount state @ Collection initial fetch \r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n  const [hasLoaded, setHasLoaded] = useState(false);\r\n  const [displayAutcomplete, setDisplayAutocomplete] = useState(false);\r\n  const [predictions, setPredictions] = useState([]);\r\n  const [cardNames, setCardNames] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [marker, setMarker] = useState(-1);\r\n  const { auth } = useAuth();\r\n\r\n  // Returns array of unique card names\r\n  const filterCardNames = (cards) => {\r\n    let filteredData = [];\r\n    cards.forEach(card => {\r\n      !filteredData.includes(card.name) && filteredData.push(card.name);\r\n    })\r\n    return filteredData;\r\n  }\r\n\r\n  // Returns array of cards minus user cards\r\n  const filterUserCards = (cards) => {\r\n    let filteredData = [];\r\n\r\n    cards.forEach(card => {\r\n      card.userID !== auth.id && filteredData.push(card);\r\n    })\r\n    return filteredData;\r\n  }\r\n\r\n  return (\r\n    <SearchContext.Provider\r\n      value={{\r\n        errorMessage,\r\n        setErrorMessage,\r\n        marker,\r\n        setMarker,\r\n        loading,\r\n        setLoading,\r\n        hasLoaded,\r\n        setHasLoaded,\r\n        cardNames,\r\n        setCardNames,\r\n        apiCards,\r\n        setApiCards,\r\n        searchInput, \r\n        setSearchInput,\r\n        searchTerm,\r\n        setSearchTerm,\r\n        cardName,\r\n        setCardName,\r\n        predictions,\r\n        setPredictions,\r\n        filterUserCards,\r\n        filterCardNames,\r\n        displayAutcomplete,\r\n        setDisplayAutocomplete\r\n      }}\r\n    >\r\n      {children}\r\n    </SearchContext.Provider>\r\n  );\r\n};",
    "import React, { createContext, useState, useEffect } from 'react';\r\n\r\nexport const ShoppingCartContext = createContext(null);\r\n\r\nexport const ShoppingCartProvider = ({ children }) => {\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const [itemsCount, setItemsCount] = useState(0);\r\n  const [subTotal, setSubTotal] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (itemsCount) {\r\n      localStorage.setItem('shopping-cart-items', JSON.stringify(itemsCount));\r\n    }\r\n  }, [itemsCount]);\r\n\r\n  useEffect(() => {\r\n    let quantity = 0;\r\n    cartItems.forEach((item) => {\r\n      quantity += parseInt(item.quantity_selected);\r\n    });\r\n\r\n    setItemsCount(quantity);\r\n\r\n    if (cartItems.length > 0) {\r\n      localStorage.setItem('shopping-cart', JSON.stringify(cartItems));\r\n    }\r\n  }, [cartItems]);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('shopping-cart')) {\r\n      setCartItems(JSON.parse(localStorage.getItem('shopping-cart')));\r\n      setItemsCount(JSON.parse(localStorage.getItem('shopping-cart-items')));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <ShoppingCartContext.Provider\r\n      value={{\r\n        cartItems,\r\n        setCartItems,\r\n        itemsCount,\r\n        setItemsCount\r\n      }}\r\n    >\r\n      {children}\r\n    </ShoppingCartContext.Provider>\r\n  );\r\n};\r\n",
    "import React, { useContext, useEffect } from 'react';\r\nimport { SearchContext } from '../../../contexts/SearchContext';\r\n\r\nconst Prediction = (props) => {\r\n  const {\r\n    prediction,\r\n    index,\r\n  } = props;\r\n\r\n  const { marker, searchTerm, setCardName } = useContext(SearchContext);\r\n\r\n  const handleMouseEnter = (e) => {\r\n    e.target.classList.add('bg-grey');\r\n    // Set card name if form submitted\r\n    setCardName(prediction);\r\n  };\r\n\r\n  const handleMouseOut = (e) => {\r\n    e.target.classList.remove('bg-grey');\r\n  };\r\n\r\n\r\n  const Value = ({ prediction, searchTerm }) => {\r\n    // Gets the index of the first letter matching searchTerm in name string\r\n    const firstIndex = prediction.toLowerCase().indexOf(searchTerm.toLowerCase());\r\n    // Gets the index of the last letter matching searchTerm in name string\r\n    const lastIndex = firstIndex + searchTerm.length;\r\n    const head = prediction.substring(0, firstIndex);\r\n    const body = prediction.substring(firstIndex, lastIndex);\r\n    const tail = prediction.substring(lastIndex, prediction.length);\r\n    return (\r\n      <span>{head}<strong>{body}</strong>{tail}</span>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <li\r\n      id={prediction}\r\n      className={index === marker ? 'prediction bg-grey' : 'prediction'}\r\n      onMouseEnter={handleMouseEnter}\r\n      onMouseOut={handleMouseOut}\r\n    >\r\n      {<Value searchTerm={searchTerm} prediction={prediction} />}\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Prediction;",
    "import React, { useState, useEffect, useContext, useRef } from 'react'\r\nimport Prediction from './Prediction';\r\nimport { SearchContext } from '../../../contexts/SearchContext';\r\nconst INIT = -200;\r\n\r\nconst AutoComplete = (props) => {\r\n    const { predictions, searchCard } = props;\r\n    const {\r\n        marker,\r\n        setMarker,\r\n        searchTerm,\r\n        setCardName,\r\n        displayAutcomplete\r\n    } = useContext(SearchContext);\r\n    const [position, setPosition] = useState(INIT);\r\n    const ulRef = useRef(null)\r\n\r\n    // keydown event listener calls handleKeyDown function\r\n    useEffect(() => {\r\n        document.addEventListener('keydown', handleKeyDown);\r\n        return () => document.removeEventListener('keydown', handleKeyDown);\r\n    });\r\n\r\n    // Reset position state to its initial value when searchterm state changes.\r\n    // Searchterm updates as user updates input entry\r\n    useEffect(() => {\r\n        setPosition(INIT)\r\n    }, [searchTerm])\r\n\r\n    // Update cardname state on marker change.\r\n    // Updates scroll position of autocomplete list (ul).\r\n    // Marker's value updates on arrow key events (up or down).\r\n    useEffect(() => {\r\n        setCardName(predictions[marker]);\r\n        ulRef.current.scrollTo({ top: position, behavior: 'smooth' })\r\n    }, [marker])\r\n\r\n    // Keyboard arrow up and down autocomplete list search function\r\n    const handleKeyDown = (e) => {\r\n        if (predictions) {\r\n            if (e.key === 'ArrowDown') {\r\n                // console.log(marker)\r\n                if (marker < predictions.length - 1) {\r\n                    setPosition(position + 40)\r\n                    setMarker(marker + 1);\r\n                }\r\n            } \r\n            if (e.key === 'ArrowUp') {\r\n                // console.log(marker)\r\n                ulRef?.current?.scrollIntoView(true)\r\n                if (marker === predictions.length - 1 || marker >= 0) {\r\n                    setPosition(position - 40);\r\n                    setMarker(marker - 1);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleMouseDown = (e) => {\r\n        // Takes event and target li id set to prediction value @ Prediction\r\n        searchCard(e, e.target.id);\r\n    };\r\n\r\n    return (\r\n        <ul\r\n            id=\"autocomplete-list\"\r\n            className=\"autocomplete-list\"\r\n            onMouseDown={handleMouseDown}\r\n            ref={ulRef}\r\n        >\r\n            {displayAutcomplete &&\r\n                predictions?.map((prediction, index) => {\r\n                    return (\r\n                        (\r\n                            <Prediction\r\n                                key={index}\r\n                                index={index}\r\n                                marker={marker}\r\n                                prediction={prediction}\r\n                            />\r\n                        )\r\n                    );\r\n                })}\r\n        </ul>\r\n    );\r\n}\r\n\r\nexport default AutoComplete;",
    "import React, {\r\n  forwardRef,\r\n  useContext\r\n} from 'react';\r\nimport AutoComplete from './AutoComplete';\r\nimport { SearchContext } from '../../../contexts/SearchContext';\r\n\r\nconst SearchInput = forwardRef(function SearchInput(props, ref) {\r\n  const {\r\n    id,\r\n    isActive,\r\n    searchCard\r\n  } = props;\r\n  const inputRef = ref;\r\n\r\n  const {\r\n    setMarker,\r\n    cardNames,\r\n    setCardName,\r\n    setSearchInput,\r\n    searchTerm,\r\n    setSearchTerm,\r\n    predictions,\r\n    setPredictions,\r\n    displayAutcomplete,\r\n    setDisplayAutocomplete\r\n  } = useContext(SearchContext);\r\n\r\n  const handleChange = (e) => {\r\n    if (e.target.value.length >= 3) {\r\n      // Reset Marker to initial value\r\n      setMarker(-1);\r\n\r\n      const filteredCardTitles = cardNames?.filter((title) => {\r\n        return title.toLowerCase().includes(e.target.value.toLowerCase());\r\n      });\r\n\r\n      !displayAutcomplete && setDisplayAutocomplete(true)\r\n      setPredictions(filteredCardTitles);\r\n      // setCardName(e.target.value);\r\n    }\r\n    else {\r\n      setDisplayAutocomplete(false);\r\n      setCardName('');\r\n    }\r\n    setSearchTerm(e.target.value)\r\n  };\r\n\r\n  const handleBlur = (e) => {\r\n    e.preventDefault();\r\n    setMarker(-1);\r\n    setSearchTerm('');\r\n  };\r\n\r\n  const handleFocus = (e) => {\r\n    e.preventDefault();\r\n    setSearchInput(e.target);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <input\r\n        id={id}\r\n        type=\"text\"\r\n        className={id === 'search-catalog' ? 'search-catalog-field' : 'search-field'}\r\n        value={isActive ? searchTerm : ''}\r\n        onChange={handleChange}\r\n        onFocus={handleFocus}\r\n        onBlur={handleBlur}\r\n        ref={inputRef}\r\n        placeholder={\r\n          id === 'search-catalog'\r\n            ? 'Search Magic Find'\r\n            : id === 'search-collection'\r\n              ? 'Search Your Collection'\r\n              : 'Search Skryfall API'\r\n        }\r\n      />\r\n      {(isActive && searchTerm) &&\r\n        <AutoComplete predictions={predictions} searchCard={searchCard} inputRef={inputRef} />\r\n      }\r\n    </>\r\n  );\r\n});\r\n\r\nexport default SearchInput;",
    "const userAgent = () => {\r\n    return window.navigator.userAgent;\r\n}\r\n\r\nexport default userAgent;",
    "export default function toggleClass(target, classname) {\r\n    target.classList.toggle(classname);\r\n}",
    "// Main Header search form (search bar)\r\n// Called on browser width <=775px\r\nimport getUserAgent from './getUserAgent';\r\nimport toggleClass from './toggleClass';\r\n\r\nconst hideSearchBar = (state) => {\r\n    const userAgent = getUserAgent();\r\n\r\n    // Click label attached to checkbox to check it\r\n    document.querySelector('.mobile-nav-label').click();\r\n    // Hide search catalog search bar\r\n    document.querySelector('#search-catalog-container').style.width = 0;\r\n    // Display search icon (magnifier)\r\n    document.querySelector('.search-btn').style.setProperty('display', 'block');\r\n\r\n    if (userAgent.toLowerCase().includes('firefox')) {\r\n        toggleClass(document.querySelector('.main-header'), 'checked');\r\n    }\r\n}\r\n\r\nexport default hideSearchBar;",
    "const browserWidth = () => {\r\n    return document.body.clientWidth\r\n}\r\n\r\nexport default browserWidth;",
    "const setQueryString = (string, separator) => {\r\n\r\n    return string.toLowerCase().replaceAll(/[\"/,]/g, '').replace('  ', ' ').split(' ').join(separator);\r\n}\r\n\r\nexport default setQueryString;",
    "import React, {\r\n  useRef,\r\n  useState,\r\n  useEffect,\r\n  useContext\r\n} from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport SearchInput from './SearchInput';\r\nimport { SearchContext } from '../../../contexts/SearchContext';\r\nimport useAuth from '../../../hooks/useAuth';\r\nimport { api } from '../../../api/resources';\r\nimport hideSearchBar from '../../../utilities/hideSearchBar';\r\nimport getViewPortWidth from '../../../utilities/getViewPortWidth';\r\nimport setQueryString from '../../../utilities/setQueryString';\r\n\r\nconst Catalog = () => {\r\n  // States\r\n  const [isActive, setIsActive] = useState(false);\r\n  // Ref\r\n  const catalogInputRef = useRef(null);\r\n  // Context\r\n  const {\r\n    searchInput,\r\n    setLoading,\r\n    setSearchInput,\r\n    searchTerm,\r\n    cardName,\r\n    setCardName,\r\n    setCardNames,\r\n    predictions,\r\n  } = useContext(SearchContext);\r\n  // Routing\r\n  const navigate = useNavigate();\r\n  // Hook\r\n  const { auth } = useAuth();\r\n  // Utilities\r\n  const browserWidth = getViewPortWidth();\r\n\r\n  const searchCatalog = () => {\r\n    const headers = new Headers();\r\n    headers.append('Content-Type', 'application/json');\r\n    const options = {\r\n      method: 'GET',\r\n      headers: headers,\r\n    };\r\n\r\n    fetch(`${api.serverURL}/api/cards/catalog`, options)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setCardNames(data.cards)\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    if (searchInput?.id === 'search-catalog') {\r\n      searchCatalog();\r\n      setIsActive(true);\r\n    } else {\r\n      setIsActive(false);\r\n    }\r\n  }, [searchInput]);\r\n\r\n  const searchCatalogCard = (e = undefined, prediction = undefined) => {\r\n    e?.preventDefault();\r\n\r\n    if (searchTerm.length < 3) { return }\r\n\r\n    setLoading(true);\r\n\r\n    catalogInputRef.current?.blur();\r\n\r\n    const headers = new Headers();\r\n    headers.append('Content-Type', 'application/json');\r\n    auth && headers.append('auth-token', auth.token);\r\n    const options = {\r\n      method: 'GET',\r\n      headers: headers,\r\n    };\r\n\r\n    let query;\r\n\r\n    if (prediction) {\r\n      query = prediction;\r\n    }\r\n    else if (cardName) {\r\n      query = cardName;\r\n    }\r\n    else if (predictions.length === 1) {\r\n      query = predictions[0];\r\n    }\r\n    else if (searchTerm) {\r\n      query = searchTerm;\r\n    }\r\n    // Conditional query string won't return user cards if auth\r\n    // Else returns all cards\r\n    const queryString = auth ?\r\n      `${api.serverURL}/api/cards/catalog/${encodeURIComponent(query)}/${auth.id}` :\r\n      `${api.serverURL}/api/cards/catalog/${encodeURIComponent(query)}`;\r\n\r\n    fetch(queryString, options)\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          return res.json()\r\n            .then((data) => {\r\n              setLoading(false);\r\n\r\n              const result = {\r\n                cards: data.cards,\r\n                searchType: searchInput.id\r\n              }\r\n\r\n              setCardName('');\r\n              setSearchInput(null);\r\n              localStorage.setItem('search-result', JSON.stringify(result));\r\n              navigate(`/search-result/catalog/${setQueryString(query.toLowerCase(), '-')}`,\r\n                {\r\n                  state: result,\r\n                });\r\n\r\n              if (browserWidth <= 775 && document.querySelector('#mobile-nav')?.checked) {\r\n                hideSearchBar();\r\n              }\r\n            })\r\n        }\r\n        else if (res.status === 400) {\r\n          return res.json().then((error) => {\r\n            console.log(error.message)\r\n            setLoading(false);\r\n            // If not found\r\n            if (error.errorType === 'not-found') {\r\n              navigate(`/search-result/not-found/${query}`);\r\n            }\r\n\r\n            if (browserWidth <= 775 && document.querySelector('#mobile-nav')?.checked) {\r\n              hideSearchBar();\r\n            }\r\n          })\r\n        }\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div id=\"search-catalog-container\">\r\n      <form id=\"search-catalog-form\" className=\"search-form\" onSubmit={searchCatalogCard} >\r\n        <SearchInput isActive={isActive} id={'search-catalog'} searchCard={searchCatalogCard} ref={catalogInputRef} />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Catalog;\r\n",
    "import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Menu = ({ paths }) => {\r\n    return (\r\n        <ul className='menu'>\r\n            {\r\n                paths.map((path, index) => {\r\n                    return (\r\n                        <li key={index}>\r\n                            <Link className=\"nav-link\" to={path.to} replace>\r\n                                {path.name}\r\n                            </Link>\r\n                        </li>\r\n                    )\r\n                })\r\n            }\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default Menu\r\n",
    "// Dropdown menu available after successfull singin\r\nimport { NavLink } from 'react-router-dom';\r\nimport useAuth from '../../hooks/useAuth';\r\n\r\nfunction AuthMenu({ authPaths }) {\r\n  const { logoutAction } = useAuth();\r\n\r\n  return (\r\n    <ul className='menu auth-nav'>\r\n      {\r\n        authPaths.map((path, index) => {\r\n          return (\r\n            <li key={index}>\r\n              <NavLink className=\"nav-link\" to={path.to} >\r\n                {path.name}\r\n              </NavLink>\r\n            </li>\r\n          )\r\n        })\r\n      }\r\n      <li>\r\n        <div className=\"nav-link logout\" onClick={() => logoutAction()}>\r\n          Logout\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default AuthMenu;\r\n",
    "import { FiSearch } from 'react-icons/fi';\r\nimport styled from 'styled-components';\r\n\r\nconst SearchBtn = () => {\r\n\r\n    return (\r\n        <Label htmlFor=\"mobile-nav\" className=\"nav-btn search-btn search-nav-label\">\r\n            <FiSearch className=\"nav-icon\" size={28} title=\"Search Catalog\" />\r\n        </Label>\r\n    );\r\n}\r\nconst Label = styled.label`\r\n&:hover {\r\n    cursor: pointer;\r\n}\r\nsvg {\r\n    display: block;\r\n\r\n    @media (width >= 775px) {\r\n        display: none;\r\n    }\r\n}\r\n\r\n`;\r\nexport default SearchBtn;\r\n",
    "import { Link } from 'react-router-dom';\r\nimport useAuth from '../../../hooks/useAuth';\r\nimport { FiMail } from 'react-icons/fi';\r\nimport styled from 'styled-components';\r\n\r\nconst MailIcon = () => {\r\n  const { unreadMail } = useAuth();\r\n    return (\r\n      <Div className=\"nav-btn\">\r\n        <Mail className=\"mail-btn\" to=\"/mail/inbox\" title=\" To Inbox\">\r\n          {unreadMail > 0 && (\r\n            <UnreadContainer>\r\n              <Unread>{unreadMail}</Unread>\r\n            </UnreadContainer>\r\n          )}\r\n          <FiMail className=\"nav-icon\" size={27} />\r\n        </Mail>\r\n      </Div>\r\n    )\r\n}\r\n\r\n\r\n\r\nconst Div = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n`;\r\n\r\nconst Mail = styled(Link)`\r\n   color: var(--clr-grey);\r\n`;\r\n\r\nconst UnreadContainer = styled.div`\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  top: -10px;\r\n  left: 17px;\r\n  background-color: #28a745;\r\n  width: 22px;\r\n  height: 22px;\r\n  border-radius: 50%;\r\n  z-index: 10;\r\n`;\r\n\r\nconst Unread = styled.div`\r\n  text-align: center;\r\n  font-size: 0.8em;\r\n  font-weight: bold;\r\n  color: #fff;\r\n`;\r\n\r\nexport default MailIcon;\r\n",
    "const HamburgerBtn = () => {\r\n\r\n    return (\r\n        <div className=\"hamburger  nav-btn\">\r\n            <label htmlFor=\"mobile-nav\" className=\"hamburger-btn mobile-nav-label\">\r\n            <span></span>\r\n        </label>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default HamburgerBtn;\r\n",
    "import { Link } from 'react-router-dom';\r\nimport { FaUserCircle } from 'react-icons/fa';\r\n\r\nconst SignInBtn = () => {\r\n    return (\r\n        <div className=\"nav-btn signin-nav-btn\">\r\n            <Link className=\"signin-btn\" to='/login'>\r\n                <FaUserCircle className=\"nav-icon\" size={27} title=\"Login\" />\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignInBtn;\r\n",
    "const Avatar = ({ auth }) => {\r\n\r\n    return (\r\n        auth.avatar.src ? (\r\n            <img src={auth.avatar.src} alt=\"Avatar\" />\r\n                ) : (\r\n                auth.avatar.letter\r\n            )\r\n    )\r\n}\r\n\r\nexport default Avatar\r\n",
    "import Avatar from '../Avatar';\r\n\r\nconst AuthBtn = ({ auth, panelRef }) => {\r\n\r\n    return (\r\n        <button\r\n            className=\"nav-btn auth-nav-btn\"\r\n            style={\r\n                { backgroundColor: `#${auth.avatar.color}` }\r\n            }\r\n            onClick={\r\n                () => panelRef.current.classList.toggle('side-show')\r\n            }\r\n        >\r\n            <Avatar auth={auth} />\r\n        </button>\r\n\r\n    )\r\n}\r\n\r\nexport default AuthBtn;\r\n",
    "import { forwardRef } from 'react'\r\n\r\nconst SidePanel = forwardRef(function SidePanel({ children }, ref) {\r\n\r\n    return (\r\n        <div className=\"side-panel\" onClick={() => ref?.current.classList.toggle('side-show')} ref={ref}>\r\n            {children}\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default SidePanel\r\n",
    "import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FiShoppingCart } from 'react-icons/fi';\r\nimport { ShoppingCartContext } from '../../../contexts/ShoppingCartContext';\r\nimport styled from 'styled-components';\r\n\r\nconst ShoppingCartBtn = () => {\r\n  const { itemsCount } = useContext(ShoppingCartContext);\r\n  return (\r\n    <Div className=\"nav-btn\">\r\n      <Link to=\"/shopping-cart\" className=\"cart-btn\">\r\n        {itemsCount > 0 && (\r\n          <CountContainer>\r\n            <Count>{itemsCount}</Count>\r\n          </CountContainer>\r\n        )}\r\n        <FiShoppingCart className=\"nav-icon\" size={27} title=\"To Shopping Cart\" />\r\n      </Link>\r\n    </Div>\r\n  )\r\n}\r\n\r\nconst Div = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n`;\r\n\r\nconst CountContainer = styled.div`\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  top: -10px;\r\n  left: 17px;\r\n  background: #dc3545;\r\n  width: 22px;\r\n  height: 22px;\r\n  border-radius: 50%;\r\n  z-index: 10;\r\n`;\r\n\r\nconst Count = styled.div`\r\n  text-align: center;\r\n  font-size: 0.8em;\r\n  font-weight: bold;\r\n  color: #fff;\r\n`;\r\n\r\nexport default ShoppingCartBtn\r\n",
    "import { useRef } from 'react';\r\nimport Menu from './Menu';\r\nimport AuthMenu from './AuthMenu';\r\nimport SearchBtn from './navbtn/SearchBtn';\r\nimport MailBtn from './navbtn/MailBtn';\r\nimport HamburgerBtn from './navbtn/HamburgerBtn';\r\nimport SignInBtn from './navbtn/SignInBtn';\r\nimport AuthBtn from './navbtn/AuthBtn';\r\nimport SidePanel from '../layout/SidePanel'\r\nimport ShoppingCartBtn from './navbtn/ShoppingCartBtn';\r\n\r\nfunction Navbar({ auth }) {\r\n    const panelRef = useRef(null);\r\n\r\n    const authPaths = [\r\n        {\r\n            name: 'Dashboard',\r\n            to: '../me/dashboard',\r\n        },\r\n        {\r\n            name: 'Collection',\r\n            to: '../me/collection'\r\n        },\r\n        {\r\n            name: 'Store',\r\n            to: '../me/store'\r\n        },\r\n        {\r\n            name: 'Profile',\r\n            to: 'profile'\r\n        },\r\n        {\r\n            name: 'Settings',\r\n            to: 'settings'\r\n        },\r\n    ]\r\n\r\n    const paths = [\r\n        {\r\n            name: 'Home',\r\n            to: '/'\r\n        },\r\n        {\r\n            name: 'About',\r\n            to: 'about'\r\n        },\r\n        {\r\n            name: 'Contact',\r\n            to: 'contact'\r\n        },\r\n        {\r\n            name: 'Sing in',\r\n            to: 'login'\r\n        },\r\n        {\r\n            name: 'Crate Account',\r\n            to: 'signup'\r\n        },\r\n\r\n    ]\r\n    return (\r\n        <div className=\"navbar\">\r\n            <input type=\"checkbox\" id=\"mobile-nav\" className=\"mobile-nav\" />\r\n            <nav>\r\n                <section className=\"left-side-nav\">\r\n                    {/************************************************* \r\n                     /*  SearchBtn icon mobile only @ screen < 725px \r\n                     /*  Has a label linked to mobile-nav checkbox \r\n                     *************************************************/}\r\n                    <SearchBtn />\r\n                    {auth ? (\r\n                        <>\r\n                            <MailBtn />\r\n                            <ShoppingCartBtn />\r\n                            <HamburgerBtn />\r\n                            <AuthBtn auth={auth} panelRef={panelRef} />\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            <ShoppingCartBtn />\r\n                                <SignInBtn />\r\n                            <HamburgerBtn />\r\n                        </>\r\n                    )}\r\n                    {/************************************************* \r\n                     /*  Hamburger \r\n                     /*  Has a label linked to mobile-nav checkbox \r\n                     *************************************************/}\r\n\r\n                </section>\r\n                <section className=\"right-side-nav\">\r\n                    {auth ? (\r\n                        <AuthMenu authPaths={authPaths} />\r\n                    ) : (\r\n                            <Menu paths={paths} />\r\n                    )}\r\n                </section>\r\n                <SidePanel ref={panelRef}>\r\n                    <AuthMenu authPaths={authPaths} />\r\n                </SidePanel>\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navbar;",
    "import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { GiWaterBolt } from 'react-icons/gi';\r\nimport styled from 'styled-components';\r\nimport useAuth from '../../../hooks/useAuth';\r\n\r\nconst LogoBtn = () => {\r\n  const { auth } = useAuth();\r\n\r\n  return (\r\n    <Logo >\r\n      <Anchor className=\"logo-btn\" to={auth ? 'me' : '/'} title=\"Magic Find logo\">\r\n        <SVG>\r\n          <GiWaterBolt />\r\n        </SVG>\r\n        <Title>\r\n          <Text>Magic</Text>\r\n          <Text>Find</Text>\r\n        </Title>\r\n      </Anchor>\r\n    </Logo>\r\n  )\r\n}\r\n\r\nconst Logo = styled.div`\r\nheight: inherit;\r\ndisplay: flex;\r\nalign-items: center;\r\n\r\n&:hover {\r\n  cursor: pointer;\r\n}\r\n`;\r\nconst Anchor = styled(Link)`\r\ndisplay: flex;\r\nalign-items: center;\r\n`;\r\n\r\n\r\nconst SVG = styled.div`\r\ndisplay: inline-block;\r\nsvg {\r\n  font-size: 3.4rem;\r\n  display: block;\r\n}\r\n`\r\n\r\nconst Title = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n\r\n    @media (width >= 725px) {\r\n      flex-direction: row;\r\n      align-items: center;\r\n    }\r\n`;\r\n\r\nconst Text = styled.div`\r\n  font-family: 'Young Serif', serif;\r\n  font-size: 1.8rem;\r\n  line-height: 1;\r\n  margin-inline-start: 5px;\r\n\r\n  @media (width >= 725px) {\r\n    font-size: 2.8rem;\r\n  }\r\n`;\r\n\r\n\r\nexport default LogoBtn;\r\n",
    "import getViewPortWidth from './getViewPortWidth';\r\nimport getUserAgent from './getUserAgent';\r\nimport toggleClass from './toggleClass';\r\n\r\n// Handles Header Search bar and mobile menu behaviour\r\n// [target] node element, [callback] stateSetter (searchTerm), [isOutsideEvent: bool] optional flag for extra Header events\r\nconst handleSearchBar = (e, isOutsideEvent = false) => {\r\n// e.stopPropagation();\r\n    const userAgent = getUserAgent();\r\n    const browserWidth = getViewPortWidth();\r\n    const target = e.target;\r\n\r\n    if (target) {\r\n        // If target is menu link (i.e mobile menu is displayed) or if target is header log\r\n        if (target.classList.contains('nav-link')) {\r\n            // Uncheck checkbox to initiate hamburger animation (from cross to hamburger)\r\n            document.querySelector('#mobile-nav').click();\r\n            // Hide mobile menu\r\n            document.querySelector('.menu').style.setProperty('left', '100%');\r\n            // Display search button (maginifier icon)\r\n            document.querySelector('.search-btn').style.setProperty('display', 'block');\r\n            if (userAgent.toLocaleLowerCase().includes.firefox) {\r\n                // Remove 'checked' class from main header\r\n                toggleClass(document.querySelector('.main-header'), 'checked');\r\n            }\r\n        }\r\n\r\n        // If Search button (magnifier icon)\r\n        if (target.classList.contains('search-btn')) {\r\n            // Show Search bar \r\n            document.querySelector('#search-catalog-container').style.setProperty('width', 'calc(100% - 5rem)');\r\n            // Hide Search button\r\n            // document.querySelector('.search-btn').style.setProperty('display', 'none');\r\n            // Add input field focus\r\n            document.querySelector('#search-catalog').focus();\r\n        }\r\n\r\n        // If Logo\r\n        if (target.classList.contains('logo-btn')) {\r\n            // If mobile menu is displayed\r\n            if (document.querySelector('#mobile-nav').checked) {\r\n                // Uncheck checkbox to initiate hamburger animation (from cross to hamburger)\r\n                document.querySelector('#mobile-nav').click();\r\n                // Hide mobile menu\r\n                document.querySelector('.menu').style.setProperty('left', '100%');\r\n                if (browserWidth <= 775) {\r\n                    // Display search button (maginifier icon)\r\n                    document.querySelector('.search-btn').style.setProperty('display', 'block');\r\n                }\r\n                    if (userAgent.toLocaleLowerCase().includes.firefox) {\r\n                        // Remove 'checked' class from main header\r\n                        toggleClass(document.querySelector('.main-header'), 'checked');\r\n                    }\r\n            }\r\n        }\r\n\r\n        // If Hamburger button\r\n        if (target.classList.contains('hamburger-btn')) {\r\n            // Handle Search bar\r\n            if (document.querySelector('#mobile-nav').checked) {\r\n                if (browserWidth <= 775) {\r\n                    // If Search bar is displayed\r\n                    if (document.querySelector('#search-catalog-container').style.width === 'calc(100% - 5rem)') {\r\n                        // Hide Search bar\r\n                        document.querySelector('#search-catalog-container').style.setProperty('width', '0');\r\n                        // Show Search button icon\r\n                        document.querySelector('.search-btn').style.setProperty('display', 'block');\r\n                        // Reset field state\r\n                        document.querySelector('#search-catalog').blur();\r\n                        // Empty search input\r\n                        document.querySelector('#search-catalog').value = '';\r\n                    }\r\n                }\r\n                // If menu is displayed\r\n                if (document.querySelector('.menu').style.left !== '100%') {\r\n                    // Hide menu\r\n                    document.querySelector('.menu').style.setProperty('left', '100%');\r\n                    // Show Search button icon\r\n                    document.querySelector('.search-btn').style.setProperty('display', 'block');\r\n                }\r\n            } else {\r\n                // Hide menu\r\n                document.querySelector('.menu').style.setProperty('left', '100%');\r\n            }\r\n            if (!document.querySelector('#mobile-nav').checked) {\r\n                if (browserWidth <= 775) {\r\n                    // Hide Search button icon\r\n                    document.querySelector('.search-btn').style.setProperty('display', 'none');\r\n                }\r\n                // Show Menu\r\n                document.querySelector('.menu').style.setProperty('left', '0');\r\n            }\r\n        }\r\n        // If event is triggered outside of Main Header\r\n        if (isOutsideEvent) {\r\n            if (browserWidth <= 775) {\r\n                // Clear search catalog search bar\r\n                document.querySelector('#search-catalog-container').style.width = 0;\r\n                // Display search icon (magnifier)\r\n                document.querySelector('.search-btn').style.setProperty('display', 'block');\r\n            }\r\n            // Click label attached to checkbox to check it\r\n            target.click();\r\n            if (userAgent.toLowerCase().includes('firefox')) {\r\n                toggleClass(document.querySelector('.main-header'), 'checked');\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default handleSearchBar;",
    "import Catalog from '../views/search/Catalog';\r\nimport Navbar from './Navbar';\r\nimport LogoBtn from './navbtn/LogoBtn';\r\nimport useAuth from '../../hooks/useAuth';\r\nimport handleSearchBar from '../../utilities/handleSearchBar';\r\n\r\nconst Header = () => {\r\n  const { auth } = useAuth();\r\n\r\n  // Handle search bar and menu animation\r\n  const handleClick = (e) => {\r\n    handleSearchBar(e);\r\n  }\r\n  return (\r\n    <header className=\"main-header\" onClick={handleClick}>\r\n      <div className=\"top-header\">\r\n        <LogoBtn />\r\n        <Catalog />\r\n        <Navbar auth={auth} />\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;",
    "import React from 'react';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p>\r\n        Magic Find &bull; Copyright &copy; 2022 &bull; All Rights Reserved\r\n      </p>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n",
    "import { ImSpinner2 } from \"react-icons/im\";\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <div className=\"loading-icon inherit-height flex align-center justify-center\">\r\n            <ImSpinner2 />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Loading;\r\n",
    "\r\nimport { useContext } from 'react';\r\nimport { Outlet, useLocation } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\nimport Loading from './Loading';\r\nimport { SearchContext } from '../../contexts/SearchContext';\r\n\r\nconst Layout = () => {\r\n    const location = useLocation();\r\n    const { loading } = useContext(SearchContext);\r\n    return (\r\n        <div className=\"wrapper\">\r\n            {location.pathname === '/login' || location.pathname === '/signup' ? (\r\n                <>\r\n                    <div className=\"container\">\r\n                        <Outlet />\r\n                    </div>\r\n                    <Footer />\r\n                </>\r\n            ) : (\r\n                <>\r\n                    <Header />\r\n                    <div className=\"container\">\r\n                        <div className=\"content\">\r\n                                {\r\n                                    !loading ? (\r\n\r\n                                        <Outlet />\r\n\r\n                                    ) : (\r\n                                        <div className=\"loading-content\">\r\n                                            <Loading />\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <Footer />\r\n                </>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Layout\r\n",
    "import { useLocation, Navigate, Outlet } from 'react-router-dom';\r\nimport useAuth from '../../hooks/useAuth';\r\n\r\nconst RequireAuth = () => {\r\n    const { auth } = useAuth();\r\n    const location = useLocation();\r\n    return (\r\n        !auth ?\r\n            <Navigate to='/login' state={{ from: location }} replace /> :\r\n            <Outlet auth={auth} />\r\n    )\r\n}\r\n\r\nexport default RequireAuth;\r\n",
    "import { useLocation, Navigate, Outlet } from 'react-router-dom';\r\nimport useAuth from '../../hooks/useAuth';\r\n\r\nconst RequireNotAuth = () => {\r\n    const { auth } = useAuth();\r\n    const location = useLocation();\r\n    return (\r\n        auth ?\r\n            <Navigate to='/me' state={{ from: location }} replace /> :\r\n            <Outlet />\r\n    )\r\n}\r\n\r\nexport default RequireNotAuth;",
    "import React from 'react'\r\n\r\nconst Store = () => {\r\n    return (\r\n        <div className=\"outer-content\">\r\n            <div className=\"inner-content\">\r\n                <header className=\"header\">\r\n                    <h2 className=\"title\">Store</h2>\r\n                </header>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Store\r\n",
    "import { NavLink } from 'react-router-dom'\r\n\r\nconst AuthContextualNav = ({ views }) => {\r\n\r\n    return (\r\n        <div className=\"contextual-links\">\r\n            {views.map((view, index) => {\r\n                return (\r\n                    <NavLink\r\n                        key={index}\r\n                        id={view.id}\r\n                        to={view.path}\r\n                        className={({ isActive }) => {\r\n                            return isActive ? 'active-link' : 'inactive-link'\r\n                        }}\r\n                    >\r\n                        <span >{view.title}</span>\r\n                    </NavLink>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AuthContextualNav\r\n",
    "import React from 'react'\r\n\r\nconst AuthLanding = () => {\r\n    return (\r\n        <div className=\"outer-content\">\r\n            <div className=\"inner-content\">\r\n                <header className=\"header\">\r\n                    <h2 className=\"title\">Home</h2>\r\n                </header>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AuthLanding\r\n",
    "import React, {\r\n  useRef,\r\n  useState,\r\n  useEffect,\r\n  useContext\r\n} from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { FiArrowRightCircle } from \"react-icons/fi\"\r\nimport SearchInput from './SearchInput';\r\nimport Loading from '../../layout/Loading';\r\nimport { SearchContext } from '../../../contexts/SearchContext';\r\nimport { api } from '../../../api/resources';\r\nimport hideSearchBar from '../../../utilities/hideSearchBar';\r\nimport getViewPortWidth from '../../../utilities/getViewPortWidth';\r\nimport setQueryString from '../../../utilities/setQueryString';\r\nimport useAuth from '../../../hooks/useAuth';\r\n\r\nconst Collection = ({ path }) => {\r\n  // States\r\n  const [loading, setLoading] = useState(false);\r\n  const [isActive, setIsActive] = useState(false);\r\n  // Ref\r\n  const collectionInputRef = useRef(null);\r\n  // Context\r\n  const {\r\n    errorMessage,\r\n    setErrorMessage,\r\n    searchInput,\r\n    setSearchInput,\r\n    searchTerm,\r\n    cardName,\r\n    setCardName,\r\n    setCardNames,\r\n    predictions,\r\n    setHasLoaded,\r\n    hasLoaded\r\n  } = useContext(SearchContext);\r\n  // Routing\r\n  const navigate = useNavigate();\r\n  // Hook\r\n  const { auth } = useAuth();\r\n  // Utilities\r\n  const browserWidth = getViewPortWidth();\r\n\r\n  const searchCollection = (query = '') => {\r\n\r\n    setLoading(true);\r\n    const headers = new Headers();\r\n    headers.append('Content-Type', 'application/json');\r\n    headers.append('auth-token', auth.token);\r\n    const options = {\r\n      method: 'GET',\r\n      headers: headers,\r\n    }\r\n\r\n    fetch(`${api.serverURL}/api/cards/${auth.id}/${query}`, options)\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json()\r\n            .then((dataObj) => {\r\n              const { query, data } = dataObj;\r\n              if (query === 'card-names') {\r\n                setCardNames(data);\r\n                setHasLoaded(true);\r\n                errorMessage && setErrorMessage(null);\r\n              }\r\n              else if (query === 'cards') {\r\n                const result = { cards: data, searchType: searchInput.id }\r\n                // Update local storage with search data\r\n                localStorage.setItem('search-result', JSON.stringify(result));\r\n                navigate(`/search-result/collection/all-cards`,\r\n                  {\r\n                    state: result,\r\n                  });\r\n              }\r\n              setLoading(false);\r\n              collectionInputRef.current?.focus();\r\n            });\r\n        }\r\n        else if (res.status === 400) {\r\n          return res.json()\r\n            .then((error) => {\r\n              setLoading(false);\r\n              setErrorMessage({ ...error.message });\r\n            })\r\n        }\r\n      });\r\n  }\r\n  useEffect(() => {\r\n    // if (!hasLoaded) {\r\n    searchCollection('card-names')\r\n    // } else {\r\n\r\n    // setHasLoaded(false);\r\n    if (browserWidth <= 775 && document.querySelector('#mobile-nav')?.checked) {\r\n      hideSearchBar();\r\n      // }\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (searchInput?.id === 'search-collection') {\r\n      setIsActive(true);\r\n    } else {\r\n      // setHasLoaded(false)\r\n      // setCardNames([]);\r\n      setIsActive(false);\r\n    }\r\n  }, [searchInput]);\r\n\r\n\r\n  // Instore single card request search field with\r\n  const searchCollectionCard = (e = undefined, prediction = undefined) => {\r\n    e?.preventDefault();\r\n\r\n    if (searchTerm.length < 3) { return }\r\n\r\n    setLoading(true);\r\n\r\n    collectionInputRef.current?.blur();\r\n\r\n    const headers = new Headers();\r\n    headers.append('Content-Type', 'application/json');\r\n    headers.append('auth-token', auth.token);\r\n    const options = {\r\n      method: 'GET',\r\n      headers: headers,\r\n    };\r\n\r\n    let query = ''\r\n\r\n    if (prediction) {\r\n      query = prediction;\r\n    }\r\n    else if (cardName) {\r\n      query = cardName;\r\n    }\r\n    else if (predictions.length === 1) {\r\n      query = predictions[0];\r\n    }\r\n    else if (searchTerm) {\r\n      query = searchTerm;\r\n    }\r\n\r\n    fetch(`${api.serverURL}/api/cards/collection/${auth.id}/${encodeURIComponent(query)}`, options)\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          return res.json()\r\n            .then((data) => {\r\n              setLoading(false);\r\n\r\n              const result = {\r\n                cards: data.cards,\r\n                searchType: searchInput.id,\r\n              }\r\n\r\n              setCardName('');\r\n              setSearchInput(null);\r\n              localStorage.setItem('search-result', JSON.stringify(result));\r\n              navigate(`/search-result/collection/${setQueryString(query.toLowerCase(), '-')}`,\r\n                {\r\n                  state: result,\r\n                });\r\n            })\r\n        }\r\n        else if (res.status === 400) {\r\n          setLoading(false);\r\n          navigate(`/search-result/not-found/${query}`);\r\n        }\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className=\"outer-content\">\r\n      {\r\n        errorMessage?.title === 'no_cards' ? (\r\n          <div className=\"message\">\r\n            <section className=\"message-section\">\r\n              <div className=\"message-body\">\r\n                {\r\n                  errorMessage.body?.map((part, index) => {\r\n                    return <p key={index}>{part}</p>\r\n                  })\r\n                }\r\n              </div>\r\n            </section>\r\n            <section className=\"message-section\">\r\n              <Link className=\"message-link\" to={'../me/add-card'}> To Add Card Page <FiArrowRightCircle /></Link>\r\n            </section>\r\n          </div>\r\n        ) : (\r\n            loading ? (\r\n              <Loading />\r\n            ) : (\r\n                <div className=\"inner-content\">\r\n                <header className=\"header\">\r\n                    <h2 className=\"title\">Browse Collection</h2>\r\n                </header>\r\n                <main className=\"flex flex-column\">\r\n                  <form id=\"search-collection-form\" className=\"search-form\" onSubmit={searchCollectionCard} >\r\n                    <SearchInput isActive={isActive} id={'search-collection'} searchCard={searchCollectionCard} ref={collectionInputRef} />\r\n                    </form>\r\n                    <button\r\n                      className=\"bg-green\"\r\n                      type=\"button\"\r\n                      onClick={() => searchCollection('cards')}\r\n                    >\r\n                      All Cards\r\n                    </button>\r\n                  </main>\r\n            </div>\r\n          )\r\n        )\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Collection;",
    "import React, {\r\n  useRef,\r\n  useState,\r\n  useEffect,\r\n  useContext\r\n} from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport SearchInput from './SearchInput';\r\nimport Loading from '../../layout/Loading';\r\nimport { SearchContext } from '../../../contexts/SearchContext';\r\nimport { api } from '../../../api/resources';\r\nimport setQueryString from '../../../utilities/setQueryString';\r\nimport hideSearchBar from '../../../utilities/hideSearchBar';\r\nimport getViewPortWidth from '../../../utilities/getViewPortWidth';\r\n\r\nconst Search = ({ path }) => {\r\n  // States\r\n  const [loading, setLoading] = useState(false);\r\n  const [isActive, setIsActive] = useState(false);\r\n  const [oracleID, setOracleID] = useState('');\r\n  const [data, setData] = useState(null);\r\n  // Ref\r\n  const apiInputRef = useRef(null);\r\n  // Context\r\n  const {\r\n    searchInput,\r\n    setSearchInput,\r\n    searchTerm,\r\n    predictions,\r\n    cardName,\r\n    setCardName,\r\n    setCardNames,\r\n    apiCards,\r\n    setApiCards,\r\n  } = useContext(SearchContext);\r\n  // Routing\r\n  const navigate = useNavigate();\r\n  // Utilities\r\n  const browserWidth = getViewPortWidth();\r\n\r\n  const fetchApiCards = () => {\r\n\r\n    setLoading(true);\r\n    const headers = new Headers();\r\n    headers.append('Content-Type', 'application/json');\r\n    const options = {\r\n      method: 'GET',\r\n      headers: headers,\r\n    };\r\n\r\n    fetch(`${api.serverURL}/api/cards/api-cardnames`, options)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setApiCards(data);\r\n        setCardNames(data);\r\n        setLoading(false);\r\n        apiInputRef.current.focus();\r\n      })\r\n      .catch((error) => {\r\n        setLoading(false);\r\n        console.log(error)\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (path === 'add-card') {\r\n      apiInputRef.current.focus();\r\n    }\r\n    if (browserWidth <= 775 && document.querySelector('#mobile-nav')?.checked) {\r\n      hideSearchBar();\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (searchInput?.id === 'search-api') {\r\n      if (!apiCards) {\r\n        fetchApiCards()\r\n      } else {\r\n        setCardNames(apiCards);\r\n      }\r\n      setIsActive(true);\r\n    } else {\r\n      setIsActive(false);\r\n    }\r\n  }, [searchInput])\r\n\r\n\r\n  const searchAPI = (e = undefined, prediction = undefined) => {\r\n    e?.preventDefault();\r\n\r\n    if (searchTerm.length < 3) { return }\r\n\r\n    setLoading(true);\r\n\r\n    const headers = { method: 'GET' };\r\n\r\n    let query = ''\r\n\r\n    if (prediction) {\r\n      query = `cards/named?exact=${prediction}`;\r\n    }\r\n    else if (cardName) {\r\n      query = `cards/named?exact=${cardName}`;\r\n    }\r\n    else if (predictions === 1) {\r\n      query = `cards/named?exact=${predictions[0]}`;\r\n    }\r\n    else if (searchTerm) {\r\n      query = `cards/named?fuzzy=${searchTerm}`;\r\n    }\r\n\r\n    apiInputRef.current.blur();\r\n\r\n    fetch(`${api.skryfallURL}/${query}`, headers)\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json()\r\n            .then((data) => {\r\n              const { name, oracle_id } = data;\r\n              localStorage.setItem('oracle', oracle_id);\r\n              setOracleID(oracle_id);\r\n              setCardName(name);\r\n            })\r\n        }\r\n        else if (res.status === 404) {\r\n          setLoading(false);\r\n          navigate(`/search-result/not-found/${searchTerm}`);\r\n        }\r\n      })\r\n  };\r\n\r\n  // Fetch call triggered when oracleID state changes in fetchSingleCard function\r\n  useEffect(() => {\r\n    if (oracleID) {\r\n      const headers = { method: 'GET' };\r\n      fetch(\r\n        `${api.skryfallURL}/cards/search?order=released&q=oracleid%3A${oracleID}&unique=prints`,\r\n        headers\r\n      )\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          setData(data.data);\r\n          // localStorage.setItem('apiCards', JSON.stringify(data.data));\r\n        })\r\n        .catch((error) => console.log(error));\r\n    }\r\n  }, [oracleID]);\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      const apiCards = [];\r\n      const filteredCards = filterCards(data);\r\n\r\n      filteredCards.forEach((card, index) => {\r\n        if (card.finishes.length === 1) {\r\n          apiCards.push(filteredCards.splice(index, 1).pop());\r\n        }\r\n      });\r\n      filteredCards.forEach(card => {\r\n        card.finishes.forEach(finish => {\r\n          apiCards.push({ ...card, finishes: [finish], id: `${card.id}_${finish}` });\r\n        })\r\n      });\r\n\r\n      // Remove online versions\r\n      function filterCards(cards) {\r\n        return cards.filter((card) => {\r\n          return !card.digital;\r\n          // return !card.digital && !card.oversized;\r\n        });\r\n      };\r\n\r\n      setLoading(false)\r\n      setCardName('');\r\n      setSearchInput(null);\r\n      const result = {\r\n        cards: apiCards,\r\n        searchType: searchInput.id\r\n      };\r\n\r\n      localStorage.setItem('search-result', JSON.stringify(result));\r\n      navigate(`/search-result/api/${setQueryString(cardName, '-')}`,\r\n        {\r\n          state: result,\r\n        });\r\n\r\n    }\r\n  }, [data])\r\n\r\n  return (\r\n    <div className=\"outer-content\">\r\n      {\r\n        loading ? (\r\n          <Loading />\r\n        ) : (\r\n            <div className=\"inner-content\">\r\n              <header className=\"header\">\r\n                <h2 className=\"title\">Add a card</h2>\r\n              </header>\r\n              <main className=\"main\">\r\n                <form id=\"search-api-form\" className=\"search-form\" onSubmit={searchAPI}>\r\n                  <SearchInput isActive={isActive} id={'search-api'} searchCard={searchAPI} ref={apiInputRef} />\r\n                </form>\r\n              </main>\r\n            </div>\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;",
    "import { useParams } from 'react-router-dom';\r\nimport Store from './Store';\r\nimport AuthContextualNav from '../layout/AuthContextualNav';\r\nimport AuthLanding from './AuthLanding';\r\nimport Collection from './search/Collection';\r\nimport SearchApi from './search/SearchAPI';\r\n\r\nconst AuthPage = () => {\r\n  const { path } = useParams()\r\n\r\n  const views = [\r\n    { title: 'Home', id: 'home', path: '../me/home' },\r\n    { title: 'Collection', id: 'collection', path: '../me/collection' },\r\n    { title: 'Store', id: 'store', path: '../me/store' },\r\n    { title: 'Add Card', id: 'add-card', path: '../me/add-card' },\r\n  ]\r\n\r\n  return (\r\n    <>\r\n        <section className=\"contextual-nav\">\r\n          <AuthContextualNav views={views} />\r\n        </section>\r\n          {\r\n            path === 'collection' ? (\r\n            <Collection path={path} />\r\n          ) : path === 'store' ? (\r\n              <Store path={path} />\r\n          ) : path === 'add-card' ? (\r\n                <SearchApi path={path} />\r\n          ) : (\r\n                  <AuthLanding />\r\n          )\r\n      } \r\n    </>\r\n  )\r\n}\r\n\r\nexport default AuthPage;\r\n",
    "const capitalizeWord = (word) => {\r\n    return `${word.charAt(0).toUpperCase()}${word.substring(1)}`;\r\n}\r\n\r\nexport default capitalizeWord;",
    "import capitalizeWord from '../../../../utilities/capitalizeWord'\r\n// Sets and return error message object \r\nconst authErrorHandler = (values, inputs) => {\r\n    const handles = Object.keys(values);\r\n    let errors = {}\r\n    handles.forEach((handle) => {\r\n        // Empty input: required input\r\n        if (!values[handle]) {\r\n            errors = {\r\n                ...errors,\r\n                [handle]:\r\n                    (handle === 'confirmPassword') ?\r\n                        `${capitalizeWord('password')} is required` :\r\n                        `${capitalizeWord(handle)} is required`\r\n            }\r\n            inputs[handle].blur()\r\n        }\r\n        // Requirements unfullfiled: invalid input \r\n        else if (inputs[handle].validity.patternMismatch) {\r\n            errors = {\r\n                ...errors,\r\n                [handle]:\r\n                    (handle === 'confirmPassword') ?\r\n                        'Password doesn\\'t match' :\r\n                        `Invalid ${capitalizeWord(handle)}`\r\n            }\r\n            inputs[handle].blur()\r\n        }\r\n        // Invalid credentials\r\n        else if (!inputs[handle].checkValidity()) {\r\n            errors = {\r\n                ...errors,\r\n                [handle]: `Invalid ${capitalizeWord(handle)}`\r\n            }\r\n        }\r\n    })\r\n    return errors\r\n}\r\n\r\n\r\nexport default authErrorHandler",
    "import React, { useState, useRef, useEffect } from 'react';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport Loading from '../../layout/Loading';\r\nimport errorHandler from './helpers/authErrorHandler';\r\nimport useAuth from '../../../hooks/useAuth';\r\nimport { api } from '../../../api/resources';\r\nconst INIT = {\r\n  email: '',\r\n  password: '',\r\n}\r\n\r\nconst Login = () => {\r\n\r\n  // States\r\n  const [values, setValues] = useState(INIT);\r\n  const [errors, setErrors] = useState(INIT);\r\n  const [loading, setLoading] = useState(false);\r\n  const [isValidForm, setIsValidForm] = useState(false);\r\n  const [isSubmit, setIsSubmit] = useState(false);\r\n  const [message, setMessage] = useState(null);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  // Routing\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  // Refs\r\n  const emailRef = useRef(null);\r\n  const passwordRef = useRef(null);\r\n\r\n  // Custom Hooks\r\n  const { setAuth } = useAuth();\r\n\r\n  const inputs = {\r\n    email: emailRef.current,\r\n    password: passwordRef.current\r\n  }\r\n\r\n\r\n  /**********************\r\n  ***** useEffects  *****\r\n  ***********************/\r\n\r\n  // On component load\r\n  useEffect(() => { \r\n    if (location.state) {\r\n      if (location.state.message) {\r\n        setMessage({ ...location.state.message });\r\n      }\r\n    }\r\n    // Set focus on email input\r\n    emailRef?.current.focus();\r\n  }, []);\r\n\r\n  // Error handler \r\n  useEffect(() => {\r\n    if (Object.keys(errors).length === 0 && isSubmit) {\r\n      // Trigger Form request handler\r\n      setIsValidForm(true)\r\n    } else {\r\n      setIsSubmit(false)\r\n    }\r\n  }, [errors])\r\n\r\n  // Show/hide password\r\n  useEffect(() => {\r\n    document.querySelector('#password').type = showPassword ? 'text' : 'password'\r\n  }, [showPassword])\r\n\r\n  // Form request handler \r\n  useEffect(() => {\r\n    if (isValidForm) {\r\n      setLoading(true);\r\n\r\n      const userInput = {\r\n        email: values.email.toLowerCase().trim(),\r\n        password: values.password\r\n      }\r\n\r\n      const options = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(userInput),\r\n      };\r\n      try {\r\n        fetch(`${api.serverURL}/api/users/login`, options)\r\n          .then((res) => {\r\n            if (res.ok) {\r\n              return res.json()\r\n            }\r\n            return res.json().then((data) => {\r\n              throw new Error(JSON.stringify(data))\r\n            })\r\n          })\r\n          .then((data) => {\r\n            localStorage.setItem('token', JSON.stringify(data.token));\r\n            localStorage.setItem('user', JSON.stringify(data.payload.user));\r\n            setAuth({ ...data.payload.user, token: data.token });\r\n            setLoading(false)\r\n            // console.log(location?.state)\r\n            const destination = location.state?.from ? location.state.from.pathname : 'me/pathname';\r\n            navigate(destination, { replace: true });\r\n          })\r\n          .catch((error) => {\r\n            console.log(error)\r\n            const errorMessage = error && JSON.parse(error.message)\r\n            setMessage({ ...errorMessage });\r\n            inputs.email.setCustomValidity('invalid')\r\n            inputs.password.setCustomValidity('invalid')\r\n            setErrors(errorHandler(values, inputs))\r\n            setValues({ ...values, email: \"\", password: \"\" })\r\n            // setLoading(false);\r\n            setIsValidForm(false);\r\n          });\r\n      } catch (error) {\r\n        const errorMessage = JSON.parse(error.message)\r\n        setMessage({ ...errorMessage });\r\n        setLoading(false);\r\n        setIsValidForm(false);\r\n      }\r\n    }\r\n  }, [isValidForm]);\r\n\r\n  /**********************\r\n   *** Event handlers ***\r\n  **********************/\r\n\r\n  // Change handler\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value })\r\n  }\r\n\r\n  // Focus handler\r\n  const handleFocus = (e) => {\r\n    // Remove submit error prop if present\r\n    if (errors[e.target.name]) {\r\n      const cloneErrors = { ...errors }\r\n      delete cloneErrors[e.target.name]\r\n      setErrors(cloneErrors)\r\n    }\r\n  }\r\n\r\n  const handleBlur = (e) => {\r\n  }\r\n\r\n  // Submit handler\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const inputErrors = errorHandler(values, inputs);\r\n    setIsSubmit(true);\r\n    setErrors(inputErrors);\r\n  }\r\n\r\n  // Show passsword button handler\r\n  const handleMouseDown = (e) => {\r\n    // Prevents firing form\r\n    e.preventDefault();\r\n    !showPassword ? setShowPassword(true) : setShowPassword(false);\r\n  }\r\n\r\n  return (\r\n\r\n    <>\r\n      {\r\n        loading ?\r\n          (\r\n            <Loading />\r\n          ) : (\r\n\r\n            <div className=\"form-content\">\r\n            <div className=\"form-logo\">\r\n              <Link to=\"/\"><h1>Magic Find</h1></Link>\r\n            </div>\r\n\r\n              {message ? (\r\n                <div className={message.type === 'error' ? 'show-error-message' : message.type === 'success' ? 'show-success-message' : 'hide'}>\r\n\r\n                  <h4 className=\"auth-message-title\">{message.name ? <>{message.title} <strong>{message.name}</strong>!</> : message.title}</h4>\r\n\r\n                  <p className=\"auth-message-body\">{message.body}</p>\r\n                </div>\r\n              ) : (\r\n                  <div className=\"form-title\">\r\n                <h2>Log in to your account</h2>\r\n            </div>\r\n              )\r\n              } \r\n              <form className=\"auth-form\" id=\"signin-form\" name=\"signin-form\" onSubmit={handleSubmit} noValidate>\r\n              <div className=\"form-element\">\r\n                  <label htmlFor=\"email\" className={errors.email && 'color-danger'}>{errors.email ? errors.email : 'Email'}</label>\r\n                  <input\r\n                    className={errors.email && 'border-danger danger-padding'}\r\n                    id=\"email\"\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    value={values.email}\r\n                    onChange={handleChange}\r\n                    onFocus={handleFocus}\r\n                    onBlur={handleBlur}\r\n                    pattern=\"[a-zA-Z0-9._%+\\-]{3,}@[a-zA-Z0-9.\\-]+\\.[a-zA-Z]{2,}\"\r\n                    placeholder=\"Email\"\r\n                    ref={emailRef}\r\n                  />\r\n              </div>\r\n              <div className=\"form-element\">\r\n                  <label htmlFor=\"password\" className={errors.password && 'color-danger'}>{errors.password ? errors.password : 'Password'}</label>\r\n                  <div className={`login-password-wrapper center content-height flex ${errors.password && 'border-danger'}`}>\r\n                  <input\r\n                      id=\"password\"\r\n                      type=\"password\"\r\n                      name=\"password\"\r\n                      value={values.password}\r\n                      onChange={handleChange}\r\n                      onFocus={handleFocus}\r\n                      onBlur={handleBlur}\r\n                      pattern=\"^(?!Enter Code$).*\"\r\n                      placeholder='Password'\r\n                      ref={passwordRef}\r\n                  />\r\n                  <button className=\"password-btn flex align-center justify-center\" type=\"button\" onMouseDown={handleMouseDown}>\r\n                    <i className={!showPassword ? \"fa-solid fa-eye\" : \"fa-solid fa-eye-slash\"}></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div className=\"form-element flex margin-block-start-2\">\r\n                <Link className=\"link\" to=\"/reset-password\">Forgot password?</Link>\r\n              </div>\r\n                <div className=\"form-element form-submit\">\r\n                <Link className=\"link\" to=\"/signup\">Create account</Link>\r\n                  <button className=\"login-btn form-btn\" type=\"submit\">Login</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n          )\r\n\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nexport default Login;\r\n",
    "import React from 'react'\r\n\r\nconst RequirementMessage = ({ requirement }) => {\r\n    return (\r\n        <p><i className={`${!requirement.fullfiled ? 'fa-regular fa-circle-xmark color-danger' : 'fa-solid fa-check color-success'} margin-inline-end-1`}></i>{requirement.text}</p>\r\n    )\r\n}\r\n\r\nexport default RequirementMessage\r\n",
    "import React from 'react'\r\nimport RequirementMessage from './RequirementMessage'\r\n\r\nconst Requirements = ({ inputState }) => {\r\n\r\n    return (\r\n        <div className=\"requirements-container\">\r\n            <div className=\"requirements-wrapper\">\r\n                <div className=\"requirements-message\">\r\n                    {\r\n                        inputState &&\r\n                        inputState.map((requirement, index) => {\r\n                            return <RequirementMessage key={index} requirement={requirement} />\r\n                        })\r\n                    }\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Requirements\r\n",
    "import React, { forwardRef } from 'react';\r\nimport Requirements from './Requirements';\r\n\r\nconst FormInput = forwardRef((props, ref) => {\r\n    const { id, name, inputState, onChange, onFocus, errors, onBlur, label, ...inputProps } = props;\r\n    const inputRef = ref;\r\n    return (\r\n        <div className=\"form-element\">\r\n            {\r\n                !errors[name] ? (\r\n                    <label htmlFor={id} >{label}</label>\r\n                ) : (\r\n                        <label className=\"color-danger\" htmlFor={id} >{errors[name]}</label>\r\n                )\r\n            }\r\n            <input\r\n                className={errors[name] && 'border-danger danger-padding'}\r\n                id={id}\r\n                name={name}\r\n                {...inputProps}\r\n                onChange={onChange}\r\n                onFocus={onFocus}\r\n                onBlur={onBlur}\r\n                ref={inputRef}\r\n            />\r\n            {\r\n                <Requirements inputState={inputState} />\r\n            }\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default FormInput;\r\n",
    "const ACTIONS = {\r\n    INPUT_CHANGE: 'change',\r\n    INPUT_FOCUS: 'focus',\r\n    INPUT_BLUR: 'blur',\r\n    INPUT_SUBMIT: 'submit'\r\n}\r\n\r\nexport default ACTIONS;",
    "import ACTIONS from './ACTIONS';\r\n\r\nconst inputReducer = (inputStates, action) => {\r\n\r\n  switch (action.type) {\r\n    case ACTIONS.INPUT_CHANGE:\r\n      changeHandler(action.payload)\r\n      break;\r\n    case ACTIONS.INPUT_FOCUS:\r\n      focusHandler(action.payload)\r\n      break;\r\n    case ACTIONS.INPUT_BLUR:\r\n      blurHandler(action.payload)\r\n      break;\r\n    default:\r\n      throw new Error(`Unknown action type: ${action.type}`);\r\n  }\r\n\r\n  return inputStates\r\n\r\n  function changeHandler(payload) {\r\n    const values = payload.values\r\n    const requirements = payload.requirements\r\n    const handle = payload.name\r\n    let updatedRequirements = []\r\n\r\n    if (handle === 'password') {\r\n      // Update confirm password state\r\n      if (values.confirmPassword) {\r\n        updatedRequirements = updateRequirements(requirements.confirmPassword, values.password, true)\r\n        inputStates = { ...inputStates, confirmPassword: updatedRequirements }\r\n      }\r\n      // Update password state\r\n      updatedRequirements = updateRequirements(requirements.password, values.password)\r\n      inputStates = { ...inputStates, [handle]: updatedRequirements }\r\n    }\r\n    // Change in confirm password\r\n    else if (handle === 'confirmPassword') {\r\n\r\n      updatedRequirements = updateRequirements(requirements.input, values.input, true)\r\n      inputStates = { ...inputStates, confirmPassword: updatedRequirements }\r\n    }\r\n    else {\r\n      // Change in other inputs\r\n      updatedRequirements = updateRequirements(requirements.input, values.input)\r\n      inputStates = { ...inputStates, [handle]: updatedRequirements }\r\n    }\r\n  }\r\n\r\n  function focusHandler(payload) {\r\n    const isConfirmPassword = payload.name === 'confirmPassword' ? true : false\r\n    const requirements = updateRequirements(payload.requirements, payload.value, isConfirmPassword)\r\n    inputStates = { ...inputStates, [payload.name]: requirements }\r\n  }\r\n\r\n  function blurHandler(payload) {\r\n  }\r\n\r\n  function updateRequirements(requirements, value, isConfirmPassword = false) {\r\n      return requirements.map((requirement) => {\r\n        const pattern = !isConfirmPassword ? requirement.pattern : new RegExp(requirement.pattern)\r\n        requirement = { ...requirement, fullfiled: pattern.test(value) ? true : false }\r\n        return requirement\r\n      })\r\n  }\r\n}\r\n\r\nexport default inputReducer;",
    "import React, { useRef, useState, useEffect, useReducer } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport Loading from '../../layout/Loading';\r\nimport FormInput from './FormInput';\r\nimport reducer from './reducer/inputReducer';\r\nimport errorHandler from './helpers/authErrorHandler';\r\nimport { api } from '../../../api/resources';\r\nconst INIT = {\r\n  username: '',\r\n  email: '',\r\n  country: '',\r\n  password: '',\r\n  confirmPassword: ''\r\n}\r\n\r\nconst Signup = () => {\r\n\r\n  const [values, setValues] = useState(INIT);\r\n  const [errors, setErrors] = useState(INIT);\r\n  const [loading, setLoading] = useState(false);\r\n  const [isValidForm, setIsValidForm] = useState(false);\r\n  const [isSubmit, setIsSubmit] = useState(false)\r\n  // On submit error object for empty or invalid inputs\r\n  // Sever side error message if username or email already taken\r\n  const [message, setMessage] = useState('');\r\n\r\n  // Input refs \r\n  const usernameRef = useRef(null);\r\n  const emailRef = useRef(null);\r\n  const countryRef = useRef(null);\r\n  const passwordRef = useRef(null);\r\n  const confirmPasswordRef = useRef(null);\r\n\r\n  const refs = {\r\n    username: usernameRef.current,\r\n    email: emailRef.current,\r\n    country: countryRef.current,\r\n    password: passwordRef.current,\r\n    confirmPassword: confirmPasswordRef.current\r\n  }\r\n\r\n  // Input attribute/value pair with requirements array of object\r\n  const inputs = [\r\n    {\r\n      name: 'username',\r\n      type: 'text',\r\n      value: values.username,\r\n      placeholder: 'Username',\r\n      label: 'Username',\r\n      ref: usernameRef,\r\n      pattern: '(?=.*[a-z])[a-z0-9]{3,12}',\r\n      requirements: [\r\n        { text: 'Must begin with a letter', pattern: /^[a-z]+.*$/, fullfiled: false },\r\n        { text: 'Lowercase letters & numbers', pattern: /^(?=.*[a-z])[a-z0-9]{2,}$/, fullfiled: false },\r\n        { text: '3 to 12 characters', pattern: /^.{3,12}$/, fullfiled: false },\r\n      ]\r\n    },\r\n    {\r\n      name: 'email',\r\n      type: 'email',\r\n      value: values.email,\r\n      placeholder: 'Email',\r\n      label: 'Email',\r\n      ref: emailRef,\r\n      pattern: '[a-zA-Z0-9._%+\\\\-]{3,}@[a-zA-Z0-9.\\\\-]+\\\\.[a-zA-Z]{2,}',\r\n      requirements: [\r\n        { text: 'Enter a valid email address', pattern: /^[a-zA-Z0-9._%+\\-]{3,}@[a-zA-Z0-9.\\-]+\\.[a-zA-Z]{2,}$/, fullfiled: false }\r\n      ]\r\n    },\r\n    {\r\n      name: 'country',\r\n      type: 'text',\r\n      value: values.country,\r\n      placeholder: 'Country',\r\n      label: 'Country',\r\n      ref: countryRef,\r\n      pattern: '[a-zA-Z]{3,}',\r\n      requirements: [\r\n        { text: 'The country you currently live in', pattern: /^[a-zA-Z]{3,40}$/, fullfiled: false }\r\n      ]\r\n    },\r\n    {\r\n      name: 'password',\r\n      type: 'password',\r\n      value: values.password,\r\n      placeholder: 'Password',\r\n      label: 'Password',\r\n      ref: passwordRef,\r\n      pattern: '^(?=[a-zA-Z])(?=.*\\\\d)(?=.*[!@#$%^&*])(?=.*[A-Z])(?=.*[a-z])[a-zA-Z0-9!@#$%^&*]{8,16}$',\r\n      requirements: [\r\n        { text: 'Must begin with a letter', pattern: /^[a-zA-Z]+/, fullfiled: false },\r\n        { text: 'One lowercase letter', pattern: /^(?=.*[a-zA-Z]).*[a-z].*$/, fullfiled: false },\r\n        { text: 'One uppercase letter', pattern: /^(?=.*[a-zA-Z]).*[A-Z].*$/, fullfiled: false },\r\n        { text: 'One number', pattern: /^.+(?=.*[0-9]).*$/, fullfiled: false },\r\n        { text: 'One special character: !@#$%^&*', pattern: /^.+(?=.*[!@#$%^&*]).*$/, fullfiled: false },\r\n        { text: '8 to 16 characters long', pattern: /^.{8,16}$/, fullfiled: false },\r\n        { text: 'Valid character', pattern: /^[a-zA-Z]+[a-zA-Z0-9!@#$%^&*]*$/, fullfiled: false },\r\n      ]\r\n    },\r\n    {\r\n      name: 'confirmPassword',\r\n      type: 'password',\r\n      value: values.confirmPassword,\r\n      placeholder: 'Confirm Password',\r\n      label: 'Confirm Password',\r\n      ref: confirmPasswordRef,\r\n      pattern: values.password,\r\n      requirements: [\r\n        {\r\n          text: 'Passwords must match',\r\n          pattern: `^${values.password}$`,\r\n          fullfiled: false\r\n        }\r\n      ]\r\n    }\r\n  ];\r\n\r\n  // Set useReducer hook\r\n  const [inputStates, dispatch] = useReducer(\r\n    reducer,\r\n    (function () {\r\n      let state = {}\r\n      for (const prop in INIT) {\r\n        state = { ...state, [prop]: [] }\r\n      }\r\n      return state\r\n    })(INIT)\r\n  )\r\n\r\n  const navigate = useNavigate();\r\n\r\n  /**********************\r\n  ***** useEffects  *****\r\n  ***********************/\r\n\r\n  // Error handler\r\n  useEffect(() => {\r\n    if (Object.keys(errors).length === 0 && isSubmit) {\r\n      // Triggers Form request handler\r\n      setIsValidForm(true)\r\n    } else {\r\n      setIsSubmit(false)\r\n    }\r\n  }, [errors])\r\n\r\n  // Form request handler \r\n  useEffect(() => {\r\n    if (isValidForm) {\r\n      setLoading(true);\r\n\r\n      const inputValues = {\r\n        name: values.username.trim(),\r\n        email: values.email.trim(),\r\n        country: values.country.trim(),\r\n        password: values.password,\r\n        confirmPassword: values.confirmPassword\r\n      }\r\n\r\n      const options = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(inputValues)\r\n      }\r\n\r\n      try {\r\n        fetch(`${api.serverURL}/api/users/signup`, options)\r\n          .then((res) => {\r\n            if (res.ok) {\r\n              return res.json()\r\n            }\r\n            return res.json().then((data) => {\r\n              setLoading(false)\r\n              throw new Error(JSON.stringify(data))\r\n            })\r\n          })\r\n          .then(data => {\r\n            navigate('/login', { state: { message: data.message } }, { replace: true });\r\n          })\r\n          .catch(error => {\r\n            setMessage(error.message)\r\n            setIsValidForm(false)\r\n            setLoading(false);\r\n          })\r\n      } catch (error) {\r\n        setLoading(false);\r\n        setMessage(error.message);\r\n        setIsValidForm(false)\r\n      }\r\n    }\r\n  }, [isValidForm]);\r\n\r\n\r\n  /**********************\r\n   *** Event handlers ***\r\n   **********************/\r\n\r\n  // Change handler\r\n  const handleChange = (e) => {\r\n    // Set input state values\r\n    setValues({ ...values, [e.target.name]: e.target.value })\r\n\r\n    // Set input validity prop value to valid\r\n    if (!e.target.checkValidity()) {\r\n      e.target.setCustomValidity('')\r\n    }\r\n    // Set input validity prop value to invalid\r\n    if (e.target.checkValidity() && !e.target.value) {\r\n      e.target.setCustomValidity('invalid')\r\n    }\r\n\r\n    if (!e.target.value) {\r\n      e.target.setCustomValidity('')\r\n    }\r\n\r\n    // Generate dispatch payload object\r\n    const payload = e.target.name !== 'password' ?\r\n      {\r\n        name: e.target.name,\r\n        values: { input: e.target.value },\r\n        requirements: { input: inputs[e.target.id].requirements }\r\n      } : {\r\n        name: e.target.name,\r\n        values: {\r\n          password: e.target.value,\r\n          confirmPassword: refs.confirmPassword.value,\r\n        },\r\n        requirements: {\r\n          password: inputs[e.target.id].requirements,\r\n          confirmPassword: inputs[inputs.length - 1].requirements\r\n        },\r\n      }\r\n    // Call dispatch reducer function\r\n    dispatch({\r\n      type: e.type,\r\n      payload: { ...payload }\r\n    })\r\n  }\r\n\r\n  // Focus handler\r\n  const handleFocus = (e) => {\r\n    // Remove input error if any\r\n    if (errors[e.target.name]) {\r\n      const cloneErrors = { ...errors }\r\n      delete cloneErrors[e.target.name]\r\n      setErrors(cloneErrors)\r\n    }\r\n\r\n    // Set input validity to display requirements message \r\n    if (!e.target.value) {\r\n      e.target.setCustomValidity('invalid')\r\n    }\r\n\r\n    // Call dispatch reducer function\r\n    dispatch({\r\n      type: e.type,\r\n      payload: {\r\n        name: e.target.name,\r\n        value: e.target.value,\r\n        requirements: inputs[e.target.id].requirements,\r\n      }\r\n    })\r\n  }\r\n\r\n  // Blur handler\r\n  const handleBlur = (e) => {\r\n    // Set input validity to hide requirements message\r\n    !e.target.value && e.target.setCustomValidity('')\r\n  }\r\n\r\n  // Submit handler\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const inputErrors = errorHandler(values, refs);\r\n    setIsSubmit(true);\r\n    setErrors(inputErrors);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {loading ?\r\n        (\r\n          <Loading />\r\n        ) : (\r\n          <div className=\"form-content\">\r\n            <div className=\"form-logo\">\r\n              <Link to=\"/\"><h1>Magic Find</h1></Link>\r\n            </div>\r\n            <div className=\"form-title\">\r\n              <h2>Create your account</h2>\r\n            </div>\r\n            <div className={message ? 'show-error-message' : 'hide'}>\r\n              <p>{message.replace(/['\"]+/g, '')}</p>\r\n            </div>\r\n            <form className=\"auth-form\" id=\"singup-form\" name=\"singup-form\" onSubmit={handleSubmit} noValidate>\r\n              {\r\n                // Map inputs array\r\n                inputs.map((input, index) => {\r\n                  return <FormInput\r\n                    key={index}\r\n                    id={index}\r\n                    {...input}\r\n                    inputState={inputStates[input.name]}\r\n                    onChange={handleChange}\r\n                    onFocus={handleFocus}\r\n                    onBlur={handleBlur}\r\n                    errors={errors}\r\n                    ref={input.ref} />\r\n                })\r\n              }\r\n              <div className=\"form-element form-submit\">\r\n                <Link className=\"link\" to=\"/login\">Already a member?</Link>\r\n                <button className=\"form-btn\" type=\"submit\">Submit</button>\r\n              </div>\r\n            </form>\r\n          </div >\r\n        )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n",
    "import React from 'react';\r\n\r\nconst Settings = () => {\r\n  return (\r\n    <div className=\"content\">\r\n      <header className=\"header\">\r\n\r\n        <h2 className=\"title\">Settings</h2>\r\n      </header>\r\n      <main className=\"main\">\r\n\r\n      </main>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Settings;\r\n",
    "import React from 'react'\r\n\r\nconst ResetPassword = () => {\r\n    return (\r\n        <div className=\"content\">\r\n            <header className=\"header\">\r\n\r\n                <h2 className=\"title\">Reset Password</h2>\r\n            </header>\r\n            <main className=\"main\">\r\n\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ResetPassword\r\n",
    "import { Link } from 'react-router-dom';\r\n\r\nconst Home = () => {\r\n  return (\r\n    <>\r\n      <section className=\"banner home-page-banner\"></section>\r\n      <div className=\"content home-page\">\r\n        <header className=\"header\">\r\n          <h2 className=\"title\">Welcome to Magic Find</h2>\r\n        </header>\r\n        <main className=\"main\">\r\n        <div className=\"article\">\r\n          <h2 className=\"article-title\">What it is</h2>\r\n          <div className=\"article-body\">\r\n            <p>\r\n              Magic Find is an interactive environment where you can buy and sell\r\n              Magic the Gathering cards directly from and to other members of the Magic Find community\r\n              from around the world.\r\n            </p>\r\n            <br />\r\n            <p>\r\n              The goal of Magic Find is to give you the opportunity to sell your\r\n              cards without having to settle for a third party purchase price list.\r\n              In other words, you get to fix the price for the\r\n              cards you sell. The same is true for the cards you buy.\r\n            </p>\r\n            <br />\r\n            <p>\r\n              Magic Find's philosophy revolves around the belief that by cutting\r\n              through intermediaries, you get to pay less for the cards you buy, and\r\n              you get more dollars for the ones you sell. \r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"article\">\r\n          <h2 className=\"article-title center\">How it works</h2>\r\n          <div className=\"article-body\">\r\n            <p>\r\n              First of all, you need to <Link to={'/register'} >create your account</Link> and sign into it.\r\n              At that point, you will be redirected to your own personnal virtual store.\r\n            </p>\r\n            <br />\r\n            <p>\r\n              This is where you can add the cards you wish to sell, any card from the 10 000 + Magic the Gathering catalog.\r\n              All you have to do is enter the name of the card in the search field and Magic Find will\r\n              retrieve all the existing versions of that card.\r\n              The search field has an auto complete feature. If you only remember part of a name's card, Magic Find\r\n              will suggest possible results that you can choose from.\r\n              You can also update the information in your store.\r\n            </p>\r\n            <br />\r\n            <p>\r\n              As a member, you get the possibility to buy cards from other members of the community.\r\n              Your Magic Find account also gives you access to an internal mail service with your own personal inbox.\r\n              The Magic Find catalog is accessible anytime to anyone. But only members can buy, sell\r\n              and communicate with other members. \r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"article\">\r\n          <h2 className=\"article-title center\">Parts & Labour</h2>\r\n          <div className=\"article-body\">\r\n            <p>\r\n              Magic Find is a <strong>REST api</strong> with complete <strong>CRUD</strong> operations.\r\n              This gives members the power to add, update or delete the content of their virtual store.\r\n              The same is true for their mailbox.\r\n            </p>\r\n            <br />\r\n            <p>\r\n              The Front End is built with <strong>React</strong>. It uses hooks and contexts to maintain\r\n              and manage components state. All features are fully <strong>responsive</strong>.\r\n            </p>\r\n            <br />\r\n            <p>\r\n              The Back End is built with <strong><a href=\"https://expressjs.com/\" target=\"_blank\" title=\"Express website\">Express</a></strong>. Requests are made to a no SQL <strong>mongoDB Atlas</strong> data base.\r\n              Populating a store is made through a series of requests to the <a href=\"https://scryfall.com/docs/api\" target=\"_blank\" title=\"scryfall api docs\"><strong>scryfall api</strong></a>.\r\n            </p>\r\n          </div>\r\n          </div>\r\n        </main>\r\n      </div >\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n",
    "import React from 'react';\r\n\r\nconst Contact = () => {\r\n  return (\r\n    <div className=\"content\">\r\n      <header className=\"header\">\r\n\r\n        <h2 className=\"title\">Contact</h2>\r\n      </header>\r\n      <main className=\"main\">\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Contact;\r\n",
    "import React from 'react';\r\n\r\nconst About = () => {\r\n  return (\r\n    <div className=\"content\">\r\n      <header className=\"header\">\r\n\r\n        <h2 className=\"title\">About</h2>\r\n      </header>\r\n      <main className=\"main\">\r\n\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default About;\r\n",
    "import useAuth from '../../hooks/useAuth';\r\n\r\nconst Profile = () => {\r\n  const { auth } = useAuth();\r\n\r\n  return (\r\n    <div className=\"content\">\r\n      <header className=\"header\">\r\n\r\n        <h2 className=\"title\">Profile</h2>\r\n      </header>\r\n      <main className=\"main\">\r\n        <p>Name: {auth.name}</p>\r\n        <p>Country: {auth.country}</p>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n",
    "import { useState, useEffect } from 'react';\r\n\r\nconst CardImage = ({ attributes }) => {\r\n    const { id, style, src, alt, placeholder } = attributes;\r\n\r\n    const [hasLoaded, setHasLoaded] = useState(false);\r\n    useEffect(() => {\r\n        const img = new Image();\r\n        img.src = src;\r\n        img.onload = () => {\r\n            setHasLoaded(true);\r\n        }\r\n    }, [src])\r\n\r\n    return (\r\n        <div className=\"blur-load\">\r\n            {\r\n                !hasLoaded ? (\r\n                    <img id={id} className={style} src={placeholder} alt={alt} />\r\n                ) : (\r\n\r\n                        <img id={id} className={style} src={src} alt={alt} loading=\"lazy\" />\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CardImage;\r\n",
    "import { FaExpand } from \"react-icons/fa\";\r\n// import { LuExpand } from \"react-icons/lu\";\r\n\r\nconst ExpandIcon = () => {\r\n    return (\r\n        <button className=\"card-icon-container expand-icon-btn\" type=\"button\">\r\n            <FaExpand />\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default ExpandIcon\r\n",
    "import CardImage from './CardImage';\r\nimport ExpandIcon from './ExpandIcon';\r\n\r\nconst CardImageSection = (props) => {\r\n  return (\r\n    <section className=\"card-section\">\r\n      <CardImage {...props} />\r\n      <ExpandIcon />\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default CardImageSection;\r\n",
    "import Loading from '../../layout/Loading';\r\nimport capitalizeWord from '../../../utilities/capitalizeWord';\r\n\r\nconst ApiCardDetail = ({ card, loading }) => {\r\n\r\n    return (\r\n        <>\r\n            {\r\n                loading ?\r\n                    (\r\n                        <Loading />\r\n                    ) : (\r\n                        <>\r\n                            <div className=\"card-info\">\r\n                                <div className=\"card-spec\">\r\n                                    <p><span className=\"card-spec-title\">Set:</span> <span className=\"card-spec-value\">{card.set_name}</span></p>\r\n                                </div>\r\n                                <div className=\"card-spec\">\r\n                                    <p><span className=\"card-spec-title\">Year:</span>  <span className=\"card-spec-value\">{card.released_at.split('-')[0]}</span></p>\r\n                                </div>\r\n                                <div className=\"card-spec\">\r\n                                    <p><span className=\"card-spec-title\">Rarity:</span>  <span className=\"card-spec-value\">{capitalizeWord(card.rarity)}</span></p>\r\n                                </div>\r\n                                {\r\n                                    card.finishes[0] !== 'nonfoil' &&\r\n                                    <div className=\"card-spec\">\r\n                                        <p><span className=\"card-spec-title\">Finish:</span>  <span className={`${card.finishes[0].toLowerCase() === 'foil' ? 'foil-finish' : ''} card-spec-value`}>{capitalizeWord(card.finishes[0])}</span></p>\r\n                                    </div>\r\n                                }\r\n                                <div className=\"card-spec\">\r\n                                    <p><span className=\"card-spec-title\">Frame:</span>  <span className=\"card-spec-value\">{card.frame}</span></p>\r\n                                </div>\r\n                                <div className=\"card-spec\">\r\n                                    <p><span className=\"card-spec-title\">Collector #:</span>  <span className=\"card-spec-value\">{card.collector_number}</span></p>\r\n                                </div>\r\n                                <div className=\"card-spec\">\r\n                                    <p><span className=\"card-spec-title\">Artist:</span>  <span className=\"card-spec-value\">{card.artist.split(',')[0]}</span></p>\r\n                                </div>\r\n                            </div>\r\n                        </>\r\n                    )\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ApiCardDetail\r\n",
    "import { Link } from 'react-router-dom';\r\nimport Loading from '../../layout/Loading';\r\nimport useAuth from '../../../hooks/useAuth';\r\nimport styled from 'styled-components';\r\n\r\nconst CatalogCardDetail = ({ card, loading }) => {\r\n    const { auth } = useAuth();\r\n\r\n    return (\r\n        <>\r\n            {\r\n                loading ?\r\n                    (\r\n                        <Loading />\r\n                    ) : (\r\n                        <>\r\n                            <div className=\"card-info\">\r\n                                <div className=\"card-spec\">\r\n                                    <p><span className=\"card-spec-title\">Seller:</span>  <span className=\"card-spec-value\">{card.userName}</span></p>\r\n                                </div>\r\n                                <div className=\"card-spec\">\r\n                                    <p><span className=\"card-spec-title\">Condition:</span> <span className=\"card-spec-value\">{card.condition.toUpperCase()}</span></p>\r\n                                </div>\r\n                                <div className=\"card-spec\">\r\n                                    <p><span className=\"card-spec-title\">Ships From:</span>  <span className=\"card-spec-value\">{card.userCountry}</span></p>\r\n                                </div>\r\n                                <div className=\"card-spec\">\r\n                                    {/* <p>Price:  <span>{parseFloat(card.price)}</span></p> */}\r\n                                    <p><span className=\"card-spec-title\">Price:</span>  <span className=\"card-spec-value\">{card.price}</span></p>\r\n                                </div>\r\n                                {card.quantity > 0 &&\r\n                                    <div className=\"card-spec\">\r\n                                        <p><span className=\"card-spec-title\">Quantity:</span>  <span className=\"card-spec-value\">{card.quantity}</span></p>\r\n                                    </div>\r\n                                }\r\n                                {auth && (\r\n                                    <div className=\"contact-user\">\r\n                                        <Contact\r\n                                            to={{\r\n                                                pathname: '/mail/message',\r\n                                                state: { sender: card.userName, subject: card.name },\r\n                                            }}\r\n                                        >\r\n                                            Contact Seller\r\n                                        </Contact>\r\n                                    </div>\r\n                                )}\r\n\r\n\r\n                            </div>\r\n                        </>\r\n                    )\r\n            }\r\n\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nconst Contact = styled(Link)`\r\n    display: block;\r\n    text-align: center;\r\n    margin-inline-end: 1rem;\r\n    padding-block: 0.5em;\r\n    margin-top: 0.5em;\r\n    font-size: var(--fs-125);\r\n    color: var(--clr-primary);\r\n    border: 1px solid #e4e4e4;\r\n    border-radius: 5px;\r\n  `;\r\n\r\n\r\nexport default CatalogCardDetail\r\n",
    "import capitalizeWord from '../../../utilities/capitalizeWord';\r\nconst CollectionDetails = ({ card }) => {\r\n\r\n    return (\r\n        <>\r\n            <div className=\"card-info\">\r\n                <div className=\"card-spec\">\r\n                    <p><span className=\"card-spec-title\">Set:</span> <span className=\"card-spec-value\">{card.set_name}</span></p>\r\n                </div>\r\n                <div className=\"card-spec\">\r\n                    <p><span className=\"card-spec-title\">Year: </span> <span className=\"card-spec-value\">{card.released_at?.split('-')[0]}</span></p>\r\n                </div>\r\n                <div className=\"card-spec\">\r\n                    <p><span className=\"card-spec-title\">Rarity:</span>  <span className=\"card-spec-value\">{capitalizeWord(card.rarity)}</span></p>\r\n                </div>\r\n                {\r\n                    card.finishes[0] !== 'nonfoil' &&\r\n                    <div className=\"card-spec\">\r\n                        <p><span className=\"card-spec-title\">Finish:</span>  <span className={`${card.finishes[0].toLowerCase() === 'foil' ? 'foil-finish' : ''} card-spec-value`}>{capitalizeWord(card.finishes[0])}</span></p>\r\n                    </div>\r\n                }\r\n                <div className=\"card-spec\">\r\n                    <p><span className=\"card-spec-title\">Frame:</span>  <span className=\"card-spec-value\">{card.frame}</span></p>\r\n                </div>\r\n                <div className=\"card-collspecector\">\r\n                    <p><span className=\"card-spec-title\">Collector #:</span>  <span className=\"card-spec-value\">{card.collector_number}</span></p>\r\n                </div>\r\n                <div className=\"card-spec\">\r\n                    <p><span className=\"card-spec-title\">Artist:</span>  <span className=\"card-spec-value\">{card.artist.split(',')[0]}</span></p>\r\n                </div>\r\n                <div className=\"card-status\">\r\n                    <p><span className=\"card-spec-title\">Status:</span>  <span className=\"card-spec-value\">{card._is_published ? 'Published' : 'Unpublished'}</span></p>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CollectionDetails;\r\n",
    "import ApiCardDetail from './ApiCardDetail';\r\nimport CatalogCardDetail from './CatalogCardDetail';\r\nimport CollectionDetails from './CollectionDetails';\r\n\r\nconst CardDetailSection = (props) => {\r\n    const { searchType, ...rest } = props;\r\n\r\n    return (\r\n        <section className=\"card-section\">\r\n            {searchType === 'search-catalog' ? (\r\n                <CatalogCardDetail {...rest} />\r\n            ) :\r\n                searchType === 'search-collection' ? (\r\n                    <CollectionDetails {...rest} />\r\n                ) : (\r\n                        <ApiCardDetail {...rest} />\r\n                        )\r\n            }\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default CardDetailSection;\r\n",
    "\r\nconst CatalogCardFooter = () => {\r\n\r\n    return (\r\n        <div className=\"card-btns-wrapper\">\r\n            <div className=\"btn-container\">\r\n                <button id=\"add-to-wishlist\" className=\"btn bg-green color-light\" type=\"button\" >Add to Wishlist</button>\r\n            </div>\r\n            <div className=\"btn-container\">\r\n                <button id=\"add-to-cart\" className=\"btn bg-yellow color-light\" type=\"button\" >Add to Cart</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CatalogCardFooter;\r\n",
    "import { useNavigate } from 'react-router-dom';\r\nimport setQueryString\r\n    from '../../../utilities/setQueryString';\r\nconst CollectionCardFooter = ({ card, handleClick }) => {\r\n// const navigate = useNavigate();\r\n\r\n    // const handleClick = (e) => {\r\n    //     navigate(`/edit-card/${setQueryString(card.name, '-')}`, {\r\n    //         state: {\r\n    //             card: card\r\n    //         }\r\n    //     })\r\n    // }\r\n\r\n    // console.log(card)\r\n    return (\r\n        <div className=\"card-btns-wrapper\">\r\n            <div className=\"btn-container\">\r\n                < button id=\"delete-card\" className=\"btn bg-red color-light\" type=\"button\">\r\n                    Delete\r\n                </button>\r\n            </div>\r\n\r\n                <div className=\"btn-container\">\r\n                <button id=\"edit-card\" className=\"btn bg-blue color-light\" type=\"button\">Edit</button>\r\n                </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CollectionCardFooter\r\n",
    "const Button = ({ attributes, handleClick }) => {\r\n    const { id, style, type, value, status } = attributes;\r\n\r\n    return (\r\n        <button id={id} className={style} type={type} onClick={handleClick} disabled={status}>{value}</button>\r\n    )\r\n}\r\n\r\nexport default Button\r\n",
    "import { useState, useEffect } from 'react'\r\nimport Button from '../../layout/Button';\r\nimport useAuth from '../../../hooks/useAuth';\r\nimport { api } from '../../../api/resources';\r\nconst INIT = {\r\n    style: 'btn bg-blue color-light border-blue',\r\n    type: 'button',\r\n    value: 'Add To Collection',\r\n    statue: false\r\n}\r\nconst ApiCardFooter = ({ card, setLoading }) => {\r\n    const [attributes, setAttributes] = useState(INIT);\r\n    const [selectedCard, setSelectedCard] = useState(null);\r\n\r\n    const { auth } = useAuth();\r\n\r\n    const attributesHandler = (message) => {\r\n        let attr = { type: 'button', value: message.body, style: '' }\r\n        switch (message.title) {\r\n            case 'card_added':\r\n                attr = { ...attr, style: 'btn bg-light color-success border-success disabled' };\r\n                break;\r\n            case 'card_exist':\r\n                attr = { ...attr, style: 'btn bg-light color-primary border-primary disabled' };\r\n                break;\r\n            case 'not_found' || 'server':\r\n                attr = { ...attr, style: 'btn bg-light color-danger border-danger disabled' };\r\n                break;\r\n            default:\r\n                attr = { ...attr, style: 'btn bg-blue color-light border-blue', value: 'Add To Collection', status: true };\r\n                break;\r\n        }\r\n        return attr;\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        if (selectedCard) {\r\n\r\n            setLoading(true)\r\n            const headers = new Headers();\r\n            headers.append('Content-Type', 'application/json');\r\n            headers.append('auth-token', auth.token);\r\n\r\n            const options = {\r\n                method: 'POST',\r\n                headers: headers,\r\n                body: JSON.stringify(selectedCard),\r\n            };\r\n            fetch(`${api.serverURL}/api/cards/add/${auth.id}/${selectedCard.id}`, options)\r\n                .then((res) => {\r\n                    if (res.ok) {\r\n                        return res.json();\r\n                    }\r\n                    return res.json().then((data) => {\r\n                        setLoading(false);\r\n                        throw new Error(JSON.stringify(data))\r\n                    });\r\n                })\r\n                .then((data) => {\r\n                    setAttributes(attributesHandler(data.message));\r\n                    setLoading(false);\r\n                })\r\n                .catch((error) => {\r\n                    const errorMessage = JSON.parse(error.message)\r\n                    setAttributes(attributesHandler(errorMessage));\r\n                    // console.log(error);\r\n                    setLoading(false);\r\n                });\r\n        }\r\n    }, [selectedCard])\r\n\r\n    const handleClick = () => {\r\n        setSelectedCard(card)\r\n    }\r\n    return (\r\n\r\n        <div className=\"card-btns-wrapper\">\r\n            <div className=\"btn-container\">\r\n                {/* <Button attributes={attributes} handleClick={handleClick}  /> */}\r\n                <button id=\"add-to-collection\" className={attributes.style} type={attributes.type} onClick={handleClick}>{attributes.value}</button>\r\n                {/* <button className=\"btn bg-blue color-lg-grey\" type=\"button\" onClick={() => handleClick(card)}>{!isLoaded ? 'Add To Collection' : 'Added'}</button> */}\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default ApiCardFooter\r\n",
    "import { useState, useEffect, createElement, forwardRef } from 'react';\r\nimport CardImageSection from './CardImageSection';\r\nimport CardDetailSection from './CardDetailSection';\r\nimport card_back from '../../../assets/img/card_back.jpg'\r\n// Footers\r\nimport CatalogCardFooter from './CatalogCardFooter';\r\nimport CollectionCardFooter from './CollectionCardFooter';\r\nimport ApiCardFooter from './ApiCardFooter';\r\n\r\n\r\nconst Card = forwardRef(function Card(props, ref) {\r\n    const { card, searchType, handleClick } = props;\r\n    const [loading, setLoading] = useState(false);\r\n    const [ExpandedCard, setExpandedCard] = useState(null);\r\n\r\n    const image_uris = card?.image_uris || card?.card_faces[0].image_uris;\r\n    const imgAttributes = {\r\n        id: 'expand-card',\r\n        style: 'card-image b-radius-10',\r\n        src: image_uris.small,\r\n        alt: `${card.name} image`,\r\n        placeholder: card_back\r\n    }\r\n\r\n    // Create expanded image component\r\n    // card state passed in dependency array\r\n    // to update images from location (navigate) state @ DeletedCard  & SearchComponents\r\n    useEffect(() => {\r\n        // Single faced card\r\n        if (!card.card_faces?.length) {\r\n            setExpandedCard(\r\n                createElement('img', {\r\n                    id: 'reduce-card',\r\n                    className: 'card-image b-radius-20',\r\n                    src: image_uris.normal,\r\n                    alt: `${card.name} image`,\r\n                })\r\n            );\r\n        } else {\r\n            // Double faced card [Transform]\r\n            setExpandedCard(\r\n                card.card_faces.map((card_face) => {\r\n                    return createElement('img', {\r\n                        id: 'reduce-card',\r\n                        className: 'card-image b-radius-20',\r\n                        src: card_face.image_uris.normal,\r\n                        alt: `${card.name} image`,\r\n                    })\r\n                })\r\n            )\r\n        }\r\n    }, [card]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"card-content\" onClick={(e) => handleClick(e, card, imgAttributes, ExpandedCard)} ref={ref}>\r\n                <header className=\"card-header\">\r\n                    <h2 className=\"card-name\">{card.name}</h2>\r\n                </header>\r\n                <section className=\"card-body\" >\r\n                    <CardImageSection attributes={imgAttributes} />\r\n                    <CardDetailSection card={card} searchType={searchType} loading={loading} />\r\n                </section>\r\n                <footer className=\"card-footer\">\r\n                    {searchType === 'search-catalog' ? (\r\n                        <CatalogCardFooter card={card} />\r\n                    ) :\r\n                        searchType === 'search-collection' ? (\r\n                            <CollectionCardFooter card={card} />\r\n                        ) : (\r\n                                <ApiCardFooter card={card} setLoading={(value) => { setLoading(value) }} />\r\n                        )\r\n                    }\r\n                </footer>\r\n            </div>\r\n        </>\r\n    )\r\n})\r\n\r\nexport default Card;\r\n",
    "export default \"data:image/jpeg;base64,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\"",
    "import { createPortal } from 'react-dom';\r\n\r\nconst Modal = ({ open, children }) => {\r\n    if (!open) {\r\n        // Allow scrollimg\r\n        document.body.classList.remove('scroll-none');\r\n        return null;\r\n    }\r\n    // Prevent scrolling\r\n    document.body.classList.add('scroll-none');\r\n\r\n    return createPortal(\r\n        <div className=\"overlay\">\r\n            <div className=\"modal\">\r\n            {children}\r\n            </div>\r\n        </div>,\r\n        document.body\r\n    )\r\n}\r\n\r\nexport default Modal;\r\n",
    "const ExpandedCardContent = ({ children, transform, handleClick }) => {\r\n\r\n    const handleFlipCard = (e) => {\r\n        if (e.target.id === 'reduce-card') {\r\n            handleClick(e)\r\n        }\r\n        else if (e.target.classList.contains('transform-card-btn')) {\r\n            document.querySelector('.transform-card-inner').classList.toggle('rotate-y');\r\n            setTimeout(() => {\r\n                document.getElementsByClassName('transform-card-btn')[0].classList.toggle('d-none');\r\n            }, 100);\r\n        }\r\n\r\n    }\r\n    return (\r\n        <>\r\n            {!transform ?\r\n                (\r\n                    <div className=\"expanded-card\" onClick={handleClick}>\r\n                        {children}\r\n                    </div>\r\n                ) : (\r\n\r\n                    <div className=\"expanded-card transform-card\" onClick={(e) => { handleFlipCard(e) }} >\r\n                        <div className=\"transform-card-inner\">\r\n                            <div className=\"transform-card-recto\">\r\n                                {children[0][0]}\r\n                                {children[1]}\r\n                            </div>\r\n                            <div className=\"transform-card-verso\">\r\n                                {children[0][1]}\r\n                                {children[1]}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ExpandedCardContent;\r\n",
    "import { forwardRef } from 'react';\r\nimport { FaRegCheckCircle } from \"react-icons/fa\";\r\n\r\nconst Success = forwardRef(function Success(props, ref) {\r\n    const { response, handleClick } = props;\r\n    return (\r\n        <div className=\"modal-message\">\r\n            <header className=\"modal-header bg-green\">\r\n                <div className=\"modal-title\">\r\n                    <h2 className=\"color-green fw-500\">{response.message}</h2>\r\n                </div>\r\n            </header>\r\n            <section className=\"modal-check\">\r\n                <FaRegCheckCircle className=\"color-green\" />\r\n            </section>\r\n            <footer className=\"card-footer\">\r\n                <div className=\"btn-container hide\">\r\n                    <button\r\n                        id=\"back-to-search\"\r\n                        type=\"button\"\r\n                        onClick={handleClick}\r\n                        ref={ref}>\r\n                    </button>\r\n                </div>\r\n            </footer>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Success\r\n",
    "import capitalizeWord from '../../../../utilities/capitalizeWord'\r\n// Sets and return error message object \r\nconst editErrorHandler = (values) => {\r\n    const handles = Object.keys(values)\r\n    let errors = {}\r\n    handles.forEach((handle) => {\r\n        // Empty input: required input\r\n        if (!values[handle]) {\r\n            console.log(values[handle])\r\n            errors = { ...errors, [handle]: `${capitalizeWord(handle)} is required` }\r\n        }\r\n    })\r\n    return errors\r\n}\r\n\r\n\r\nexport default editErrorHandler;",
    "import { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate, useLocation, useParams } from 'react-router-dom';\r\nimport CardImage from './CardImage';\r\nimport CollectionDetails from './CollectionDetails';\r\nimport Success from './Success';\r\nimport Loading from '../../layout/Loading';\r\nimport errorHandler from './helpers/editErrorHandler';\r\nimport useAuth from '../../../hooks/useAuth';\r\nimport { api } from '../../../api/resources';\r\n\r\nconst INIT = {\r\n    quantity: '',\r\n    price: '',\r\n    condition: '',\r\n    language: ''\r\n}\r\n\r\nconst EditCard = (props) => {\r\n    // Props\r\n    const { card, searchType, attributes, handleClick } = props;\r\n    // States\r\n    const [errors, setErrors] = useState(INIT);\r\n    const [values, setValues] = useState(INIT);\r\n    const [loading, setLoading] = useState(false);\r\n    const [isValidForm, setIsValidForm] = useState(false);\r\n    const [isSubmit, setIsSubmit] = useState(false);\r\n    const [response, setResponse] = useState({\r\n        isUpdated: false,\r\n        message: ''\r\n    });\r\n    // Refs\r\n    const btnRef = useRef(null);\r\n    const priceRef = useRef(null);\r\n    const conditionRef = useRef(null);\r\n    const quantityRef = useRef(null);\r\n    const languageRef = useRef(null);\r\n    const commentRef = useRef(null);\r\n    const publishedRef = useRef(null);\r\n    // Routing\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n    const { query } = useParams();\r\n    // Hook\r\n    const { auth } = useAuth();\r\n\r\n    // Triggers click event on button to close modal\r\n    const closeModal = (button) => {\r\n        setTimeout(() => {\r\n            button.click();\r\n        }, 1500)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (isValidForm) {\r\n            setLoading(true);\r\n\r\n            const input = {\r\n                cardName: card.name?.trim(),\r\n                price: parseFloat(values.price),\r\n                quantity: parseInt(values.quantity),\r\n                condition: values.condition,\r\n                language: values.language,\r\n                comment: values.comment?.trim(),\r\n                published: values.published,\r\n                datePublished: Date.now(),\r\n            }\r\n\r\n            const headers = new Headers();\r\n            headers.append('Content-Type', 'application/json');\r\n            headers.append('auth-token', auth.token);\r\n            const options = {\r\n                method: 'PATCH',\r\n                headers: headers,\r\n                body: JSON.stringify(input),\r\n            };\r\n            fetch(`${api.serverURL}/api/cards/edit/${card._id}/${auth.id}`, options)\r\n                .then((res) => res.json())\r\n                .then((data) => {\r\n                    setLoading(false);\r\n                    const { cards, isUpdated, message } = data;\r\n\r\n                    setResponse({ isUpdated: isUpdated, message: message })\r\n                    if (query !== 'all-cards') {\r\n                        // filter for cards with cardName\r\n                        const updatedCards = cards.filter(cardObj => cardObj.name.toLowerCase() === card.name.toLowerCase());\r\n\r\n                        const result = { cards: updatedCards, searchType: searchType };\r\n\r\n                        navigate(`${location.pathname}`,\r\n                            {\r\n                                state: result,\r\n                            });\r\n                        localStorage.setItem('search-result', JSON.stringify(result));\r\n                        closeModal(btnRef.current)\r\n                    } else {\r\n                        const result = { cards: cards, searchType: searchType };\r\n\r\n                        navigate(`${location.pathname}`,\r\n                            {\r\n                                state: result,\r\n                            });\r\n                        localStorage.setItem('search-result', JSON.stringify(result));\r\n                        closeModal(btnRef.current)\r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                    setLoading(false);\r\n                    console.log('error', error)\r\n                });\r\n        }\r\n    }, [isValidForm])\r\n\r\n    useEffect(() => {\r\n        priceRef.current.focus();\r\n        setValues({\r\n            price: card['_price'] ? card['_price'] : '',\r\n            quantity: card['_quantity'] ? card['_quantity'] : '',\r\n            condition: card['_condition'] ? card['_condition'] : '',\r\n            language: card['_language'] ? card['_language'] : '',\r\n            comment: card['_comment'],\r\n            published: card['_is_published']\r\n        });\r\n    }, [])\r\n\r\n    // Error handler \r\n    useEffect(() => {\r\n        if (Object.keys(errors).length === 0 && isSubmit) {\r\n            // Trigger Form request handler\r\n            setIsValidForm(true)\r\n        } else {\r\n            setIsSubmit(false)\r\n        }\r\n    }, [errors]);\r\n\r\n    /**********************\r\n    *** Event handlers ***\r\n    **********************/\r\n\r\n    // Change handler\r\n    const handleChange = (e) => {\r\n        setValues({ ...values, [e.target.name]: e.target.value })\r\n    }\r\n\r\n    // Radio button handler\r\n    const handleRadioChange = (e) => {\r\n        setValues({ ...values, published: !values.published })\r\n    }\r\n\r\n    // Focus handler\r\n    const handleFocus = (e) => {\r\n        // Remove submit error prop if present\r\n        if (errors[e.target.name]) {\r\n            const cloneErrors = { ...errors }\r\n            delete cloneErrors[e.target.name]\r\n            setErrors(cloneErrors)\r\n        }\r\n    }\r\n\r\n    // Submit handler\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const { comment, published, ...updatedValues } = values;\r\n        const inputErrors = errorHandler(updatedValues)\r\n        setIsSubmit(true)\r\n        setErrors(inputErrors)\r\n    }\r\n\r\n    return (\r\n        <div className={`modal-content ${loading ? 'border-light' : response.isUpdated ? 'border-success' : 'border-blue'}`}>\r\n            {\r\n                loading ? (\r\n                    <Loading />\r\n                ) : (\r\n                    <>\r\n                        {\r\n                                !response.isUpdated ? (\r\n                                <>\r\n                                        <header className=\"modal-header bg-blue\">\r\n                                            <div className=\"modal-title\">\r\n\r\n                                                <h2 className=\"fw-500\">Edit Card</h2>\r\n                                        </div>\r\n                                    </header>\r\n                                    <div className=\"modal-body\">\r\n                                        <div className=\"card-body\">\r\n                                            <section className=\"card-section\">\r\n                                                <CardImage attributes={attributes} />\r\n                                            </section>\r\n                                            <section className=\"card-section\">\r\n                                                <CollectionDetails card={card} />\r\n                                            </section>\r\n                                        </div>\r\n                                        <div className=\"edit-card\">\r\n                                            <form className=\"edit-form\" id=\"edit-form\" name=\"edit-form\" onSubmit={handleSubmit} noValidate>\r\n                                                <div className=\"form-element flex gap-1\">\r\n                                                    <div className=\"edit-option\">\r\n                                                        <label htmlFor=\"price\" className={errors.price && 'color-danger'}>{errors.price ? errors.price : 'Price'}</label>\r\n                                                        <input\r\n                                                            className={errors.price ? 'border-danger danger-padding' : ''}\r\n                                                            id=\"price\"\r\n                                                            type=\"number\"\r\n                                                            name=\"price\"\r\n                                                            value={values.price}\r\n                                                            onChange={handleChange}\r\n                                                            onFocus={handleFocus}\r\n                                                            min=\"0.25\"\r\n                                                            max=\"10000\"\r\n                                                            placeholder=\"Price\"\r\n                                                            ref={priceRef}\r\n                                                        />\r\n                                                    </div>\r\n                                                    <div className=\"edit-option\">\r\n                                                        <label htmlFor=\"quantity\" className={errors.quantity && 'color-danger'}>{errors.quantity ? errors.quantity : 'Quantity'}</label>\r\n                                                        <input\r\n                                                            className={errors.quantity ? 'border-danger danger-padding' : ''}\r\n                                                            id=\"quantity\"\r\n                                                            type=\"number\"\r\n                                                            name=\"quantity\"\r\n                                                            value={values.quantity}\r\n                                                            onChange={handleChange}\r\n                                                            onFocus={handleFocus}\r\n                                                            min=\"0\"\r\n                                                            max=\"1000\"\r\n                                                            placeholder=\"Quantity\"\r\n                                                            ref={quantityRef}\r\n                                                        />\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"form-element\">\r\n                                                        <label htmlFor=\"condition\" className={errors.condition && 'color-danger'}>{errors.condition ? errors.condition : 'Card Condition'}</label>\r\n                                                    <select\r\n                                                        className={errors.condition ? 'border-danger danger-padding' : ''}\r\n                                                        id=\"condition\"\r\n                                                        type=\"text\"\r\n                                                        name=\"condition\"\r\n                                                        value={values.condition}\r\n                                                        onChange={handleChange}\r\n                                                        onFocus={handleFocus}\r\n                                                        ref={conditionRef}\r\n                                                    >\r\n                                                        <option value=\"\">Choose a condition</option>\r\n                                                        <option value='m'>Mint</option>\r\n                                                        <option value='nm'>Near Mint</option>\r\n                                                        <option value=\"lp\">Lightly Played</option>\r\n                                                        <option value=\"mp\">Moderatly Played</option>\r\n                                                        <option value=\"hp\">Heavely Played</option>\r\n                                                        <option value=\"d\">Damaged</option>\r\n                                                    </select>\r\n                                                </div>\r\n                                                <div className=\"form-element\">\r\n                                                        <label htmlFor=\"language\" className={errors.language && 'color-danger'}>{errors.language ? errors.language : 'Card Condition'}</label>\r\n                                                        <select\r\n                                                            className={errors.language ? 'border-danger danger-padding' : ''}\r\n                                                            id=\"language\"\r\n                                                            name=\"language\"\r\n                                                            value={values.language}\r\n                                                            onChange={handleChange}\r\n                                                            onFocus={handleFocus}\r\n                                                            ref={languageRef}\r\n                                                        >\r\n                                                            <option value=\"\">Choose a language</option>\r\n                                                            <option value=\"en\">English</option>\r\n                                                            <option value=\"es\">Spanish</option>\r\n                                                            <option value=\"fr\">French</option>\r\n                                                            <option value=\"de\">German</option>\r\n                                                            <option value=\"it\">Italian</option>\r\n                                                            <option value=\"pt\">Portuguese</option>\r\n                                                            <option value=\"ja\">Japanese</option>\r\n                                                            <option value=\"ko\">Korean</option>\r\n                                                            <option value=\"ru\">Russian</option>\r\n                                                            <option value=\"zhs\">Simplified Chinese</option>\r\n                                                            <option value=\"zht\">Traditional Chinese</option>\r\n                                                            <option value=\"ph\">Phyrexian</option>\r\n                                                        </select>\r\n                                                    </div>\r\n                                                    <div className=\"form-element\">\r\n                                                    <label htmlFor=\"comment\" className={errors.comment && 'color-danger'}>{errors.comment ? errors.comment : 'Additional Information'}</label>\r\n                                                    <textarea\r\n                                                        className={errors.comment && 'border-danger danger-padding'}\r\n                                                        id=\"comment\"\r\n                                                        name=\"comment\"\r\n                                                        value={values.comment}\r\n                                                        onChange={handleChange}\r\n                                                        onFocus={handleFocus}\r\n                                                            placeholder=\"\"\r\n                                                        ref={commentRef}\r\n                                                    >\r\n                                                    </textarea>\r\n                                                </div>\r\n                                                <div className=\"form-element\">\r\n                                                    <p>Card Status</p>\r\n                                                    <div className=\"card-status flex gap-1\">\r\n                                                        <div className=\"edit-option status flex align-center space-between\">\r\n                                                                <label htmlFor=\"published\">Published</label>\r\n                                                                <input type=\"radio\" name=\"published\" id=\"published\" onChange={handleRadioChange} value={values.published} checked={values.published} ref={publishedRef} />\r\n\r\n                                                        </div>\r\n                                                        <div className=\"edit-option status flex align-center space-between\">\r\n                                                                <label htmlFor=\"unpublished\">Unpublished</label>\r\n                                                                <input type=\"radio\" name=\"published\" id=\"unpublished\" onChange={handleRadioChange} value={!values.published} checked={!values.published} />\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </form>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                        <footer className=\"modal-footer bg-blue-light\">\r\n                                        <div className=\"card-btns-wrapper\">\r\n                                            <div className=\"btn-container\">\r\n                                                < button\r\n                                                    id=\"go-back\"\r\n                                                        className=\"btn bg-yellow-2 color-light\"\r\n                                                    type=\"button\"\r\n                                                    onClick={handleClick}\r\n                                                >\r\n                                                    Go Back\r\n                                                </button>\r\n                                            </div>\r\n                                            <div className=\"btn-container\">\r\n                                                < button\r\n                                                    id=\"confirm-publish\"\r\n                                                    className=\"btn bg-green color-light\"\r\n                                                    type=\"button\"\r\n\r\n                                                    onClick={handleSubmit} >\r\n                                                    Submit\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </footer>\r\n                                </>\r\n                            ) : (\r\n                                <Success response={response} handleClick={handleClick} ref={btnRef} />\r\n                            )\r\n                        }\r\n                    </>\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditCard\r\n",
    "import { useState, useRef } from 'react';\r\nimport { useNavigate, useLocation, useParams } from 'react-router-dom';\r\nimport CardImage from './CardImage';\r\nimport CollectionDetails from './CollectionDetails';\r\nimport Success from './Success';\r\nimport Loading from '../../layout/Loading';\r\n// import { FaBan } from \"react-icons/fa6\";\r\nimport useAuth from '../../../hooks/useAuth';\r\nimport { api } from '../../../api/resources';\r\n\r\nconst DeleteCard = (props) => {\r\n    // Props\r\n    const { card, searchType, attributes, handleClick } = props;\r\n    // States\r\n    const [response, setResponse] = useState({\r\n        isDeleted: false,\r\n        message: (() => {\r\n            return (\r\n                <>\r\n                    <p>You are about to delete <strong>{card.name}</strong> from your collection.</p>\r\n                    <p>This will remove all the information associated with this card.</p>\r\n                </>\r\n            )\r\n        })()\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n    // Ref\r\n    const btnRef = useRef(null);\r\n    // Routing\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n    const { query } = useParams();\r\n    // Hook\r\n    const { auth } = useAuth();\r\n\r\n    // Triggers click event on button to close modal\r\n    const closeModal = (button) => {\r\n        setTimeout(() => {\r\n            button.click();\r\n        }, 1500)\r\n    }\r\n\r\n    const deleteHandler = (location) => {\r\n        setLoading(true);\r\n        const headers = new Headers();\r\n        headers.append('Content-Type', 'application/json');\r\n        headers.append('auth-token', auth.token);\r\n\r\n        const input = {\r\n            cardID: card._id,\r\n            userID: auth.id,\r\n        }\r\n        const options = {\r\n            method: 'DELETE',\r\n            headers: headers,\r\n            body: JSON.stringify(input)\r\n        }\r\n\r\n        fetch(`${api.serverURL}/api/cards/delete`, options)\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json()\r\n                }\r\n                return res.json().then((data) => {\r\n                    setLoading(false)\r\n                    throw new Error(JSON.stringify(data))\r\n                })\r\n            })\r\n            .then((data) => {\r\n                setLoading(false);\r\n                const { cards, isDeleted, message } = data;\r\n                setResponse({ isDeleted: isDeleted, message: message })\r\n                // If cardName is set\r\n                if (query !== 'all-cards') {\r\n                    console.log(searchType)\r\n                    // filter for cards with cardName\r\n                    const updatedCards = cards.filter(cardObj => cardObj.name.toLowerCase() === card.name.toLowerCase());\r\n                    const result = { cards: updatedCards, searchType };\r\n                    navigate(`${location.pathname}`,\r\n                        {\r\n                            state: result,\r\n                        });\r\n                    localStorage.setItem('search-result', JSON.stringify(result));\r\n                    closeModal(btnRef.current)\r\n                } else {\r\n                    const result = { cards: cards, searchType };\r\n                    navigate(`${location.pathname}`,\r\n                        {\r\n                            state: result,\r\n                        });\r\n                    localStorage.setItem('search-result', JSON.stringify(result));\r\n                    closeModal(btnRef.current)\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                setLoading(false);\r\n                console.log('error', error)\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div className={`modal-content ${loading ? 'border-light' : response.isDeleted ? 'border-success' : 'border-red'}`}>\r\n                {\r\n                    loading ? (\r\n                        <Loading />\r\n                    ) : (\r\n                        <>\r\n                            {\r\n                                !response.isDeleted ? (\r\n                                    <>\r\n\r\n                                        <header className=\"modal-header bg-red\">\r\n                                            <div className=\"modal-title\">\r\n                                                <h2 className=\"fw-500\">Delete Card</h2>\r\n                                            </div>\r\n                            </header>\r\n                                        <div className=\"modal-body\">\r\n                            <div className=\"card-body\">\r\n                                <section className=\"card-section\">\r\n                                    <CardImage attributes={attributes} />\r\n                                </section>\r\n                                <section className=\"card-section\">\r\n                                    <CollectionDetails card={card} />\r\n                                </section>\r\n                            </div>\r\n                                        <div className=\"card-message\">\r\n                                                {response.message}\r\n                                        </div>\r\n                                        </div>\r\n                                        <footer className=\"modal-footer bg-red-light\">\r\n                                <div className=\"card-btns-wrapper\">\r\n                                                <div className=\"btn-container\">\r\n                                                    < button\r\n                                                        id=\"go-back\"\r\n                                                        className=\"btn bg-yellow-2 color-light\"\r\n                                                        type=\"button\"\r\n                                                        onClick={handleClick}\r\n                                                    >\r\n                                                        Go Back\r\n                                        </button>\r\n                                    </div>\r\n                                    <div className=\"btn-container\">\r\n                                                    < button\r\n                                                        id=\"confirm-delete\"\r\n                                                        className=\"btn bg-red color-light\"\r\n                                                        type=\"button\"\r\n                                                        onClick={handleClick}\r\n                                                        onMouseDown={(e) => deleteHandler(location)} >\r\n                                                        Confirm\r\n                                        </button>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </footer>\r\n\r\n                                    </>\r\n                                ) : (\r\n                                        <Success response={response} handleClick={handleClick} ref={btnRef} />\r\n                                )\r\n                            }\r\n                        </>\r\n                    )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DeleteCard;\r\n",
    "// import { TbRotate360 } from \"react-icons/tb\";\r\nimport { Tb360 } from \"react-icons/tb\";\r\n\r\nconst FlipIcon = () => {\r\n\r\n    return (\r\n        <button className=\"transform-card-btn\" type=\"button\">\r\n            <Tb360 />\r\n        </button>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default FlipIcon;",
    "import { useReducer } from 'react';\r\nimport ExpandedCardContent from '../components/views/search/ExpandedCardContent';\r\nimport EditCard from '../components/views/search/EditCard';\r\nimport DeleteCard from '../components/views/search/DeleteCard';\r\nimport FlipIcon from '../components/views/search/FlipIcon';\r\n\r\nconst useModalUpdate = (searchType, callback) => {\r\n    const INIT = {\r\n        open: false,\r\n        component: null\r\n    }\r\n    const ACTIONS = {\r\n        ADD_TO_CART: 'add-to-cart',\r\n        ADD_TO_WISHLIST: 'add-to-wishlist',\r\n        BACK_TO_SEARCH: 'back-to-search',\r\n        CONFIRM_DELETE: 'confirm-delete',\r\n        DELETE_CARD: 'delete-card',\r\n        EXPAND_CARD: 'expand-card',\r\n        GO_BACK: 'go-back',\r\n        EDIT_CARD: 'edit-card',\r\n        REDUCE_CARD: 'reduce-card',\r\n    }\r\n\r\n    const reducer = (state, action) => {\r\n\r\n        switch (action.type) {\r\n            case ACTIONS.EXPAND_CARD:\r\n                // \r\n                return !action.payload.card.card_faces?.length ?\r\n                    {\r\n                    open: true,\r\n                    component:\r\n                        <ExpandedCardContent transform={false} handleClick={callback}>\r\n                            {action.payload.ImageComponent}\r\n                        </ExpandedCardContent>\r\n                    } : {\r\n                        open: true,\r\n                        component:\r\n                            <ExpandedCardContent transform={true} handleClick={callback}>\r\n                                {action.payload.ImageComponent}\r\n                                <FlipIcon handleClick={callback} />\r\n                            </ExpandedCardContent>\r\n                    }\r\n            case ACTIONS.DELETE_CARD:\r\n                return {\r\n                    open: true,\r\n                    component: <DeleteCard\r\n                        attributes={{ ...action.payload.attributes, id: 'confirm-delete' }}\r\n                        searchType={searchType}\r\n                        card={action.payload.card}\r\n                        handleClick={callback}\r\n                    />\r\n                };\r\n            case ACTIONS.EDIT_CARD:\r\n                return {\r\n                    open: true,\r\n                    component:\r\n                        <EditCard\r\n                            attributes={{ ...action.payload.attributes, id: 'confirm-edit' }}\r\n                            searchType={searchType}\r\n                            card={action.payload.card}\r\n                            handleClick={callback}\r\n                        />\r\n                }\r\n            // case ACTIONS.ADD_TO_CART:\r\n\r\n            //     break;\r\n            // case ACTIONS.ADD_TO_WISHLIST:\r\n\r\n            //     break;\r\n            case ACTIONS.REDUCE_CARD:\r\n                return INIT; \r\n            case ACTIONS.CONFIRM_DELETE:\r\n                return INIT;\r\n            case ACTIONS.GO_BACK:\r\n                return INIT;\r\n            case ACTIONS.BACK_TO_SEARCH:\r\n                return INIT;\r\n            default:\r\n                return INIT;\r\n        }\r\n    }\r\n    const [state, dispatch] = useReducer(reducer, INIT)\r\n\r\n    const updateState = (id, card, attributes, ExpandedCard) => {\r\n        dispatch({\r\n            type: id,\r\n            payload: {\r\n                card: card,\r\n                attributes: attributes,\r\n                ImageComponent: ExpandedCard,\r\n            }\r\n        })\r\n    }\r\n\r\n    return [state, { updateState }];\r\n}\r\n\r\nexport default useModalUpdate;\r\n",
    "import { useEffect, useRef } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport Card from './Card';\r\nimport Modal from './Modal';\r\nimport useModalUpdate from '../../../hooks/useModalUpdate';\r\n\r\nconst SearchResult = () => {\r\n    const location = useLocation();\r\n    const navigate = useNavigate();\r\n    const { cards, searchType } = location.state || JSON.parse(localStorage.getItem('search-result'));\r\n    const cardRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        // If cards is not empty\r\n        if (cards.length) {\r\n            const loadImage = card => {\r\n                return new Promise((resolve, reject) => {\r\n                    const image = new Image();\r\n                    const uri = card.image_uris?.normal || card.card_faces[0]?.image_uris.normal\r\n                    // console.log(uri)\r\n                    image.src = uri;\r\n                    image.onload = () => resolve(card);\r\n                    image.onerror = error => reject(error);\r\n                });\r\n            }\r\n            Promise.all(cards.map(card => loadImage(card)))\r\n                .then((data) => console.log(data))\r\n                .catch(error => console.log('Image load has failed', error))\r\n        }\r\n        else {\r\n            // localStorage.removeItem('search-result')\r\n            setTimeout(() => {\r\n                navigate('/search-collection')\r\n            }, 1500)\r\n        }\r\n    }, [location]);\r\n\r\n    const [{ open, component }, { updateState }] = useModalUpdate(searchType, (value) => handleClick(value));\r\n\r\n    function handleClick(e, card, attributes, expandedCard) {\r\n        e.stopPropagation();\r\n        updateState(e.target.id, card, attributes, expandedCard);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {\r\n                <Modal open={open}>\r\n                    {component}\r\n                </Modal>\r\n            }\r\n            <header className=\"search-result-header\">\r\n                <button className=\"back-btn\" type=\"button\" onClick={() => {\r\n                    searchType === 'search-collection' ? navigate('/me/collection') : navigate(-1);\r\n                }}>Back To Search</button>\r\n                <span className=\"space-1\">\r\n                    {\r\n                        cards ?\r\n                            `${cards.length} ${cards.length > 1 ? 'Results' : 'Result'}` :\r\n                            'No results'\r\n                    }\r\n                </span>\r\n            </header>\r\n            <>\r\n                <header className=\"header\">\r\n                    <h2 className=\"title\">Search Results</h2>\r\n                </header>\r\n                <main className=\"main\">\r\n                    <div className=\"cards\">\r\n                        {\r\n                            cards &&\r\n                            cards.map((card, index) => {\r\n                                return (\r\n                                    <Card\r\n                                        key={index}\r\n                                        card={card}\r\n                                        searchType={searchType}\r\n                                        handleClick={handleClick}\r\n                                        ref={cardRef}\r\n                                    />)\r\n                            })\r\n                        }\r\n                    </div>\r\n                </main>\r\n            </>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SearchResult;\r\n",
    "import { useNavigate } from 'react-router-dom';\r\nimport Button from '../layout/Button';\r\nconst 404 = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const attributes = {\r\n    id: '',\r\n    style: 'btn color-light bg-blue',\r\n    type: 'button',\r\n    value: 'Back to Homepage',\r\n    status: false\r\n  }\r\n\r\n  const handleClick = () => {\r\n    navigate('/', { replace: true })\r\n  }\r\n  return (\r\n    <div className=\"content\">\r\n      <header className=\"header\">\r\n\r\n        <h2 className=\"title\">404</h2>\r\n      </header>\r\n      <main className=\"main not-found\">\r\n        <p>The page you requested does not exist</p>\r\n        <Button attributes={attributes} handleClick={handleClick} />\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default 404;\r\n",
    "import { useParams, useNavigate } from 'react-router-dom';\r\n\r\nconst CardNotFound = () => {\r\n    const { cardName } = useParams();\r\n    const navigate = useNavigate();\r\n\r\n    return (\r\n        <div className=\"not-found\">\r\n            <header>\r\n                <section className=\"banner not-found-banner\"></section>\r\n            </header>\r\n            <main className=\"main\">\r\n                <h2>Oops!</h2>\r\n                <p>No results were found for \"{cardName}\"</p>\r\n            </main>\r\n            <footer>\r\n                <button className=\"not-found-btn\" onClick={() => navigate(-1)}> Go Back </button>\r\n            </footer>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CardNotFound\r\n",
    "import React, { useState, useEffect, useContext } from 'react';\r\nimport styled from 'styled-components';\r\nimport { ShoppingCartContext } from '../../contexts/ShoppingCartContext';\r\nimport { api } from '../../api/resources';\r\n\r\nconst CartItem = ({ item, setIsUpdating }) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [quantity, setQuantity] = useState(1);\r\n\r\n  const { cartItems, setCartItems } = useContext(ShoppingCartContext);\r\n\r\n  const handleChange = (e, item) => {\r\n    cartItems.forEach((cartItem) => {\r\n      if (cartItem === item) {\r\n        // console.log(e.target.value);\r\n        cartItem.quantity_selected = parseInt(e.target.value);\r\n      }\r\n\r\n      setLoading(true);\r\n      setIsUpdating(true);\r\n      const options = {\r\n        method: 'GET',\r\n        header: { 'Content-Type': 'application/json' },\r\n      };\r\n\r\n      fetch(\r\n        `${api.serverURL}/api/catalog/${item.name}/${item._id}/${item.quantity_selected}`,\r\n        options\r\n      )\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (data.data.isQuantityAvailable) {\r\n            setLoading(false);\r\n            setIsUpdating(false);\r\n            setQuantity(cartItem.quantity_selected);\r\n            const items = [...cartItems];\r\n            setCartItems(items);\r\n          } else {\r\n            return console.log('Quantity not available');\r\n          }\r\n        });\r\n    });\r\n  };\r\n\r\n  const handleClick = (item) => {\r\n    cartItems.forEach((cartItem, index) => {\r\n      if (cartItem === item) {\r\n        cartItems.splice(index, 1);\r\n      }\r\n\r\n      const items = [...cartItems];\r\n      setCartItems(items);\r\n    });\r\n  };\r\n  return (\r\n    <Content className={loading ? 'loading' : ''}>\r\n      <ImageContainer>\r\n        <Image src={item.image_uris.png} />\r\n      </ImageContainer>\r\n      <DetailsContainer>\r\n        <DetailsHeader>\r\n          <h3>{item.name}</h3>\r\n          <p>$ {item.price}.00</p>\r\n        </DetailsHeader>\r\n        <Details>\r\n          <Info>\r\n            <p>Seller: {item.userName}</p>\r\n            <p>Ships from: {item.userCountry}</p>\r\n            <p>Card Condition: {item.condition.toUpperCase()}</p>\r\n          </Info>\r\n          <Selector>\r\n            <select\r\n              onChange={(e) => {\r\n                handleChange(e, item);\r\n              }}\r\n            >\r\n              {[...new Array(item.quantity)].map((x, i) => {\r\n                return i + 1 === item.quantity_selected ? (\r\n                  <option key={i} value={i + 1} selected>\r\n                    {i + 1}\r\n                  </option>\r\n                ) : (\r\n                  <option key={i} value={i + 1}>\r\n                    {i + 1}\r\n                  </option>\r\n                );\r\n              })}\r\n            </select>\r\n\r\n            <button type=\"button\" onClick={() => handleClick(item)}>Delete</button>\r\n          </Selector>\r\n        </Details>\r\n        <DetailsFooter>\r\n          <h4>Total:</h4>\r\n          <p>{quantity && `$ ${item.quantity_selected * item.price}.00`}</p>\r\n        </DetailsFooter>\r\n      </DetailsContainer>\r\n    </Content>\r\n  );\r\n};\r\n\r\nconst Info = styled.div``;\r\nconst DetailsContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  font-size: 0.9rem;\r\n  width: 100%;\r\n`;\r\nconst Details = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0.5em;\r\n  font-size: 0.8rem;\r\n`;\r\nconst DetailsFooter = styled.footer`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  width: 100%;\r\n  padding: 0.5em 1em 1em 0;\r\n  border-top: 1px solid #e4e4e4;\r\n\r\n  h4 {\r\n    margin-right: 1em;\r\n  }\r\n\r\n  p {\r\n    font-weight: 900;\r\n  }\r\n`;\r\nconst DetailsHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  padding: 1em 1em 0.5em 0;\r\n  border-bottom: 1px solid #e4e4e4;\r\n\r\n  p {\r\n    font-weight: 900;\r\n  }\r\n`;\r\n\r\nconst Selector = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 10em;\r\n  padding: 0.5em 0;\r\n\r\n  select {\r\n    padding: 0.2em;\r\n    width: 4em;\r\n  }\r\n\r\n  button {\r\n    padding: 0.5em 1em;\r\n    color: #fff;\r\n    background: #dc3545;\r\n    border: 1px solid #dc3545;\r\n  }\r\n`;\r\n\r\nconst Header = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  padding: 1em;\r\n`;\r\n\r\nconst Items = styled.div`\r\n  width: 75%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Container = styled.main`\r\n  display: flex;\r\n  width: 100%;\r\n  padding: 0 1em;\r\n  background: #e1e8ed;\r\n`;\r\nconst Aside = styled.aside`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 25%;\r\n  background: #fff;\r\n  height: 20vh;\r\n  padding: 1em;\r\n  margin: 4em 0 1em 1em;\r\n\r\n  h3 {\r\n    text-align: center;\r\n    padding-bottom: em;\r\n  }\r\n\r\n  p {\r\n  }\r\n`;\r\nconst CheckoutButton = styled.button`\r\n  width: 100%;\r\n  padding: 1em 0;\r\n  font-size: 1rem;\r\n\r\n  background: #ffc107;\r\n  border: none;\r\n`;\r\nconst Content = styled.div`\r\n  display: flex;\r\n  margin-bottom: 1em;\r\n\r\n  background: #fff;\r\n  width: 100%;\r\n`;\r\nconst ImageContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 20%;\r\n  padding: 0.8em;\r\n`;\r\nconst Image = styled.img`\r\n  display: block;\r\n  width: 100%;\r\n`;\r\nexport default CartItem;\r\n",
    "import React, { useEffect, useContext, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n// import { FiPlusCircle, FiMinusCircle, FiTrash2 } from 'react-icons/fi';\r\nimport CartItem from './CartItem';\r\nimport useAuth from '../../hooks/useAuth';\r\nimport { ShoppingCartContext } from '../../contexts/ShoppingCartContext';\r\nimport { api } from '../../api/resources';\r\nimport styled from 'styled-components';\r\n\r\nfunction ShoppingCart() {\r\n  const [totalItems, setTotalItems] = useState(0);\r\n  const [subTotal, setSubTotal] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const [isUpdating, setIsUpdating] = useState(false);\r\n  const { auth } = useAuth();\r\n  const { cartItems, setCartItems } = useContext(ShoppingCartContext);\r\n  const navigate = useNavigate();\r\n\r\n  // This is where the amount or items in the cart is set & the subtotal of off all items in the cart\r\n  useEffect(() => {\r\n    let amount = 0;\r\n    let items = 0;\r\n    cartItems.forEach((cartItem) => {\r\n      items += cartItem.quantity_selected;\r\n      amount += cartItem.quantity_selected * cartItem.price;\r\n    });\r\n\r\n    setSubTotal(amount);\r\n    setTotalItems(items);\r\n  }, [cartItems]);\r\n\r\n  const handleCheckout = () => {\r\n    // setLoading(true);\r\n    if (!auth) {\r\n      navigate('/login');\r\n    } else {\r\n      const input = {\r\n        userID: auth.id,\r\n        cartItems: cartItems,\r\n      };\r\n      const options = {\r\n        method: 'PATCH',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'auth-token': auth.token,\r\n        },\r\n        body: JSON.stringify(input),\r\n      };\r\n\r\n      fetch(`${api.serverURL}/api/cart/`, options)\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          // setLoading(false);\r\n          // setCartItems([]);\r\n          // navigate('/confirmation');\r\n          console.log(data);\r\n        })\r\n        .catch((error) => console.log('error', error));\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"content\">\r\n      <header className=\"header\">\r\n        <h2 className=\"title\">Shopping Cart</h2>\r\n      </header>\r\n      <main className=\"main\">\r\n        <Container>\r\n        {cartItems.length > 0 ? (\r\n          <Items>\r\n            <Header>\r\n              <h3>Items</h3>\r\n              <h3>Price</h3>\r\n            </Header>\r\n\r\n            {cartItems &&\r\n              cartItems.map((item) => {\r\n                return <CartItem item={item} setIsUpdating={setIsUpdating} />;\r\n              })}\r\n          </Items>\r\n        ) : (\r\n          <div>Your Cart is Empty</div>\r\n        )}\r\n        {cartItems.length > 0 ? (\r\n          <Aside className={isUpdating ? 'loading' : ''}>\r\n            <h3>Subtotal</h3>\r\n            {!isUpdating && totalItems ? (\r\n              <p>\r\n                {`(${totalItems} items): `}\r\n                <strong>{`$ ${subTotal}.00`}</strong>\r\n              </p>\r\n            ) : (\r\n              <p>\r\n                {`(${totalItems} items): `}\r\n                <strong>{`$ ${subTotal}.00`}</strong>\r\n              </p>\r\n            )}\r\n\r\n            <CheckoutButton\r\n              type=\"button\"\r\n              onClick={() => {\r\n                handleCheckout();\r\n              }}\r\n            >\r\n              Checkout\r\n            </CheckoutButton>\r\n          </Aside>\r\n        ) : (\r\n          ''\r\n        )}\r\n      </Container>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Header = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  padding: 1em;\r\n`;\r\n\r\nconst Items = styled.div`\r\n  width: 75%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Container = styled.main`\r\n  display: flex;\r\n  width: 100%;\r\n  padding: 0 1em;\r\n  background: #e1e8ed;\r\n`;\r\nconst Aside = styled.aside`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 25%;\r\n  background: #fff;\r\n  height: 20vh;\r\n  padding: 1em;\r\n  margin: 4em 0 1em 1em;\r\n\r\n  h3 {\r\n    text-align: center;\r\n    padding-bottom: em;\r\n  }\r\n\r\n  p {\r\n  }\r\n`;\r\nconst CheckoutButton = styled.button`\r\n  width: 100%;\r\n  padding: 1em 0;\r\n  font-size: 1rem;\r\n\r\n  background: #ffc107;\r\n  border: none;\r\n`;\r\n\r\nexport default ShoppingCart;\r\n",
    "// Get mailbox selected option : inbox, unread, sent, draft, trash\r\n\r\nconst getPath = (url) => {\r\n  // console.log(url);\r\n  return url.split('/')[2];\r\n};\r\n\r\nexport default getPath;\r\n",
    "import React, { useContext, useEffect } from 'react';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { FiTrash } from 'react-icons/fi';\r\nimport getPath from '../../../utilities/getPath';\r\nimport { PathContext } from '../../../contexts/PathContext';\r\nimport { api } from '../../../api/resources';\r\nimport styled from 'styled-components';\r\n\r\nconst SideBar = ({\r\n  isTrash,\r\n  checkedState,\r\n  setMessages,\r\n  setLoading,\r\n  messages,\r\n  user,\r\n}) => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const { pathname, setPathname } = useContext(PathContext);\r\n\r\n  // Set path on location change\r\n  useEffect(() => {\r\n    // console.log('path', path);\r\n    // console.log('location.pathname', getPath(location.pathname));\r\n    if (pathname !== getPath(location.pathname)) {\r\n      localStorage.removeItem('message');\r\n    }\r\n    setPathname(getPath(location.pathname));\r\n    // localStorage.removeItem('message');\r\n  }, [location]);\r\n\r\n  // Update isTrash status in database for checked messages\r\n  const handleTrashClick = (e) => {\r\n    const trashed = [];\r\n    // Populate messages selected for the trash bin (state: true === checked message)\r\n    if (localStorage.getItem('message')) {\r\n      trashed.push(JSON.parse(localStorage.getItem('message')));\r\n    } else {\r\n      // Populate messages selected for the trash bin (state: true === checked message)\r\n      checkedState.forEach((state, index) => {\r\n        if (state) {\r\n          trashed.push(messages[index]);\r\n        }\r\n      });\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    const updates = {\r\n      userID: user.id,\r\n      trashed: trashed,\r\n      pathname: pathname,\r\n    };\r\n    const headers = new Headers();\r\n    headers.append('Content-type', 'application/json');\r\n    headers.append('auth-token', user.token);\r\n\r\n    const options = {\r\n      method: 'PATCH',\r\n      headers: headers,\r\n      body: JSON.stringify(updates),\r\n    };\r\n\r\n    fetch(`${api.serverURL}/api/messages/`, options)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setLoading(false);\r\n        localStorage.removeItem('message');\r\n        setMessages(data.data);\r\n        setPathname(getPath(location.pathname));\r\n        navigate(`/mail/${pathname}`);\r\n      });\r\n  };\r\n\r\n  // On click of delete button. Triggered on checkbox select in Trash Bin view\r\n  const handleDeleteClick = () => {\r\n    const deleted = [];\r\n\r\n    // Populate messages selected for the trash bin (state: true === checked message)\r\n    checkedState.forEach((state, index) => {\r\n      if (state) {\r\n        deleted.push(messages[index]);\r\n      }\r\n    });\r\n\r\n    const updates = {\r\n      userID: user.id,\r\n      toBeDeleted: deleted,\r\n    };\r\n    const headers = new Headers();\r\n    headers.append('Content-type', 'application/json');\r\n    headers.append('auth-token', user.token);\r\n\r\n    const options = {\r\n      method: 'DELETE',\r\n      headers: headers,\r\n      body: JSON.stringify(updates),\r\n    };\r\n\r\n    fetch(`${api.serverURL}/api/messages/delete`, options)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        // console.log(data);\r\n        localStorage.removeItem('message');\r\n        setMessages(data.data.length > 0 ? data.data : []);\r\n        setPathname(getPath(location.pathname));\r\n        navigate(`/mail/${pathname}`);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\".mailbox-sidebar-container\">\r\n      <div className=\"mailbox-sidebar\">\r\n        <div className=\"mailbox-sidebar-header\">\r\n          <button\r\n            className=\"compose-message\"\r\n            type=\"button\"\r\n            onClick={() => {\r\n              setPathname('message');\r\n              navigate('/mail/message');\r\n            }}\r\n          >\r\n            Compose\r\n          </button>\r\n          {isTrash && location.pathname.includes('trash') ? (\r\n            <button className=\"remove-message\" type=\"button\" onClick={handleDeleteClick}>\r\n              Delete\r\n            </button>\r\n          ) : isTrash ? (\r\n              <button className=\"remove-message\" type=\"button\" onClick={handleTrashClick}>\r\n              Trash\r\n            </button>\r\n          ) : (\r\n            ''\r\n          )}\r\n        </div>\r\n\r\n        <ul className=\"mailbox-sidebar-options\">\r\n          <ListItem>\r\n            <Link\r\n              style={{\r\n                border:\r\n                  location.pathname.includes('inbox') && '1px solid #e1e8ed',\r\n              }}\r\n              to=\"/mail/inbox\"\r\n            >\r\n              Inbox\r\n            </Link>\r\n          </ListItem>\r\n          <ListItem>\r\n            <Link\r\n              style={{\r\n                border:\r\n                  location.pathname.includes('unread') && '1px solid #e1e8ed',\r\n              }}\r\n              to=\"/mail/unread\"\r\n            >\r\n              Unread\r\n            </Link>\r\n          </ListItem>\r\n          <ListItem>\r\n            <Link\r\n              style={{\r\n                border:\r\n                  location.pathname.includes('sent') && '1px solid #e1e8ed',\r\n              }}\r\n              to=\"/mail/sent\"\r\n            >\r\n              Sent\r\n            </Link>\r\n          </ListItem>\r\n          <ListItem>\r\n            <Link\r\n              style={{\r\n                border:\r\n                  location.pathname.includes('trash') && '1px solid #e1e8ed',\r\n              }}\r\n              to=\"/mail/trash\"\r\n            >\r\n              Trash\r\n            </Link>\r\n          </ListItem>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TrashIcon = styled.span`\r\n  display: block;\r\n  margin-left: 10px;\r\n`;\r\n\r\nconst SideMenu = styled.aside`\r\n  width: 98%;\r\n  padding: 10px;\r\n  border: 1px solid #f5f8fa;\r\n`;\r\n\r\nconst List = styled.ul`\r\n  margin-top: 20px;\r\n  margin-bottom: 40px;\r\n`;\r\n\r\nconst ListItem = styled.li`\r\n  a {\r\n    display: block;\r\n    width: 100%;\r\n    padding: 8px 10px;\r\n    border: 1px solid #fff;\r\n  }\r\n  a:hover {\r\n    background: #f5f8fa;\r\n    border: 1px solid #f1f9ff;\r\n  }\r\n`;\r\n\r\nconst Compose = styled.button`\r\n  text-align: center;\r\n  width: 100%;\r\n  padding: 10px 0;\r\n  background: #28a745;\r\n  color: #fff;\r\n  font-size: 1rem;\r\n  border: 2px solid #28a745;\r\n`;\r\n\r\nexport default SideBar;\r\n",
    "import React from 'react';\r\n\r\nimport styled from 'styled-components';\r\n\r\nconst MailHeader = ({ checked, handleChange, pathname }) => {\r\n  return (\r\n    <header className=\"mailbox-header\">\r\n      <input\r\n        className=\"mail-checkbox\"\r\n        type=\"checkbox\"\r\n        id=\"checkAll\"\r\n        checked={checked}\r\n        onChange={handleChange}\r\n      />\r\n      <div className=\"mailbox-section-1\">\r\n        {pathname === 'sent' ? (\r\n          <h2 className=\"row-to\">To</h2>\r\n        ) : pathname === 'trash' ? (\r\n          <h2></h2>\r\n        ) : (\r\n          <h2 className=\"row-from\">From</h2>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"mailbox-section-2\">\r\n        <h2 className=\"row-subject\">Subject</h2>\r\n        <h2 className=\"row-sent\">Sent</h2>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nconst Check = styled.div`\r\n  position: relative;\r\n  width: 10%;\r\n`;\r\nconst Checkbox = styled.input`\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst From = styled.div`\r\n  width: 10%;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n`;\r\n\r\nconst Header = styled.header`\r\n  position: relative;\r\n  display: flex;\r\n  width: 100%;\r\n  padding: 10px 0;\r\n  color: #fff;\r\n  background: #636363;\r\n`;\r\nconst Sent = styled.div``;\r\nconst Subject = styled.div`\r\n  width: 50%;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  font-size: 1rem;\r\n  font-weight: normal;\r\n  margin-left: -7px;\r\n  padding-left: 0;\r\n`;\r\nexport default MailHeader;\r\n",
    "const timestampConverter = {\r\n  longDate: (timestamp) => {\r\n    const date = new Date(timestamp);\r\n    const day = date.getDate();\r\n    const month = convertMonth(date.getMonth() + 1);\r\n    const year = date.getFullYear();\r\n    console.log(date);\r\n    return `${day} ${month} ${year}`;\r\n  },\r\n  shortDate: (timestamp) => {\r\n    // adds a 0 if num is under 10\r\n    const standardize = (num) => {\r\n      if (num < 10) {\r\n        return `0${num}`;\r\n      } else {\r\n        return num;\r\n      }\r\n    };\r\n    const date = new Date(timestamp);\r\n\r\n    return `${date.getFullYear().toString().substring(2)}/${standardize(\r\n      date.getMonth() + 1\r\n    )}/${standardize(date.getDate())}`;\r\n  }\r\n};\r\n\r\nconst convertMonth = (num) => {\r\n  let month = '';\r\n  switch (parseInt(num)) {\r\n    case 1:\r\n      month = 'Jan';\r\n      break;\r\n    case 2:\r\n      month = 'Feb';\r\n      break;\r\n    case 3:\r\n      month = 'Mar';\r\n      break;\r\n    case 4:\r\n      month = 'Apr';\r\n      break;\r\n    case 5:\r\n      month = 'May';\r\n      break;\r\n    case 6:\r\n      month = 'Jun';\r\n      break;\r\n    case 7:\r\n      month = 'Jul';\r\n      break;\r\n    case 8:\r\n      month = 'Aug';\r\n      break;\r\n    case 9:\r\n      month = 'Sep';\r\n      break;\r\n    case 10:\r\n      month = 'Oct';\r\n      break;\r\n    case 11:\r\n      month = 'Nov';\r\n      break;\r\n    default:\r\n      month = 'Dec';\r\n  }\r\n\r\n  return month;\r\n};\r\n\r\nexport default timestampConverter;\r\n",
    "import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport timestampConverter from '../../../utilities/timestampConverter';\r\nimport { PathContext } from '../../../contexts/PathContext';\r\nimport styled from 'styled-components';\r\n\r\nconst Mail = ({\r\n  handleChange,\r\n  setCurrentMessage,\r\n  checkedState,\r\n  message,\r\n  index\r\n}) => {\r\n  const { pathname } = useContext(PathContext);\r\n\r\n  return (\r\n    <div\r\n      className=\"mail-row\"\r\n      style={{\r\n        backgroundColor: message.isRead ? '#e3e3e3' : ''\r\n      }}\r\n    >\r\n      <input\r\n        className=\"mail-checkbox\"\r\n        type=\"checkbox\"\r\n        id={`checkbox${index}`}\r\n        checked={false || checkedState[index]}\r\n        onChange={(e) => {\r\n          handleChange(e, index);\r\n        }}\r\n        style={{ background: message.read ? '#f5f8fa' : '' }}\r\n      />\r\n      <Link\r\n        className=\"mail-message\"\r\n        onClick={(e) => {\r\n          // Prevents leakage of click event on checkbox\r\n          e.stopPropagation();\r\n          setCurrentMessage(message);\r\n          localStorage.setItem('message', JSON.stringify(message));\r\n        }}\r\n        style={{\r\n          backgroundColor: message.isRead ? '#e3e3e3' : ''\r\n        }}\r\n        to={`/mail/${pathname}/${message._id}`}\r\n        id={index}\r\n      >\r\n        <div className=\"mailbox-section-1\">\r\n          <div className=\"row-from\">\r\n            {pathname === 'inbox' || pathname === 'unread'\r\n              ? message.sender\r\n              : pathname === 'sent'\r\n              ? message.recipient\r\n              : ''}\r\n          </div>\r\n        </div>\r\n        <div className=\"mailbox-row mailbox-section-2\">\r\n          <div className=\"row-subject\">{message.subject}</div>\r\n\r\n          <div className=\"row-sent\">\r\n            {document.body.clientWidth > 500\r\n              ? timestampConverter.longDate(message.date)\r\n              : timestampConverter.shortDate(message.date)}\r\n          </div>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\nconst Check = styled.div`\r\n  position: relative;\r\n  width: 10%;\r\n`;\r\n\r\nconst Date = styled.div`\r\n  font-size: 0.9rem;\r\n`;\r\nconst From = styled.div`\r\n  width: 30%;\r\n`;\r\nconst Message = styled(Link)``;\r\n\r\nconst Subject = styled.div`\r\n  width: 50%;\r\n`;\r\n\r\nexport default Mail;\r\n",
    "const validateMessage = (values) => {\r\n  let errors = {};\r\n\r\n  // Check for recipient\r\n  if (!values.recipient) {\r\n    errors.recipient = 'Recipient is required';\r\n  }\r\n\r\n  // Check for email\r\n  if (!values.subject) {\r\n    errors.subject = 'Subject is Required';\r\n  }\r\n\r\n  // Check for message\r\n  if (!values.text) {\r\n    errors.text = 'Message is required';\r\n  } else if (parseInt(values.text.length) > 500) {\r\n    errors.text = 'Message is too long';\r\n  }\r\n  return errors;\r\n};\r\n\r\nexport default validateMessage;\r\n",
    "import { useState, useEffect } from 'react';\r\n\r\nconst useForm = (callback, validate, recipient, subject) => {\r\n  const [values, setValues] = useState({\r\n    recipient: recipient,\r\n    subject: subject,\r\n    text: ''\r\n  });\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setValues({\r\n      ...values,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n\r\n    setErrors(validate(values));\r\n    setIsSubmitting(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(errors).length === 0 && isSubmitting) {\r\n      callback(values);\r\n    }\r\n  }, [errors]);\r\n\r\n  return { handleChange, values, handleClick, errors };\r\n};\r\n\r\nexport default useForm;\r\n",
    "import React, { useContext, useState, useEffect, useRef } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { PathContext } from '../../../contexts/PathContext';\r\nimport useAuth from '../../../hooks/useAuth';\r\nimport validate from '../../../utilities/validateMessage';\r\nimport getPath from '../../../utilities/getPath';\r\nimport useMessage from '../../../hooks/useMessage';\r\nimport { api } from '../../../api/resources';\r\n\r\nconst Message = () => {\r\n  const MAXCHARS = 500;\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { auth } = useAuth();\r\n  const { setPathname } = useContext(PathContext);\r\n  // When writing to a seller set recipient name to seller name\r\n  const [recipientName, setRecipientName] = useState(\r\n    location.state ? location.state.sender : ''\r\n  );\r\n\r\n  const [subject, setSubject] = useState(\r\n    location.state ? location.state.subject : ''\r\n  );\r\n  const [text, setText] = useState('');\r\n  const [messageID, setMessageID] = useState('');\r\n  const [threadID, setThreadID] = useState('');\r\n  const [isReply, setIsReply] = useState(false);\r\n  const [count, setCount] = useState(0);\r\n  const [color, setColor] = useState('#333333');\r\n  const [isValid, setIsValid] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n\r\n  const token = auth.token;\r\n  const userName = auth.name;\r\n\r\n  const recipientField = useRef();\r\n  const subjectField = useRef();\r\n  const textField = useRef();\r\n\r\n  const callback = (values) => {\r\n    setRecipientName(values.recipient);\r\n    setSubject(values.subject);\r\n    setText(values.text);\r\n    setIsValid(true);\r\n  };\r\n\r\n  const { handleChange, values, handleClick, errors } = useMessage(\r\n    callback,\r\n    validate,\r\n    recipientName,\r\n    subject\r\n  );\r\n\r\n  useEffect(() => {\r\n    setPathname(getPath(location.pathname));\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!isValid) {\r\n      return console.log('invalid');\r\n    }\r\n    const headers = new Headers();\r\n    headers.append('Content-Type', 'application/json');\r\n    headers.append('auth-token', token);\r\n\r\n    const options = {\r\n      method: 'POST',\r\n      headers: headers,\r\n      body: JSON.stringify({\r\n        subject,\r\n        userName,\r\n        recipientName,\r\n        text,\r\n        isReply,\r\n        messageID,\r\n        threadID,\r\n      }),\r\n    };\r\n\r\n    fetch(`${api.serverURL}/api/messages`, options)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        // Reinitialize states\r\n        setText('');\r\n        setCount(0);\r\n        navigate('/mail/inbox');\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }, [isValid]);\r\n\r\n  //  Changes the color of letter count displayed\r\n  useEffect(() => {\r\n    switch (true) {\r\n      case count <= MAXCHARS && count > 450:\r\n        setColor('#ffc107');\r\n        break;\r\n      case count > 500:\r\n        setColor('#dc3545');\r\n        break;\r\n      default:\r\n        setColor('#333333');\r\n    }\r\n  }, [count]);\r\n\r\n  return (\r\n    <div className=\"message-container\">\r\n      <main className=\"content\">\r\n        <div className=\"message-content\">\r\n          <section className=\"message-form\">\r\n            <div className={`error-msg`}>{errorMsg}</div>\r\n            <form>\r\n              {errors.recipient ? (\r\n                <p className=\"error\">{errors.recipient}</p>\r\n              ) : (\r\n                <label htmlFor=\"recipient\">Recipient:</label>\r\n              )}\r\n              <input\r\n                className={errors.recipient && 'empty-field'}\r\n                id=\"recipient\"\r\n                type=\"text\"\r\n                name=\"recipient\"\r\n                value={\r\n                  location.state ? location.state.sender : values.recipient\r\n                }\r\n                ref={recipientField}\r\n                onChange={handleChange}\r\n              />\r\n              {errors.subject ? (\r\n                <p className=\"error\">{errors.subject}</p>\r\n              ) : (\r\n                <label htmlFor=\"subject\">Subject:</label>\r\n              )}\r\n              <input\r\n                className={errors.subject && 'empty-field'}\r\n                id=\"subject\"\r\n                type=\"text\"\r\n                name=\"subject\"\r\n                value={location.state ? location.state.subject : values.subject}\r\n                ref={subjectField}\r\n                onChange={handleChange}\r\n              />\r\n              {errors.text ? (\r\n                <p className=\"error\">{errors.text}</p>\r\n              ) : (\r\n                <label htmlFor=\"text\">Message:</label>\r\n              )}\r\n              <textarea\r\n                className={errors.text && 'empty-field'}\r\n                id=\"text\"\r\n                name=\"text\"\r\n                value={values.text}\r\n                ref={textField}\r\n                onChange={(e) => {\r\n                  setCount(e.target.value.length);\r\n                  handleChange(e);\r\n                }}\r\n              ></textarea>\r\n\r\n              <footer>\r\n                <span className=\"word-counter\">\r\n                  <span style={{ color: color }}> {count} </span>\r\n                  <span> / {MAXCHARS}</span>\r\n                </span>\r\n                <button className=\"item-button success\" type=\"button\" onClick={handleClick}>\r\n                  Send\r\n                </button>\r\n              </footer>\r\n            </form>\r\n          </section>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n",
    "import React, { useContext, useEffect } from 'react';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { FiArrowLeftCircle } from 'react-icons/fi';\r\nimport timestampConverter from '../../../utilities/timestampConverter';\r\nimport getPath from '../../../utilities/getPath';\r\nimport { PathContext } from '../../../contexts/PathContext';\r\nimport useAuth from '../../../hooks/useAuth';\r\nimport { api } from '../../../api/resources';\r\nimport styled from 'styled-components';\r\n\r\nconst Message = ({ currentMessage, setMessages, setLoading }) => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { pathname, setPathname } = useContext(PathContext);\r\n  const { auth } = useAuth();\r\n\r\n  useEffect(() => {\r\n    if (!currentMessage) {\r\n      currentMessage = JSON.parse(localStorage.getItem('message'));\r\n      // localStorage.setItem('message', JSON.stringify(currentMessage));\r\n    }\r\n    localStorage.setItem('message', JSON.stringify(currentMessage));\r\n  }, []);\r\n  // Set isRead status in database for current message\r\n  const setIsReadStatus = (status) => {\r\n    // Reset path value\r\n    // if (!loading) {\r\n    setPathname(null);\r\n    setLoading(true);\r\n    const updates = {\r\n      userID: auth.id,\r\n      messageID: currentMessage._id,\r\n      isReadStatus: status,\r\n    };\r\n    const headers = new Headers();\r\n    headers.append('Content-type', 'application/json');\r\n    headers.append('auth-token', auth.token);\r\n\r\n    const options = {\r\n      method: 'PATCH',\r\n      headers: headers,\r\n      body: JSON.stringify(updates),\r\n    };\r\n    fetch(`${api.serverURL}/api/messages/read`, options)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        // Update path value to trigger useEffect in MailBox component to show updated list\r\n        // of current view\r\n\r\n        setLoading(false);\r\n        setPathname(getPath(location.pathname));\r\n        if (currentMessage.isRead) {\r\n          navigate(`/mail/${pathname}`);\r\n        }\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  // Set isTrash status in database for current message\r\n  const setIsTrashStatus = (status) => {\r\n    setPathname(null);\r\n\r\n    setLoading(true);\r\n\r\n    const updates = {\r\n      userID: auth.id,\r\n      messageID: currentMessage._id,\r\n      isSentMessage: currentMessage.isSent,\r\n      isTrashStatus: status,\r\n    };\r\n    const headers = new Headers();\r\n    headers.append('Content-type', 'application/json');\r\n    headers.append('auth-token', auth.token);\r\n\r\n    const options = {\r\n      method: 'PATCH',\r\n      headers: headers,\r\n      body: JSON.stringify(updates),\r\n    };\r\n    fetch(`${api.serverURL}/api/messages/trash`, options)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setLoading(false);\r\n        localStorage.removeItem('message');\r\n        setPathname(getPath(location.pathname));\r\n        navigate(`/mail/${pathname}`);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  const handleDeleteClick = (message) => {\r\n    const deleted = [message];\r\n\r\n    setLoading(true);\r\n\r\n    const updates = {\r\n      userID: auth.id,\r\n      toBeDeleted: deleted,\r\n    };\r\n    const headers = new Headers();\r\n    headers.append('Content-type', 'application/json');\r\n    headers.append('auth-token', auth.token);\r\n\r\n    const options = {\r\n      method: 'DELETE',\r\n      headers: headers,\r\n      body: JSON.stringify(updates),\r\n    };\r\n\r\n    fetch(`${api.serverURL}/api/messages/delete`, options)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        setPathname(getPath(location.pathname));\r\n        setMessages(data.data.length > 0 ? data.data : []);\r\n        localStorage.removeItem('message');\r\n        navigate(`/mail/${pathname}`);\r\n      });\r\n  };\r\n\r\n  // Change isRead status to true\r\n  useEffect(() => {\r\n    if (!currentMessage.isRead) {\r\n      setIsReadStatus(true);\r\n    }\r\n  }, [location]);\r\n  console.log(currentMessage);\r\n  return (\r\n    <div className=\"message-container\">\r\n      <div>\r\n        <div\r\n          className=\"go-back\"\r\n          onClick={() => {\r\n            localStorage.removeItem('message');\r\n            navigate(`/mail/${pathname}`);\r\n          }}\r\n        >\r\n          <FiArrowLeftCircle />{' '}\r\n          <p>\r\n            Back To {pathname && pathname.charAt(0).toUpperCase() + pathname.substring(1)}\r\n          </p>\r\n        </div>\r\n        <div className=\"message-details\">\r\n          {pathname === 'inbox' ? (\r\n            <Detail>\r\n              From: <strong>{currentMessage.sender}</strong>\r\n            </Detail>\r\n          ) : (\r\n            <Detail>\r\n              To: <strong>{currentMessage.recipient}</strong>\r\n            </Detail>\r\n          )}\r\n\r\n          <Detail>\r\n            Subject: <strong>{currentMessage.subject}</strong>\r\n          </Detail>\r\n          <div>\r\n            Sent:{' '}\r\n            <strong>{timestampConverter.longDate(currentMessage.date)}</strong>\r\n          </div>\r\n        </div>\r\n        <div className=\"mail-content\">{currentMessage.text}</div>\r\n      </div>\r\n      <div className=\"item-buttons column\">\r\n        <button\r\n          className=\"item-button row-3 success\"\r\n          type=\"button\"\r\n          onClick={() => {\r\n            navigate({ pathname: '/mail/message', state: currentMessage });\r\n          }}\r\n        >\r\n          Reply\r\n        </button>\r\n\r\n        {pathname === 'trash' ? (\r\n          !currentMessage.isSent ? (\r\n            <button\r\n              className=\"item-button row-3 primary\"\r\n              type=\"button\"\r\n              onClick={() => {\r\n                localStorage.removeItem('message');\r\n                setIsTrashStatus(false);\r\n              }}\r\n            >\r\n              Move to Inbox\r\n            </button>\r\n          ) : (\r\n            <button\r\n              className=\"item-button row-3 primary\"\r\n                type=\"button\"\r\n              onClick={() => {\r\n                localStorage.removeItem('message');\r\n                setIsTrashStatus(false);\r\n              }}\r\n            >\r\n              Move to Sent\r\n            </button>\r\n          )\r\n        ) : pathname === 'inbox' ? (\r\n          <button\r\n            className=\"item-button row-3 primary\"\r\n              type=\"button\"\r\n            onClick={() => {\r\n              // localStorage.removeItem('message');\r\n              setIsReadStatus(false);\r\n              if (!currentMessage.isRead) {\r\n                navigate('/mail/inbox');\r\n              } else {\r\n                localStorage.removeItem('message');\r\n              }\r\n            }}\r\n          >\r\n            Mark As Unread\r\n          </button>\r\n        ) : (\r\n          ''\r\n        )}\r\n        {pathname !== 'trash' ? (\r\n          <button\r\n            className=\"item-button row-3 danger\"\r\n            type=\"button\"\r\n            onClick={() => {\r\n              setIsTrashStatus(true);\r\n            }}\r\n          >\r\n            Move To Bin\r\n          </button>\r\n        ) : (\r\n          <button\r\n            className=\"item-button row-3 danger\"\r\n              type=\"button\"\r\n            onClick={() => {\r\n              handleDeleteClick(currentMessage);\r\n            }}\r\n          >\r\n            Delete\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nconst Main = styled.main``;\r\n\r\nconst Detail = styled.p``;\r\nconst Section = styled.section`\r\n  padding: 5px 10px;\r\n  border-bottom: 1px solid #e1e8ed;\r\n  margin-bottom: 25px;\r\n`;\r\nconst Content = styled.div`\r\n  padding: 0 10px;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 17%;\r\n  padding: 7px;\r\n  border: 1px solid #e1e8ed;\r\n  &:hover {\r\n    cursor: pointer;\r\n    opacity: 0.8;\r\n  }\r\n`;\r\n\r\nconst Reply = styled(Link)`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 17%;\r\n  padding: 7px;\r\n  border: 1px solid #e1e8ed;\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  width: 100%;\r\n`;\r\nconst Header = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding-bottom: 10px;\r\n  margin-bottom: 25px;\r\n`;\r\n\r\nconst Back = styled.a`\r\n  backgound: none;\r\n  padding: 0;\r\n  margin: 0;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport default Message;\r\n",
    "import React, { Fragment, useContext, useState, useEffect } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport SideBar from './SideBar';\r\nimport MailHeader from './MailHeader';\r\nimport Mail from './Mail';\r\nimport ComposeMessage from './ComposeMessage';\r\nimport Loading from '../../layout/Loading';\r\nimport Message from './Message';\r\nimport useAuth from '../../../hooks/useAuth';\r\nimport getPath from '../../../utilities/getPath';\r\nimport { PathContext } from '../../../contexts/PathContext';\r\nimport { api } from '../../../api/resources';\r\nimport styled from 'styled-components';\r\n\r\nconst Inbox = () => {\r\n  const { auth, setUnreadMail } = useAuth();\r\n  const { pathname, setPathname } = useContext(PathContext);\r\n\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = useState(false);\r\n  const [messages, setMessages] = useState([]);\r\n  // Message selected on click by user. Passed to Conversation. Set in Mail\r\n  const [currentMessage, setCurrentMessage] = useState(\r\n    localStorage.getItem('message')\r\n      ? JSON.parse(localStorage.getItem('message'))\r\n      : {}\r\n  );\r\n  const [checked, setChecked] = useState(false);\r\n  const [isTrash, setIsTrash] = useState(false);\r\n  const [checkedState, setCheckedState] = useState([]);\r\n\r\n  // Set path on page load\r\n  useEffect(() => {\r\n    // console.log(path);\r\n    setPathname(getPath(location.pathname));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // console.log('path', path);\r\n    if (pathname !== 'message' && pathname) {\r\n      // console.log(path);\r\n      setLoading(true);\r\n      // setPath(location.pathname.split('/')[2]);\r\n      setChecked(false);\r\n\r\n      const headers = new Headers();\r\n      headers.append('Content-type', 'application/json');\r\n      headers.append('auth-token', auth.token);\r\n\r\n      const options = {\r\n        method: 'GET',\r\n        headers: headers,\r\n      };\r\n\r\n      fetch(`${api.serverURL}/api/messages/${pathname}/${auth.id}`, options)\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (data.data) {\r\n            // console.log(data.data);\r\n            if (pathname === 'inbox' || pathname === 'unread') {\r\n              const unreadMail = data.data.filter((message) => {\r\n                return !message.isRead && !message.isTrash;\r\n              });\r\n\r\n              setUnreadMail(unreadMail.length);\r\n            }\r\n            setMessages(data.data);\r\n          } else {\r\n            setMessages([]);\r\n          }\r\n\r\n          setLoading(false);\r\n        })\r\n        .catch((error) => console.log(error));\r\n    }\r\n  }, [pathname]);\r\n\r\n  // Populate checkedState on page reload/refresh\r\n  useEffect(() => {\r\n    // If 'message' key value is defined in localStorage, it means\r\n    // that a single message selected is the current view.\r\n    // When that is the case needs to stay as is.\r\n    if (!localStorage.getItem('message')) {\r\n      setCheckedState(new Array(messages.length).fill(checked));\r\n    }\r\n  }, [messages]);\r\n\r\n  useEffect(() => {\r\n    setCheckedState(new Array(messages.length).fill(checked));\r\n    console.log(checked)\r\n    if (checked) {\r\n      setIsTrash(true);\r\n    } else {\r\n      setIsTrash(false);\r\n    }\r\n  }, [checked]);\r\n\r\n  // Triggers display of delete button in sidebar\r\n  useEffect(() => {\r\n    const isChecked = checkedState.find((state) => {\r\n      return state === true;\r\n    });\r\n\r\n    if (checked) {\r\n      if (!checkedState.includes(true)) {\r\n        setChecked(false);\r\n      }\r\n    }\r\n    if (isChecked) {\r\n      setIsTrash(true);\r\n    } else {\r\n      setIsTrash(false);\r\n    }\r\n  }, [checkedState]);\r\n\r\n  const handleChange = (e, position) => {\r\n    // Trigger all checkbox state change with useEffect above\r\n    if (e.target.id === 'checkAll') {\r\n      setChecked(!checked);\r\n    } else if (e.target.type === 'checkbox') {\r\n      // Set individual checkbox state\r\n      const newCheckedState = checkedState.map((state, index) => {\r\n        return position === index ? !state : state;\r\n      });\r\n\r\n      setCheckedState(newCheckedState);\r\n      localStorage.setItem('checkedState', JSON.stringify(newCheckedState));\r\n      navigate(`/mail/${location.pathname.split('/')[2]}`);\r\n    }\r\n  };\r\n  // console.log(path);\r\n  return (\r\n    <div className=\"content inbox\">\r\n      <header className=\"header\">\r\n        <h2 className=\"title\">Inbox</h2>\r\n      </header>\r\n      <main className=\"main\">\r\n        <div className=\"mailbox-aside\">\r\n          <SideBar\r\n            isTrash={isTrash}\r\n            checkedState={checkedState}\r\n            setMessages={setMessages}\r\n            setLoading={setLoading}\r\n            messages={messages}\r\n            user={auth}\r\n          />\r\n        </div>\r\n        <div className=\"mailbox-content\">\r\n          {location.pathname === '/mail/inbox' ||\r\n            location.pathname === '/mail/sent' ||\r\n            location.pathname === '/mail/unread' ||\r\n            location.pathname === '/mail/trash' ? (\r\n            <Fragment>\r\n              <MailHeader\r\n                handleChange={handleChange}\r\n                checked={checked}\r\n                pathname={pathname}\r\n                checkedState={checkedState}\r\n                messages={messages}\r\n              />\r\n              <Messages>\r\n                {loading || !messages ? (\r\n                  <Loading />\r\n                ) : (\r\n                  messages.map((message, index) => {\r\n                    return (\r\n                      <Mail\r\n                        key={index}\r\n                        setCurrentMessage={setCurrentMessage}\r\n                        handleChange={handleChange}\r\n                        checkedState={checkedState}\r\n                        message={message}\r\n                        index={index}\r\n                        userID={auth.id}\r\n                      />\r\n                    );\r\n                  })\r\n                )}\r\n              </Messages>\r\n            </Fragment>\r\n          ) : pathname === 'message' ? (\r\n            <ComposeMessage />\r\n          ) : (\r\n            <Message\r\n              currentMessage={currentMessage}\r\n              setMessages={setMessages}\r\n              setLoading={setLoading}\r\n            />\r\n          )}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst Content = styled.div`\r\n  width: 80%;\r\n  padding: 10px;\r\n  border: 1px solid #f5f8fa;\r\n`;\r\n\r\nconst Messages = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow-y: scroll;\r\n  height: 70vh;\r\n`;\r\n\r\nconst Side = styled.aside`\r\n  width: 20%;\r\n`;\r\n\r\nexport default Inbox;\r\n",
    "import {\r\n  Route,\r\n  Routes,\r\n  Navigate\r\n} from 'react-router-dom';\r\nimport Layout from './components/layout/Layout';\r\nimport RequireAuth from './components/auth/RequireAuth';\r\nimport RequireNotAuth from './components/auth/RequireNotAuth';\r\nimport AuthPage from './components/views/AuthPage';\r\nimport Login from './components/auth/forms/Login';\r\nimport Signup from './components/auth/forms/Signup';\r\nimport Settings from './components/auth/Settings';\r\nimport ResetPassword from './components/auth/ResetPassword';\r\nimport Home from './components/views/Home';\r\nimport Contact from './components/views/Contact';\r\nimport About from './components/views/About';\r\nimport Profile from './components/views/Profile';\r\nimport SearchResult from './components/views/search/SearchResult';\r\nimport 404 from './components/views/404';\r\nimport CardNotFound from './components/views/search/CardNotFound';\r\nimport ShoppingCart from './components/views/ShoppingCart';\r\nimport Inbox from './components/views/mail/Inbox';\r\nimport './assets/css/reset.css';\r\nimport './App.css';\r\nimport './assets/css/utilities.css';\r\nimport './assets/css/style.css';\r\nimport './assets/css/navbar.css';\r\nimport './assets/css/form.css';\r\nimport './assets/css/media-queries.css';\r\n\r\nconst App = () => {\r\n\r\n  return (\r\n    <Routes>\r\n      <Route path=\"/\" element={<Layout />} >\r\n\r\n        {/* Public routes */}\r\n        <Route path=\"shopping-cart\" element={<ShoppingCart />} />\r\n        <Route path=\"search-result/not-found/:cardName\" element={<CardNotFound />} />\r\n        {/* Public routes not auth */}\r\n        <Route element={<RequireNotAuth />}>\r\n          <Route exact path=\"/\" element={<Home />} />\r\n          <Route path=\"about\" element={<About />} />\r\n          <Route path=\"contact\" element={<Contact />} />\r\n          <Route path=\"login\" element={<Login />} />\r\n          <Route path=\"signup\" element={<Signup />} />\r\n          <Route path=\"reset-password\" element={<ResetPassword />} />\r\n          <Route path=\"search-result/catalog/:cardName\" element={<SearchResult />} />\r\n        </Route>\r\n\r\n        {/* Auth protected routes */}\r\n        <Route element={<RequireAuth />}>\r\n          <Route path=\"me\" exact element={<Navigate replace to=\"../me/home\" />} />\r\n          <Route path=\"me/:path\" element={<AuthPage />} />\r\n          <Route path=\"settings\" element={<Settings />} />\r\n          <Route path=\"profile\" element={<Profile />} />\r\n          <Route path=\"search-result/catalog/:cardName/:userID\" element={<SearchResult />} />\r\n          <Route path=\"search-result/collection/:query\" element={<SearchResult />} />\r\n          <Route path=\"search-result/api/:cardName\" element={<SearchResult />} />\r\n          <Route path=\"mail/inbox\" element={<Inbox />} />\r\n          <Route path=\"mail/:handle/:handle\" element={<Inbox />} />\r\n          <Route path=\"mail/unread\" element={<Inbox />} />\r\n          <Route path=\"mail/sent\" element={<Inbox />} />\r\n          <Route path=\"mail/trash\" element={<Inbox />} />\r\n          <Route path=\"mail/message\" element={<Inbox />} />\r\n        </Route>\r\n\r\n        {/* Catch all */}\r\n        <Route path=\"*\" element={<404 />} />\r\n      </Route>\r\n    </Routes >\r\n  );\r\n};\r\n\r\nexport default App;\r\n",
    "import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\r\nimport { PathProvider } from './contexts/PathContext';\r\nimport { AuthProvider } from './contexts/AuthContext';\r\nimport { MailProvider } from './contexts/MailContext';\r\nimport { SearchProvider } from './contexts/SearchContext';\r\nimport { ShoppingCartProvider } from './contexts/ShoppingCartContext';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter >    \r\n      <PathProvider>\r\n        <AuthProvider>\r\n          <MailProvider>\r\n            <SearchProvider>\r\n                <ShoppingCartProvider>\r\n                    <Routes>\r\n                      <Route path=\"/*\" element={<App />} />\r\n                    </Routes>\r\n              </ShoppingCartProvider>\r\n            </SearchProvider>\r\n          </MailProvider>\r\n        </AuthProvider>\r\n      </PathProvider>\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"
  ],
  "sourceRoot": ""
}
